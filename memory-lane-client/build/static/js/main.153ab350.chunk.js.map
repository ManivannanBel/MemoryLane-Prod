{"version":3,"sources":["components/main/moment/Img.module.css","components/main/moment/MomentImg.module.css","components/main/moment/memory/UserImg.module.css","images/login/fblogo.png","images/login/googlelogo.png","components/header/SearchBar.module.css","components/main/memoryLane/MemoryLane.module.css","components/main/profile/Profile.module.css","components/main/profile/ProfileImage.tsx","actions/profileActions.ts","actions/types.ts","components/main/profile/relationshipButtons/AddFriend.tsx","components/main/profile/relationshipButtons/RequestSent.tsx","components/main/profile/relationshipButtons/AcceptRequest.tsx","components/main/profile/relationshipButtons/Friends.tsx","components/main/profile/relationshipButtons/Unblock.tsx","components/main/profile/Profile.tsx","actions/relationshipActions.tsx","components/main/moment/Img.tsx","components/main/moment/MomentImg.tsx","components/main/moment/selectedMoment/SelectedImg.tsx","components/main/moment/memory/AddMemory.tsx","components/main/moment/memory/UserImg.tsx","components/main/moment/memory/Memory.tsx","actions/memoryActions.ts","components/main/moment/memory/Memories.tsx","components/main/moment/selectedMoment/SelectedMoment.tsx","components/main/moment/momentMenu/MeatballIco.tsx","actions/momentActions.ts","components/main/moment/editSelectedMoment/EditImg.tsx","components/main/moment/editSelectedMoment/EditSelectedMoment.tsx","components/main/moment/editSelectedMoment/EditMomentModal.tsx","components/main/moment/momentMenu/DropdownMenuMoment.tsx","components/main/moment/selectedMoment/SelectedModal.tsx","components/main/moment/Moment.tsx","actions/uiActions.ts","components/main/createMoment/SelectedImage.tsx","components/main/createMoment/SelectedImages.tsx","components/main/createMoment/datePicker/DatePicker.tsx","components/main/createMoment/addGroup/AddGroupModal.tsx","components/main/createMoment/CreateMoment.tsx","components/main/personalMemoryLane/PersonalMemoryLane.tsx","components/main/Main.tsx","reducers/profileReducer.ts","reducers/authReducer.ts","reducers/errorReducer.ts","reducers/headerReducer.ts","reducers/momentReducer.ts","reducers/memoryReducer.ts","reducers/timelineUIReducer.ts","reducers/relationshipReducer.tsx","reducers/memoryLaneReducer.ts","reducers/index.ts","store.ts","utils/setAuthToken.ts","actions/authActions.ts","actions/headerActions.ts","components/auth/LoginModel.tsx","components/auth/RegisterModel.tsx","components/header/UserImg.tsx","components/header/SearchResults.tsx","components/header/SearchBar.tsx","components/header/Header.tsx","components/main/memoryLane/MemoryLane.tsx","actions/memoryLaneActions.ts","utils/ProtectedRoute.tsx","App.tsx","serviceWorker.ts","index.tsx","components/main/moment/editSelectedMoment/EditSelectedMoment.module.css","components/main/moment/Moment.module.css","components/main/moment/selectedMoment/SelectedMoment.module.css","components/main/createMoment/CreateMoment.module.css","components/main/createMoment/addGroup/AddGroupModal.module.css","components/main/moment/memory/Memories.module.css","components/main/personalMemoryLane/PersonalMemoryLane.module.css","components/header/Header.module.css","components/main/moment/momentMenu/DropdownMenuMoment.module.css","components/main/profile/ProfileImage.module.css","components/main/moment/momentMenu/MeatballIco.module.css","components/header/SearchResults.module.css","components/main/moment/selectedMoment/SelectedModal.module.css","components/main/moment/editSelectedMoment/EditMomentModal.module.css","components/main/moment/memory/AddMemory.module.css","components/main/moment/editSelectedMoment/EditImg.module.css","components/main/moment/selectedMoment/SelectedImg.module.css","components/main/createMoment/SelectedImages.module.css"],"names":["module","exports","connect","state","auth","updateProfileImage","username","file","dispatch","a","formData","FormData","append","axios","put","headers","res","type","payload","profileImage","data","console","log","props","useState","src","setSrc","showOverlay","setShowOverlay","setImage","useEffect","onError","hoverOn","className","profileImageStyles","cnt","pIOverlay","onMouseLeave","camCov","camIco","icon","faCameraRetro","color","size","uploadImgInp","id","name","accept","onChange","event","imgFile","Object","values","target","files","prfImg","prfsvg","onMouseEnter","faUserCircle","alt","AddFriend","Button","profileStyles","frndReqBtn","onClick","sendFriendRequest","faUserPlus","RequestSent","faUserClock","AcceptRequest","Fragment","frndRqSnt","firstname","acceptFriendRequest","rejectRequest","faUserTimes","Friends","showOpts","setShowOpts","relStsBtnWrpr","faUserFriends","relBtnDrpDwn","relOpts","unfriend","block","Unblock","unblock","profile","relationshipStatus","relationship","getProfileData","get","response","getRelationshipStatus","post","user2username","cancelRequest","useParams","setEmail","setFirstname","lastname","setLastname","Date","createdDate","setCreatedDate","setPhone","setProfileImage","email","createdAt","phone","Row","Col","md","status","userAction","renderRelationshipButton","namesDiv","names","toDateString","toString","Img","ImgStyles","image","style","width","height","img","draggable","MomentImg","momentImgStyles","momentImg","openMoment","SelectedImg","loading","setLoading","setFile","imgRef","useRef","current","selectedImgStyles","container","ref","selectedImg","onLoad","e","AddMemory","memory","setMemory","addMemoryStyles","bttmDiv","Form","onSubmit","preventDefault","length","createMemory","Control","inpTa","as","rows","placeholder","value","adMryBtn","UserImg","userImgStyles","deleteMemory","moment","delete","memoriesStyles","memTxt","memUsrNm","to","owner","profilePic","delIco","faTrashAlt","momentId","Mrywrpr","memoriesMap","memories","getMemories","memoriesResponse","memoriesPayload","memoryResponse","_memory","memoryPayload","setMemories","tMem","Array","from","memWrapr","memoriesTitle","memLiCov","map","key","li","adMem","newMemory","SelectedMoment","title","description","currentFile","setCurrentFile","selectedMomentStyles","selectedMoment","clMoment","lftCov","imgFNameCont","profPicSm","uname","imgNav","lAr","faArrowAltCircleLeft","rAr","faArrowAltCircleRight","generateImages","crMoment","rw1Ht","desc","rw2Ht","MeatballIco","meatballStyles","menu__wrapper","menu_item_meatball","circle","ImgCompressionOptions","maxSizeMB","maxIteration","maxWidthOrHeight","useWebWorker","EditImg","index","editImgStyles","imgCov","removeImg","removeImage","url","updateMoment","dataToBeUpdated","newImages","imageCompression","updatedMomentResponse","momentData","date","group","FileType","setTitle","setDescription","existingfiles","setExistingFiles","filesRemoved","setFilesRemoved","updating","setUpdating","setNewImages","imageswarning","setImagesWarning","setShow","onImagesSelect","imageFiles","concat","slice","alreadyExisting","push","tImage","splice","editSelectedMomentStyles","optTit","isArray","updated","existingUrls","JSON","stringify","ti","imgs","displayImages","URL","createObjectURL","recentlyAdded","uploadImgBtnGroup","uploadImgBtn","faImages","multiple","requiredRows","pointer","r","cols","c","xs","renderImages","updtBtn","EditMomentModal","show","Modal","backdropClassName","selectedModalStyles","backdrop","selectedModel","centered","trBtnWrpr","closeBtn","setShowEditPanel","deleteMoment","result","showEditPanel","closeMenu","setCloseMenu","remove","onBlur","setTimeout","dropdownMenuMomentStyles","drpdwnLst","arwWrpr","arwUp","owned","lst","lstItm","authUName","setOwned","drpdwn","closeMoment","previousMenu","timelineUI","previouslySelectedDropdown","currentMenu","currentlySelectedDropdown","selectMenuInTimeLine","selected","setSelected","setDate","fullDate","momentjs","format","moreDesc","setMoreDesc","createDate","_date","_createdDate","MomentStyles","wrpr","profPic","bsPrefix","dtWrpr","OverlayTrigger","delay","placement","overlay","ttp","lftArr","dtTTip","mtbl","_desc","match","showMoreBtn","descSplit","split","shrtDesc","renderDescription","SelectedImage","selectedImagesStyles","SelectedImages","images","DatePicker","datePickerElement","selectedDateElement","datesElement","mthElement","nextMthElement","prevMthElement","daysElement","months","currentDay","getDate","currentMonth","getMonth","currentYear","getFullYear","day","month","year","selectedDate","selectedDay","selectedMonth","selectedYear","textContent","formatDate","populateDates","innerHTML","amount_days","i","day_element","document","createElement","classList","add","addEventListener","dataset","appendChild","d","contains","toggle","userSearchResult","moments","searchUserQuery","query","_timeout","Map","groupMates","setGroupMates","searchResults","setSearchResults","searchQuery","setSearchQuery","showSuggestion","setShowSuggestion","temp","filter","has","trim","dialogClassName","addGroupStyles","modalDialog","model","ttle","input_tag","input_tag__tags","listRes","forEach","fullname","tempMap","removeTag","renderGroupMates","frm","onFocus","clearTimeout","inp","ulo","user","set","selectMate","btnWrpr","btn","keys","setGroup","setShowAddMates","createMoment","imgFiles","momentResponse","setImages","showAddMates","CreateMomentStyles","createMoment1","createText","cmInpt","cmInpttextarea","momentBtns","addGrpBtn","calCov","createMmtBtnCov","newMoment","window","alert","createMmtBtn","faPlus","userMoments","getUserMoments","clearUserMoments","dispacth","setMoments","sortByCreationDate","setSortByCreationDate","tArr","compare","sortByCreationDt","sortByMomentDt","sort","b","aDate","bDate","getTime","toggleSortType","PersonalMemoryLaneStyles","memoryLaneP","lane","ttlCov","ttl","mmtOrderTgl","tglOpt","tglSlctd","prsnlMryLnContainer","Main","Container","initialState","isAuth","message","showLoginPanel","showRegisterPanel","userMoment","newUserMoment","getMoments","newMemoriesMap","memoryDetails","tempMemoriesMap","initState","getStatus","rootReducer","combineReducers","actions","error","header","memoryLane","middleware","thunk","ReactReduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","store","navigator","userAgent","includes","createStore","composeWithDevTools","applyMiddleware","compose","setAuthToken","token","defaults","common","fetchUserData","setCurrentUser","decoded","logout","localStorage","removeItem","location","href","closeLoginRegisterPanel","loginUser","loginCreds","history","setItem","jwt_decode","useHistory","password","setPassword","Header","Body","fblogo","googleLogo","login","autoComplete","required","registerUser","userData","setUsername","confirmPassword","setConfirmPassword","newUser","borderRadius","objectFit","SearchResults","hideSuggestion","onResultClick","searchResultsStyles","upArr","resWrpr","searchTheQuery","clearSearchResults","timeout","unHideSuggestion","inline","FormControl","searchBarStyles","searchBar","headerState","getHeaderDetails","showLoginModal","setShowLoginModal","showSignUpModal","setShowSignUpModal","headerStyles","Navbar","bg","variant","expand","Brand","logo","Toggle","aria-controls","Collapse","Nav","clpse","Userlink","uName","signinButton","setQueryToLocal","loadMemoryLane","paramString","search","params","URLSearchParams","memoryLaneStyles","Component","component","otherProps","render","jwtToken","currentTime","now","exp","App","exact","path","MemoryLane","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.153ab350.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Img_image__3uih6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"momentImg\":\"MomentImg_momentImg__3nuau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"UserImg_img__E353J\"};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAYAAADwbH0HAAAEUElEQVR42rWWe0xbVRzHv1WzzRkTKEhMWAyaSWEbZBqNGmMc8RHfkZmhhfn4w7j42B9Ot5lNnSxGxnSPViMz+EimmfvHPzTitLwG0dnSdTh0TkoolLYMhEFpR7At9Po9t6emkJbegtzkk3Pbnns+53vO71wAMrwG9Sj16lFBXiHbyEs+PcpJMf7vy5uFDRSYSAPpJRfJOBmT7Shxku9ILSldlJDpSpjkEw40TALERTpJRxJ+I/1kUrb7yDWZp9RjC/GQIHEQawrhXH4lXSSsPpeNRzj5K7RJc7CHD0XJeXIqhcCeQLLf20iEDFG8Kq3Uk43d7DydJKW4Py33WOzp3+QCGZH3TjkJq5ysW3KPLxu6eaXDeXhqIEud5Rlik0JbwkA+8hPZKyv7flJF9pOTXNYhuUrn5WTuSpvUtxzXenPVND0JSW0SUbntHj3uY3tZippYwS3aJCcnJn+Hpn31FeBQHzDhy1WLI3F5/UzyOblSyzieXNzkzsG9mqTRIZSGGxAeXI1uF9DCc2tj+lOUBZniOJbqivyAI8pfUGZsCI0+jG4mbx1Yhm7KO3w5uHrpxI3oCp+AEj0DRemFEtiJQTcQ6AfKl0wabkQ+xVGiRH5EaLoN04oPyuRBVuU6rJj34Ur/DaSM3KaR22X/PJF2oyqNycMRi4oS7cQ3aWdd5a/mIP+QPzIgxOdeBiWvSnFEFccQn6s1iLdzoH5yMgMGyBtiqd+SovAc8S4N4tc4SC9pzgDRfzciTXg9hXjP0oobYZSimf/E3GOlFUc1iGs4iEJcKXCQE3PEfWSHEK+WYjX1DPda+QXKuYbLPZX1Bbo04jLytloscSrj9+NbeH9AyuPSJuKG0f9C/Bw7wyJlC2aE9PtvV45eddhwCTU3ly3qrFZOPEeRN0HcQnr4/d2xs2zBUaWNYp7hd47p+7B/XTsOlLjwYaEFpkLdgqTGQBYlPxNrgrhDXfqnJ1aqfZhyQ7BZpzxWn+9EzfpWHF5jo9QKs2GKHFxYWv8HxEMsUtqoHj2jf/Z4hrqCL1G7/iLMRUJoJx3EQQJkb0bSB5UXUTXmkkubWFhu8sDszofWFDPlMCXnpFTIbaSTTJJjpGheYZ1+Fd7baELFlBfl3LgqkXI8ltbod7JN8ZfOXLSNgysJieOt4ALpIV/BXPgM21vY/0aYDLfyfjP5FKa1XahfNgpzyWk829OMRxULjMEmVni7LLI7U8/aXPgxB4zItHF5PP1ZOQFuicFF/iR98nNstUysj/rlDtTlObD16zZVXhEeweaxnen3yFz0hUzeKYX2JIjfumQ7+zfTWjuOZNnxme4sdr0ZwpPBfdoLxGyoJZdkkrnp50P0szL5ID66borvv/czPxKm4oc4SIM8ViOy8OYT/i4nGiItXLnHF/ffgtnwfKyo1D0el0dsTO6taCfk92Jix/nS2brgF0/yFTDkc+AnyA5STd6V7XayiQmv1zrUv0Sbv7WxUKyqAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2Vgrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memoryLane\":\"MemoryLane_memoryLane__1fnPe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2UG9A\",\"username\":\"Profile_username__2oV0t\",\"namesDiv\":\"Profile_namesDiv__3TX0z\",\"names\":\"Profile_names__rB8M_\",\"frndReqBtn\":\"Profile_frndReqBtn__1mhWq\",\"relBtnDrpDwn\":\"Profile_relBtnDrpDwn__D7Uhk\",\"relStsBtnWrpr\":\"Profile_relStsBtnWrpr__3KYW4\",\"relOpts\":\"Profile_relOpts__1wh9n\",\"frndRqSnt\":\"Profile_frndRqSnt__sf4bM\"};","import React, { useState, useEffect } from \"react\";\r\nimport profileImageStyles from \"./ProfileImage.module.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCameraRetro, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { updateProfileImage } from '../../../actions/profileActions';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ProfileImage(props: any) {\r\n  //const {profileImage} : {profileImage : string} = props;\r\n\r\n  const [src, setSrc] = useState(\"\");\r\n  const [showOverlay, setShowOverlay] = useState(false);\r\n  const [image, setImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setSrc(props.profileImage);\r\n  }, [props.profileImage]);\r\n\r\n  const onError = () => {\r\n    setSrc(\r\n      \"https://firebasestorage.googleapis.com/v0/b/memory-lane-68e6c.appspot.com/o/prodef.png?alt=media&token=8e86bcd7-1651-40db-8dc7-93328e995243\"\r\n    );\r\n  };\r\n\r\n  const hoverOn = () => {\r\n    if(props.username === props.auth.username)\r\n      setShowOverlay(true);\r\n  };\r\n\r\n  const hoverOff = () => {\r\n    setShowOverlay(false);\r\n  };\r\n\r\n  const onSelectImg = (event : any) => {\r\n    let imgFile : any = Object.values(event.target.files)[0];\r\n    setImage(imgFile);\r\n    console.log(props.username);\r\n    props.updateProfileImage(props.username, imgFile);\r\n  }\r\n\r\n  const renderImage = () => {\r\n    if(src === ''){\r\n      return (\r\n        <div className={`${profileImageStyles.prfImg} ${profileImageStyles.prfsvg}`} onMouseEnter={hoverOn}>\r\n        <FontAwesomeIcon\r\n          icon={faUserCircle}\r\n          color={\"#a472ff\"}\r\n          size={\"10x\"}\r\n        />\r\n        </div>);\r\n    }else{\r\n      return (<img\r\n        className={profileImageStyles.prfImg}\r\n        src={src}\r\n        alt=\"\"\r\n        onError={onError}\r\n        onMouseEnter={hoverOn}\r\n      />);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={profileImageStyles.cnt}>\r\n      {showOverlay && (\r\n        <div className={profileImageStyles.pIOverlay} onMouseLeave={hoverOff}>\r\n          <div className={profileImageStyles.camCov}>\r\n            <FontAwesomeIcon\r\n              className={profileImageStyles.camIco}\r\n              icon={faCameraRetro}\r\n              color={\"#ffffff\"}\r\n              size={\"5x\"}\r\n            />\r\n          </div>\r\n          <input\r\n            className={profileImageStyles.uploadImgInp}\r\n            type=\"file\"\r\n            id=\"imgProfPic\"\r\n            name=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={onSelectImg}\r\n          />\r\n        </div>\r\n      )}\r\n      {renderImage()}\r\n    </div>\r\n  );\r\n}\r\n\r\nProfileImage.propTypes = {\r\n  updateProfileImage : PropTypes.func.isRequired,\r\n  auth : PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) =>( {\r\n  auth : state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, {updateProfileImage})(ProfileImage);\r\n","import { GET_PROFILE_DATA, GET_PROFILE_IMAGE, GET_USER_DETAILS_HEADER } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const getProfileData = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const response = await axios.get(`/api/v0/profile/${username}`);\r\n        //console.log(response);\r\n        \r\n        dispatch({\r\n            type : GET_PROFILE_DATA,\r\n            payload : response.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n        \r\n        // if(err.response.status === 401){\r\n        //     console.log('err 401');\r\n        // }else if(err.response.status === 404){\r\n        //     console.log('err 404');\r\n        // }else{\r\n        //     console.log('err');\r\n        // }\r\n    }\r\n}\r\n\r\nexport const getProfileImage = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const res = await axios.get(`/api/v0/profile/profileImg/${username}`);\r\n        dispatch({\r\n            type : GET_PROFILE_IMAGE,\r\n            payload : res.data\r\n        })\r\n    }catch(err){\r\n\r\n    }\r\n}\r\n\r\nexport const updateProfileImage = (username : string, file : File) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const formData = new FormData();\r\n        \r\n        formData.append('username', username);\r\n        formData.append('file', file);\r\n        \r\n        const res = await axios.put(`/api/v0/profile/profileImg`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            } \r\n        });\r\n        dispatch({\r\n            type : GET_USER_DETAILS_HEADER,\r\n            payload : {username : username, profileImage : res.data.profileImage}\r\n        })\r\n        dispatch({\r\n            type : GET_PROFILE_IMAGE,\r\n            payload : res.data\r\n        });\r\n        console.log(res);\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","//Profile\r\nexport const GET_PROFILE_DATA = 'GET_PROFILE_DATA';\r\nexport const GET_PROFILE_IMAGE = 'GET_PROFILE_IMAGE';\r\n\r\nexport const GET_USER_DETAILS_HEADER = 'GET_USER_DETAILS_HEADER';\r\nexport const GET_SEARCH_RESULTS = 'GET_SEARCH_RESULTS';\r\n\r\nexport const CREATE_MOMENT = 'CREATE_MOMENT';\r\nexport const GET_USER_MOMENTS = 'GET_USER_MOMENTS';\r\nexport const CLEAR_USER_MOMENTS = 'CLEAR_USER_MOMENTS';\r\nexport const DELETE_USER_MOMENTS = 'DELETE_USER_MOMENTS';\r\nexport const UPDATE_USER_MOMENTS = 'UPDATE_USER_MOMENTS';\r\nexport const GET_USER_SEARCH_RESULT = 'GET_USER_SEARCH_RESULT';\r\n\r\nexport const CREATE_MEMORY = 'CREATE_MEMORY';\r\nexport const GET_MEMORIES = 'GET_MEMORIES';\r\nexport const DELETE_MEMORY = 'DELETE_MEMORY';\r\n\r\nexport const FETCH_USER = 'FETCH_USER';\r\n\r\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER';\r\n\r\nexport const GET_ERROR = 'GET_ERROR';\r\n\r\nexport const SHOW_LOGIN_PANEL = 'SHOW_LOGIN_PANEL';\r\nexport const SHOW_REGISTER_PANEL = 'SHOW_REGISTER_PANEL';\r\nexport const CLOSE_LOGIN_REGISTER_PANEL = 'CLOSE_LOGIN_REGISTER_PANEL';\r\n\r\nexport const GET_RELATIONSHIP_STATUS = 'GET_RELATIONSHIP_STATUS';\r\n\r\n//UI\r\nexport const DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE = 'DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE';\r\n\r\nexport const LOAD_MEMORY_LANE = \"LOAD_MEMORY_LANE\";","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction AddFriend(props : any) {\r\n    return (\r\n        <Button className={profileStyles.frndReqBtn} onClick={props.sendFriendRequest}>Add friend&nbsp;<FontAwesomeIcon icon={faUserPlus} color={'white'}/></Button>\r\n    )\r\n}\r\n\r\nexport default AddFriend\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserClock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction RequestSent(props : any) {\r\n    return (\r\n        <Button className={profileStyles.frndReqBtn}>Request sent&nbsp;<FontAwesomeIcon icon={faUserClock} color={'white'}/></Button>\r\n    )\r\n}\r\n\r\nexport default RequestSent\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserClock, faUserTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction AcceptRequest(props : any) {\r\n    return (\r\n        <React.Fragment>\r\n            <div className={profileStyles.frndRqSnt}><strong>{props.firstname}</strong> has sent you a friend request</div>\r\n            <div className={profileStyles.frndRqSnt}>\r\n                <Button className={`${profileStyles.frndReqBtn} mr-2`} onClick={props.acceptFriendRequest}>Accept&nbsp;<FontAwesomeIcon icon={faUserClock} color={'white'}/></Button>\r\n                <Button className={profileStyles.frndReqBtn} onClick={props.rejectRequest}>Reject&nbsp;<FontAwesomeIcon icon={faUserTimes} color={'white'}/></Button>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AcceptRequest\r\n","import React, { useState } from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserFriends } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction Friends(props : any) {\r\n    const [showOpts, setShowOpts] = useState(false);\r\n    return (\r\n        <div className={profileStyles.relStsBtnWrpr}>\r\n            <Button className={profileStyles.frndReqBtn} onClick={() => setShowOpts(!showOpts)}>Friends&nbsp;<FontAwesomeIcon icon={faUserFriends} color={'white'}/></Button>\r\n            {showOpts &&\r\n                <div className={profileStyles.relBtnDrpDwn}>\r\n                    <div className={profileStyles.relOpts} onClick={() => props.unfriend()}>Unfriend</div>\r\n                    <div className={profileStyles.relOpts} onClick={() => props.block()}>Block</div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\n\r\nfunction Unblock(props : any) {\r\n    return (\r\n        <Button className={profileStyles.frndReqBtn} onClick={props.unblock}>Unblock&nbsp;</Button>\r\n    )\r\n}\r\n\r\nexport default Unblock\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PropsTypes from \"prop-types\";\r\nimport { getProfileData } from \"../../../actions/profileActions\";\r\nimport {\r\n  getRelationshipStatus,\r\n  sendFriendRequest,\r\n  acceptFriendRequest,\r\n  block,\r\n  unblock,\r\n  unfriend,\r\n  cancelRequest,\r\n  rejectRequest\r\n} from \"../../../actions/relationshipActions\";\r\nimport ProfileImage from \"./ProfileImage\";\r\nimport profileStyles from \"./Profile.module.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUserClock,\r\n  faUserFriends,\r\n  faUserPlus\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport AddFirend from \"./relationshipButtons/AddFriend\";\r\nimport RequestSent from \"./relationshipButtons/RequestSent\";\r\nimport AcceptRequest from \"./relationshipButtons/AcceptRequest\";\r\nimport Friends from \"./relationshipButtons/Friends\";\r\nimport Unblock from \"./relationshipButtons/Unblock\";\r\n\r\nfunction Profile(props: any) {\r\n  let { username } = useParams();\r\n\r\n  //const [username, setUsername] = useState('manivannan1234');\r\n  const [email, setEmail] = useState(\"\");\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [createdDate, setCreatedDate] = useState(new Date());\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [profileImage, setProfileImage] = useState(\r\n    \"https://avatars3.githubusercontent.com/u/34658746?s=460&u=23bb59d32de4568d04e18b27ac21642d2ec54407&v=4\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    //console.log(\"calling pa\")\r\n    //console.log(props.auth.username);\r\n    props.getProfileData(username);\r\n    if (props.auth.username !== username) {\r\n      props.getRelationshipStatus(username);\r\n    }\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    //setUsername(props.profile.username);\r\n    setEmail(props.profile.email);\r\n    setFirstname(props.profile.firstname);\r\n    setLastname(props.profile.lastname);\r\n    setCreatedDate(props.profile.createdAt);\r\n    setPhone(props.profile.phone);\r\n    setProfileImage(props.profile.profileImage);\r\n    //console.log(props);\r\n  }, [props.profile]);\r\n\r\n  const sendFriendRequest = () => {\r\n    props.sendFriendRequest(username);\r\n  };\r\n\r\n  const acceptFriendRequest = () => {\r\n    props.acceptFriendRequest(username);\r\n  };\r\n\r\n  const unfriend = () => {\r\n    props.unfriend(username);\r\n  };\r\n\r\n  const block = () => {\r\n    props.block(username);\r\n  };\r\n\r\n  const unblock = () => {\r\n    props.unblock(username);\r\n  };\r\n\r\n  const cancelRequest = () => {\r\n    props.cancelRequest(username);\r\n  };\r\n\r\n  const rejectRequest = () => {\r\n      props.rejectRequest(username);\r\n  }\r\n\r\n  const renderRelationshipButton = () => {\r\n    const status = props.relationshipStatus.status;\r\n    const userAction = props.relationshipStatus.userAction;\r\n    if (\r\n      status === \"NotFriends\" ||\r\n      (status === \"Declined\" && userAction === \"you\")\r\n    ) {\r\n      return (\r\n        <Row>\r\n          {/* {<Button className={profileStyles.frndReqBtn} onClick={sendFriendRequest}>Add firend&nbsp;<FontAwesomeIcon icon={faUserPlus} color={'white'}/></Button>} */}\r\n          <AddFirend sendFriendRequest={sendFriendRequest} />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Pending\" && userAction === \"you\") {\r\n      return (\r\n        <Row>\r\n          <RequestSent />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Pending\" && userAction === \"otherPerson\") {\r\n      return (\r\n        <Row>\r\n          <AcceptRequest\r\n            acceptFriendRequest={acceptFriendRequest}\r\n            firstname={firstname}\r\n            rejectRequest={rejectRequest}\r\n          />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Accepted\") {\r\n      return (\r\n        <Row>\r\n          <Friends unfriend={unfriend} block={block} />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Blocked\" && userAction === \"you\") {\r\n      return (\r\n        <Row>\r\n          <Unblock unblock={unblock} />\r\n        </Row>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={profileStyles.profile}>\r\n      <Row>\r\n        <Col md={4}>\r\n          <Row>\r\n            <ProfileImage profileImage={profileImage} username={username}/>\r\n          </Row>\r\n          {props.auth.username !== username && renderRelationshipButton()}\r\n        </Col>\r\n        <Col md={8} className=\"mt-2\">\r\n          <Row>\r\n            <Col>\r\n              <div className={profileStyles.username}>{username}</div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mt-2\">\r\n            <Col>\r\n              <div className={profileStyles.namesDiv}>\r\n                <span className={profileStyles.names}>{firstname}</span>\r\n                <span>&nbsp;</span>\r\n                <span className={profileStyles.names}>{lastname}</span>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>{new Date(createdDate).toDateString().toString()}</Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nProfile.propTypes = {\r\n  profile: PropsTypes.object.isRequired,\r\n  auth: PropsTypes.object.isRequired,\r\n  getProfileData: PropsTypes.func.isRequired,\r\n  getRelationshipStatus: PropsTypes.func.isRequired,\r\n  relationshipStatus: PropsTypes.object.isRequired,\r\n  sendFriendRequest: PropsTypes.func.isRequired,\r\n  acceptFriendRequest: PropsTypes.func.isRequired,\r\n  block: PropsTypes.func.isRequired,\r\n  unblock: PropsTypes.func.isRequired,\r\n  unfriend: PropsTypes.func.isRequired,\r\n  cancelRequest: PropsTypes.func.isRequired,\r\n  rejectRequest: PropsTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  profile: state.profile,\r\n  auth: state.auth,\r\n  relationshipStatus: state.relationship.relationshipStatus\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfileData,\r\n  getRelationshipStatus,\r\n  sendFriendRequest,\r\n  acceptFriendRequest,\r\n  block,\r\n  unblock,\r\n  unfriend,\r\n  cancelRequest,\r\n  rejectRequest\r\n})(Profile);\r\n","import { GET_RELATIONSHIP_STATUS } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const getRelationshipStatus = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.get(`/api/v0/R/${username}`);\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const sendFriendRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.post(`/api/v0/R/fr`,{user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const acceptFriendRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/acceptRequest`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const block = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/block`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const unfriend = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/unfriend`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const unblock = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/unblock`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const cancelRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/cancelRequest`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const rejectRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/rejectRequest`, {user2username : username});\r\n        console.log(relationshipStatus);\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}","import React from 'react'\r\nimport ImgStyles from './Img.module.css';\r\n\r\nfunction Img(props : any) {\r\n    //console.log(JSON.parse(props.img).url);\r\n    //console.log((props.img));\r\n    return (\r\n        <div>\r\n             <img className={ImgStyles.image} style={{width : '600px', height : '400px'}} src={props.img} alt=\"\" draggable=\"false\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Img\r\n","import React from 'react'\r\nimport Img from './Img'\r\nimport momentImgStyles from './MomentImg.module.css';\r\n\r\nfunction MomentImg(props : any) {\r\n    \r\n    return (\r\n        <div className={momentImgStyles.momentImg} onClick={props.openMoment}>\r\n           <Img img={props.img}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MomentImg\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport selectedImgStyles from './SelectedImg.module.css';\r\n\r\nfunction SelectedImg(props : any) {\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [file, setFile] = useState('');\r\n\r\n    const imgRef = useRef();\r\n\r\n    useEffect(() => {\r\n        setFile(props.image);\r\n        console.log(imgRef.current);\r\n        return () => {\r\n            // if(imgRef != undefined && imgRef.current != undefined )\r\n            //     (imgRef as any).current.remove();\r\n        }\r\n        // (imgRef as any).current = `<img ref={imgRef} className={selectedImgStyles.selectedImg} src={file} alt=\"\" onLoad={e => setLoading(false)}/>`;\r\n        console.log(imgRef)\r\n    }, [props.image]);\r\n\r\n    return (\r\n        <div className={selectedImgStyles.container}>\r\n            <img ref={imgRef} className={selectedImgStyles.selectedImg} src={file} alt=\"\" onLoad={e => setLoading(false)}/>\r\n            {loading &&\r\n                <div className=\"img-plh\" />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedImg\r\n","import React, { useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport addMemoryStyles from './AddMemory.module.css';\r\n\r\nfunction AddMemory(props : any) {\r\n    \r\n    const [memory, setMemory] = useState('');\r\n\r\n    const addMemory = (event) => {\r\n        event.preventDefault();\r\n        if(memory.length > 0)\r\n            props.createMemory(memory);\r\n    }\r\n\r\n    return (\r\n        <div className={addMemoryStyles.bttmDiv}>\r\n            <Form onSubmit={addMemory}>\r\n                <Form.Control className={`mb-2 ${addMemoryStyles.inpTa}`} as=\"textarea\" rows={4} placeholder=\"Add a memory\" value={memory} onChange={e => setMemory(e.target.value)}/>\r\n                <Button type=\"submit\" className={addMemoryStyles.adMryBtn}>Add memory</Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddMemory\r\n","import React from 'react'\r\nimport userImgStyles from './UserImg.module.css';\r\n\r\nfunction UserImg(props : any) {\r\n    return (\r\n        <React.Fragment>\r\n           <img className={userImgStyles.img} src={props.src}/> \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default UserImg\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport UserImg from \"./UserImg\";\r\nimport memoriesStyles from \"./Memories.module.css\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { deleteMemory } from '../../../../actions/memoryActions';\r\n\r\nfunction Memory(props : any) {\r\n    \r\n    const memory = props.memory;\r\n\r\n    const deleteMemory = () => {\r\n        props.deleteMemory(props.momentId, memory.id);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={memoriesStyles.memTxt}>\r\n                \r\n                <div className={memoriesStyles.memUsrNm}>\r\n                    <Link className={'no-a'} to={memory.owner.username}>\r\n                        <UserImg src={memory.owner.profilePic}/> {`${memory.owner.firstname} ${(memory.owner.lastname) ? memory.owner.lastname : ''}`}\r\n                    </Link>\r\n                    {(memory.owner.username === props.username) &&\r\n                    <FontAwesomeIcon className={memoriesStyles.delIco} icon={faTrashAlt} onClick={deleteMemory}/>}\r\n                </div>\r\n                \r\n                <div  className={memoriesStyles.Mrywrpr}>\r\n                    {memory.memory}\r\n              </div>\r\n            </div>\r\n          </div>\r\n    )\r\n}\r\n\r\nMemory.propTypes = {\r\n    username : PropTypes.string.isRequired,\r\n    deleteMemory : PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    username : state.auth.username\r\n})\r\n\r\nexport default connect(mapStateToProps, {deleteMemory})(Memory);\r\n","import { CREATE_MEMORY, GET_MEMORIES, DELETE_MEMORY } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\nimport { ICreateMemory } from '../types/requestPayloads/memory'; \r\nimport { IMemoryResponse, IMemoriesResponse } from '../types/responseTypes/memory';\r\n\r\nexport const createMemory = ( memory : ICreateMemory, momentId : string ) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const memoryResponse = await axios.post(`/api/v0/M/m/${momentId}`, memory);\r\n        //console.log(memoryResponse);\r\n        \r\n        const _memory : IMemoryResponse = {\r\n            id : memoryResponse.data.memory.id,\r\n            owner : memoryResponse.data.memory.owner,\r\n            memory : memoryResponse.data.memory.memory,\r\n            createdAt : memoryResponse.data.memory.createdAt\r\n        } \r\n\r\n        const memoryPayload = {\r\n            moment : memoryResponse.data.moment,\r\n            memory : _memory\r\n        }\r\n\r\n        dispatch({\r\n            type : CREATE_MEMORY,\r\n            payload : memoryPayload\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const getMemories = ( moment : string ) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const memoriesResponse = await axios.get(`/api/v0/M/m/${moment}`);\r\n        //console.log(memoriesResponse.data);   \r\n        const memoriesPayload : IMemoriesResponse = memoriesResponse.data;\r\n        //console.log(memoriesPayload);\r\n        dispatch({\r\n            type : GET_MEMORIES,\r\n            payload : memoriesPayload\r\n        })\r\n    }catch(err){    \r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const deleteMemory = (moment : string, memory : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        await axios.delete(`/api/v0/M/m/${moment}/${memory}`);\r\n        dispatch({\r\n            type : DELETE_MEMORY,\r\n            payload : {moment, memory}\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport memoriesStyles from \"./Memories.module.css\";\r\nimport AddMemory from \"./AddMemory\";\r\nimport Memory from \"./Memory\";\r\nimport { connect } from 'react-redux';\r\nimport { getMemories, createMemory } from '../../../../actions/memoryActions';\r\nimport PropTypes from 'prop-types'; \r\nimport { ICreateMemory } from '../../../../types/requestPayloads/memory';\r\n\r\nfunction Memories(props : any) {\r\n\r\n  const [memories, setMemories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    props.getMemories(props.momentId);\r\n  }, []); \r\n\r\n  useEffect(() => {\r\n        console.log(props.memoriesMap)\r\n        const tMem = (props.memoriesMap.get(props.momentId)) ? Array.from(props.memoriesMap.get(props.momentId).values()) : [];\r\n        setMemories(tMem);\r\n  }, [props.memoriesMap]);\r\n\r\n  const createMemory = (data : string) => {\r\n    console.log(\"create memory\")\r\n    const newMemory : ICreateMemory = {\r\n      memory : data\r\n    }\r\n    props.createMemory(newMemory, props.momentId);\r\n  }\r\n\r\n  const renderMemories = () => {\r\n    return (\r\n      memories.map(memory => \r\n        <li key={memory.id} className={memoriesStyles.li}>\r\n          <Memory memory={memory} momentId={props.momentId}/>\r\n        </li>\r\n      )\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={memoriesStyles.memWrapr}>\r\n      <div className={memoriesStyles.memoriesTitle}>Memories</div>\r\n      <div className={memoriesStyles.memLiCov}>\r\n      {renderMemories()}\r\n      </div>\r\n      <div className={memoriesStyles.adMem}>\r\n        <AddMemory createMemory={createMemory} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMemories.propTypes = {\r\n  getMemories : PropTypes.func.isRequired,\r\n  createMemory : PropTypes.func.isRequired,\r\n  memoriesMap : PropTypes.any.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n  memoriesMap : state.memories.memoriesMap\r\n})\r\n\r\nexport default connect(mapStateToProps, {getMemories, createMemory}) (Memories);\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport SelectedImg from './SelectedImg';\r\nimport selectedMomentStyles from './SelectedMoment.module.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleLeft, faArrowAltCircleRight} from '@fortawesome/free-solid-svg-icons';\r\nimport Memories from '../memory/Memories';\r\nimport momentReducer from '../../../../reducers/momentReducer';\r\nimport MeatballIco from '../momentMenu/MeatballIco';\r\n\r\n\r\n\r\nfunction SelectedMoment(props : any) {\r\n    const {id, title, description, files, owner} = props.moment;\r\n    const [currentFile, setCurrentFile] = useState(0);\r\n    console.log(files.length);\r\n\r\n    const right = () => {\r\n        if(currentFile < files.length) {\r\n            setCurrentFile(currentFile + 1);\r\n        }\r\n    }\r\n\r\n    const left = () => {\r\n        if(currentFile > 0){\r\n            setCurrentFile(currentFile - 1);\r\n        }\r\n    }\r\n\r\n    const generateImages = (currentFile : number) => {\r\n        console.log(currentFile);\r\n        return (<SelectedImg image={files[currentFile]} />)\r\n    }\r\n\r\n    return (\r\n        <div className={selectedMomentStyles.selectedMoment}>\r\n            <Row>\r\n                <Col md={7} className={selectedMomentStyles.clMoment}>\r\n                    <div className={selectedMomentStyles.lftCov}>\r\n                    <Link to={owner.username} className={'no-a'}>\r\n                    <div className={selectedMomentStyles.imgFNameCont}>\r\n                        <img src={owner.profilePic} className={selectedMomentStyles.profPicSm} />\r\n                        <div className={selectedMomentStyles.uname}>\r\n                             &nbsp;{`${owner.firstname} ${owner.lastname}`}\r\n                        </div>\r\n                    </div>\r\n                    </Link>\r\n                    <div className={selectedMomentStyles.imgNav}>\r\n                        {currentFile > 0 && \r\n                            <FontAwesomeIcon className={selectedMomentStyles.lAr} icon={faArrowAltCircleLeft} onClick={e => left()}/>}\r\n                        {currentFile < (files.length - 1) && \r\n                            <FontAwesomeIcon className={selectedMomentStyles.rAr} icon={faArrowAltCircleRight} onClick={e => right()}/>}\r\n                    </div>\r\n                        {/* {<SelectedImg image={files[currentFile]}/>}  */}\r\n                        {generateImages(currentFile)}\r\n                    </div>               \r\n                </Col>\r\n                <Col md={5} className={selectedMomentStyles.crMoment}>\r\n                    <div className={selectedMomentStyles.rw1Ht}>\r\n                        <div className={selectedMomentStyles.title}>\r\n                            {title}\r\n                        </div>\r\n                        <div className={selectedMomentStyles.desc}>\r\n                            {description}\r\n                        </div>\r\n                    </div>\r\n                    <div className={selectedMomentStyles.rw2Ht}>\r\n                        <Memories momentId={id}/>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedMoment\r\n","import React from 'react'\r\nimport meatballStyles from './MeatballIco.module.css';\r\n\r\nfunction MeatballIco() {\r\n    return (\r\n        <div className={meatballStyles.menu__wrapper}>\r\n            <div className={meatballStyles.menu_item_meatball}>\r\n                <div className={meatballStyles.circle}></div>\r\n                <div className={meatballStyles.circle}></div>\r\n                <div className={meatballStyles.circle}></div>\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MeatballIco\r\n","import { CREATE_MOMENT, GET_USER_MOMENTS, CLEAR_USER_MOMENTS, DELETE_USER_MOMENTS, UPDATE_USER_MOMENTS, GET_USER_SEARCH_RESULT } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\nimport { ICreateMoment } from '../types/requestPayloads/moment';\r\nimport { IMomentResponse } from '../types/responseTypes/moment';\r\nimport imageCompression from 'browser-image-compression';\r\n\r\n//Image compression\r\nconst ImgCompressionOptions = {\r\n    maxSizeMB: 0.5,\r\n    maxIteration: 20,\r\n    maxWidthOrHeight: 1024,\r\n    useWebWorker: true\r\n}\r\n\r\nexport const createMoment = (moment : ICreateMoment) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const imgFiles = moment.images\r\n        console.log(imgFiles);\r\n        delete moment.images;\r\n        //const momentResponse = await axios.post('/api/v0/M/', moment);\r\n        //console.log(momentResponse);\r\n        \r\n        const formData = new FormData();\r\n\r\n        for (let key in moment){\r\n            formData.append(key, (moment as any)[key]);\r\n        }\r\n\r\n        for(let file of imgFiles){\r\n            //console.log(file);\r\n            //Compress the file before adding to form data\r\n            file = await imageCompression(file, ImgCompressionOptions) as any;\r\n            formData.append('file', file);\r\n        }\r\n        //console.log(formData);\r\n        //console.log(`/api/v0/M/upload/${momentResponse.data._id}`);\r\n        const momentResponse : any = await axios.post(`/api/v0/M/`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        }); \r\n        console.log(momentResponse);\r\n\r\n        const momentData : IMomentResponse = {\r\n            id : momentResponse.data.id,\r\n            title : momentResponse.data.title,\r\n            description : momentResponse.data.description,\r\n            date : momentResponse.data.date,\r\n            createdAt : momentResponse.data.createdAt,\r\n            files : momentResponse.data.files,\r\n            owner : momentResponse.data.owner,\r\n            group : momentResponse.data.group\r\n        }\r\n\r\n        console.log('momData');\r\n        console.log(momentData);\r\n        dispatch({\r\n            type : CREATE_MOMENT,\r\n            payload : momentData\r\n        });\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const getUserMoments = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/M/${username}`);\r\n        // console.log(typeof(result.data.moments));\r\n         console.log(result.data.moments);\r\n        dispatch({\r\n            type : GET_USER_MOMENTS,\r\n            payload : result.data.moments\r\n        })\r\n    }catch(err){\r\n        console.log(err);        \r\n    }\r\n}\r\n\r\nexport const deleteMoment = (momentId : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.delete(`/api/v0/M/${momentId}`);\r\n        console.log(result);\r\n        dispatch({\r\n            type : DELETE_USER_MOMENTS,\r\n            payload : {momentId}\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const updateMoment = (momentId : string, dataToBeUpdated : any) => async (dispatch : Dispatch) => {\r\n    try{\r\n\r\n        const newImages = dataToBeUpdated.newImages;\r\n        //if(dataToBeUpdated.newImages.length > 0){\r\n        //newImages.concat(dataToBeUpdated.newImages);\r\n        //}\r\n        console.log(newImages);\r\n        delete dataToBeUpdated.newImages;\r\n\r\n        const formData = new FormData();\r\n\r\n        for (let key in dataToBeUpdated){\r\n            console.log((dataToBeUpdated as any)[key]);\r\n            formData.append(key, (dataToBeUpdated as any)[key]);\r\n        }\r\n\r\n        for(let file of newImages){\r\n            //Compress the file before adding to form data\r\n            file = await imageCompression(file, ImgCompressionOptions) as any;\r\n            formData.append('file', file);\r\n        }\r\n\r\n        const updatedMomentResponse = await axios.put(`/api/v0/M/${momentId}`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        });\r\n\r\n        console.log(updatedMomentResponse); \r\n\r\n        const momentData : IMomentResponse = {\r\n            id : updatedMomentResponse.data.id,\r\n            title : updatedMomentResponse.data.title,\r\n            description : updatedMomentResponse.data.description,\r\n            date : updatedMomentResponse.data.date,\r\n            createdAt : updatedMomentResponse.data.createdAt,\r\n            files : updatedMomentResponse.data.files,\r\n            owner : updatedMomentResponse.data.owner,\r\n            group : updatedMomentResponse.data.group\r\n        }\r\n        dispatch({\r\n            type : UPDATE_USER_MOMENTS,\r\n            payload : momentData\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const clearUserMoments = () => async (dispacth : Dispatch) => {\r\n    dispacth({\r\n        type : CLEAR_USER_MOMENTS\r\n    })\r\n}\r\n\r\nexport const searchUserQuery = (query : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/usearch/${query}`);\r\n        console.log(result.data);\r\n        dispatch({\r\n            type : GET_USER_SEARCH_RESULT,\r\n            payload : result.data\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n} ","import React from 'react'\r\nimport editImgStyles from './EditImg.module.css';\r\n\r\nfunction EditImg(props : any) {\r\n    const {index, data} = props;\r\n\r\n    const removeImage = () => {\r\n        props.removeImage(index, data.type, );\r\n    }\r\n\r\n    return (\r\n        <div className={editImgStyles.imgCov}>\r\n            <div className={editImgStyles.removeImg} onClick={removeImage}>&#10005;</div>\r\n            <img className={editImgStyles.selectedImg} src={data.url}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditImg\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Form, Button } from \"react-bootstrap\";\r\nimport editSelectedMomentStyles from \"./EditSelectedMoment.module.css\";\r\nimport EditImg from \"./EditImg\";\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateMoment } from '../../../../actions/momentActions';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faImages, faPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction EditSelectedMoment(props: any) {\r\n  const { id, owner } = props.moment;\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [existingfiles, setExistingFiles] = useState([]);\r\n  const [filesRemoved, setFilesRemoved] = useState([]);\r\n  const [updating, setUpdating] = useState(false);\r\n  const [newImages, setNewImages] = useState([]);\r\n  const [imageswarning, setImagesWarning] = useState('');\r\n  //const [displayImages, setDisplayImages] = useState([]);\r\n\r\n  enum FileType {\r\n    alreadyExisting,\r\n    recentlyAdded\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTitle(props.moment.title);\r\n    setDescription(props.moment.description);\r\n    setExistingFiles(props.moment.files);\r\n    //setDisplayImages(props.moment.files);\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if(updating === false) return;\r\n    console.log('updated');\r\n    setUpdating(false);\r\n    props.setShow(false);\r\n  }, [props.moment]);\r\n\r\n  const onImagesSelect = (event : any) => {\r\n    console.log(\"in onImageSelect\");\r\n    console.log(event.target);\r\n    let imageFiles : File[] = Object.values(event.target.files);\r\n    //console.log(JSON.stringify(imageFiles));\r\n    imageFiles = newImages.concat(imageFiles);\r\n\r\n    if((imageFiles.length + existingfiles.length) > 10){\r\n      imageFiles = imageFiles.slice(0, 10);\r\n      setImagesWarning('maximum 10 photos are allowed per moment');\r\n    }\r\n    //console.log(imageFiles);\r\n    setNewImages(imageFiles);\r\n    console.log(imageFiles);\r\n    //setDisplayImages([...existingfiles, ...(imageFiles.map((file : File) => URL.createObjectURL(file)))]);\r\n  }\r\n\r\n  const removeImage = (index : number, type : number) => {\r\n    if(type === FileType.alreadyExisting){\r\n      filesRemoved.push(existingfiles[index]);\r\n      setFilesRemoved(filesRemoved);\r\n      let tImage = existingfiles.slice();\r\n      tImage.splice(index, 1);\r\n      setExistingFiles(tImage);\r\n    }else{\r\n      let tImage = newImages.slice();\r\n      tImage.splice(index, 1);\r\n      setNewImages(tImage);\r\n    }\r\n      //setDisplayImages([...tImage, ...newImages]);\r\n  }\r\n\r\n  const onUpdate = (e : any) => {\r\n    console.log('on update');\r\n    setUpdating(true);\r\n    e.preventDefault();\r\n    console.log(filesRemoved);\r\n    console.log(Array.isArray(filesRemoved));\r\n    const updated = {\r\n      title,\r\n      description,\r\n      existingUrls : JSON.stringify(existingfiles),\r\n      filesRemoved : JSON.stringify(filesRemoved),\r\n      newImages\r\n    }\r\n    props.updateMoment(id, updated);\r\n  }\r\n  \r\n\r\n  const renderImages = () => {\r\n    let tImagesArray = []\r\n    tImagesArray = existingfiles.map((url : string, index : number) => {\r\n      return {url : url, type : FileType.alreadyExisting, index : index};\r\n    });\r\n    tImagesArray = tImagesArray.concat(newImages.map((file : File, index : number) => {\r\n      return {url : URL.createObjectURL(file), type : FileType.recentlyAdded, index : index};\r\n    }));\r\n\r\n    const displayImages = (tImagesArray);\r\n\r\n    if(existingfiles.length === 0){\r\n      return (\r\n        <Row className=\"mb-2\">\r\n          <Col>\r\n            <div className={editSelectedMomentStyles.uploadImgBtnGroup}>\r\n              <button className={editSelectedMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<div>Add image</div></button>\r\n              <input className={editSelectedMomentStyles.uploadImgInp} type=\"file\" id=\"edtmntupldimg\" name=\"edtmntupldimg\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      )\r\n    }\r\n    let requiredRows: number = 0;\r\n    if((displayImages.length + 1) < 5){\r\n      requiredRows = 1;\r\n    }else{\r\n      requiredRows = (displayImages.length + 1) / 5;\r\n    }\r\n    const rows = [];\r\n    let pointer = 0;\r\n    for (let r = 0; r < requiredRows; r++) {\r\n      const cols = [];\r\n      for (let c = 0; c < 5; c++) {\r\n        if(pointer === displayImages.length){\r\n          if(displayImages.length !== 10){\r\n            cols.push( <Col xs key={pointer}>\r\n              <div className={editSelectedMomentStyles.uploadImgBtnGroup}>\r\n                <button className={editSelectedMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<div>Add image</div></button>\r\n                <input className={editSelectedMomentStyles.uploadImgInp} type=\"file\" id=\"edtmntupldimg\" name=\"edtmntupldimg\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n              </div>\r\n            </Col>);\r\n          }\r\n        } else if(pointer > displayImages.length) {\r\n          cols.push(<Col xs key={pointer}></Col>);\r\n        } else {        \r\n          cols.push(\r\n          <Col xs key={pointer}>\r\n              <EditImg\r\n                index={displayImages[pointer].index}\r\n                data={displayImages[pointer]}\r\n                removeImage={removeImage}\r\n              />\r\n            </Col>\r\n          );\r\n        }\r\n        pointer++;   \r\n      }\r\n      rows.push(\r\n        <Row key={r} className=\"mb-2\">\r\n          {\" \"}\r\n          {cols}{\" \"}\r\n        </Row>\r\n      );\r\n    }\r\n\r\n    return <div>{rows}</div>;\r\n  };\r\n\r\n  return (\r\n    <div className={editSelectedMomentStyles.selectedMoment}>\r\n      <div className={editSelectedMomentStyles.optTit}>Edit Moment</div>\r\n      <form onSubmit={onUpdate}>\r\n        <div className={editSelectedMomentStyles.rw1Ht}>\r\n          <div className={`mt-2 ${editSelectedMomentStyles.ti}`}>Title</div>\r\n          <Form.Control\r\n            className={editSelectedMomentStyles.title}\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={e => setTitle(e.target.value)}\r\n          />\r\n          <div className={`mt-2 ${editSelectedMomentStyles.ti}`}>\r\n            Description\r\n          </div>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            className={editSelectedMomentStyles.desc}\r\n            rows={5}\r\n            value={description}\r\n            onChange={e => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className={editSelectedMomentStyles.imgs}>{renderImages()}</div>\r\n        {imageswarning &&\r\n                    <div className=\"mb-2\">{imageswarning}</div>\r\n                }\r\n        <Button type='submit' className={editSelectedMomentStyles.updtBtn} >Update</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nEditSelectedMoment.propTypes = {\r\n  updateMoment : PropTypes.func.isRequired,\r\n  //updated : PropTypes.bool.isRequired\r\n}\r\n\r\n// const mapStateToProps = (state : any) => ({\r\n//   updated : state.moments.updated\r\n// });\r\n\r\nexport default connect(null, {updateMoment}) (EditSelectedMoment);\r\n","import React, {useEffect, useState} from 'react'\r\nimport { Modal } from 'react-bootstrap';\r\nimport selectedModalStyles from './EditMomentModal.module.css';\r\nimport EditSelectedMoment from './EditSelectedMoment';\r\n\r\nfunction EditMomentModal(props : any) {\r\n    const [show, setShow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setShow(props.show);   \r\n   }, [props])\r\n   \r\n    return (\r\n        <Modal backdropClassName={selectedModalStyles.backdrop} className={selectedModalStyles.selectedModel} show={show} centered>\r\n            <div className={selectedModalStyles.trBtnWrpr}>\r\n                <span className={selectedModalStyles.closeBtn} onClick={e => props.setShowEditPanel(false)}>&#10005;</span>\r\n            </div>\r\n            <EditSelectedMoment moment={props.moment} setShow={props.setShowEditPanel}/>            \r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default EditMomentModal\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MeatballIco from \"./MeatballIco\";\r\nimport dropdownMenuMomentStyles from \"./DropdownMenuMoment.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { deleteMoment } from \"../../../../actions/momentActions\";\r\nimport EditMomentModal from \"../editSelectedMoment/EditMomentModal\";\r\n\r\nfunction DropdownMenuMoment(props: any) {\r\n  const [show, setShow] = useState(false);\r\n  const [showEditPanel, setShowEditPanel] = useState(false);\r\n  let timeout : any; \r\n\r\n  useEffect(() => {\r\n      if(props.closeMenu){\r\n          props.setCloseMenu(false);\r\n          setShow(false);\r\n      }\r\n  }, [props.closeMenu]);\r\n\r\n  const remove = () => {\r\n    props.deleteMoment(props.moment.id);\r\n  };\r\n\r\n  const onFocusHandler = () => {\r\n    clearTimeout(timeout);\r\n  }\r\n\r\n  const hideMenu = (event : any) => {\r\n    timeout = setTimeout(() => {\r\n      if(show){\r\n        setShow(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  const renderMenuOptions = () => {\r\n    if (props.owned) {\r\n      return (\r\n        <ul className={`no-select ${dropdownMenuMomentStyles.lst}`}>\r\n          <div\r\n            className={dropdownMenuMomentStyles.lstItm}\r\n            onClick={e => {\r\n              setShowEditPanel(true);\r\n              setShow(false);\r\n            }}\r\n          >\r\n            Edit\r\n          </div>\r\n          <div className={dropdownMenuMomentStyles.lstItm}>Add people</div>\r\n          <div className={dropdownMenuMomentStyles.lstItm} onClick={remove}>\r\n            Delete\r\n          </div>\r\n        </ul>\r\n      );\r\n    } else {\r\n      return (\r\n        <ul className={`no-select ${dropdownMenuMomentStyles.lst}`}>\r\n          <div className={dropdownMenuMomentStyles.lstItm}>report</div>\r\n        </ul>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div onClick={() => {setShow(!show)}} onBlur={hideMenu} >\r\n        <div>\r\n          <MeatballIco />\r\n        </div>\r\n        {show && (\r\n          <div className={dropdownMenuMomentStyles.drpdwnLst}>\r\n            <div className={dropdownMenuMomentStyles.arwWrpr}>\r\n              <div className={dropdownMenuMomentStyles.arwUp}></div>\r\n            </div>\r\n            {renderMenuOptions()}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <EditMomentModal\r\n        show={showEditPanel}\r\n        setShowEditPanel={setShowEditPanel}\r\n        moment={props.moment}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDropdownMenuMoment.propTypes = {\r\n  deleteMoment: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(null, { deleteMoment })(DropdownMenuMoment);\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Modal } from 'react-bootstrap';\r\nimport SelectedMoment from './SelectedMoment';\r\nimport selectedModalStyles from './SelectedModal.module.css';\r\nimport MeatballIco from '../momentMenu/MeatballIco';\r\nimport DropdownMenuMoment from '../momentMenu/DropdownMenuMoment';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction SelectedModal(props : any) {\r\n    const [show, setShow] = useState(false);\r\n    const [owned, setOwned] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(props.authUName);\r\n        setOwned((props.authUName === props.moment.owner.username));\r\n    }, [props.authUName])\r\n    \r\n    useEffect(() => {\r\n         setShow(props.show);   \r\n    }, [props])\r\n\r\n    return (\r\n        <Modal className={selectedModalStyles.selectedModel} show={show} centered>\r\n            <div className={selectedModalStyles.trBtnWrpr}>\r\n                <div className={selectedModalStyles.drpdwn}>\r\n                    <DropdownMenuMoment moment={props.moment} owned={owned}/>\r\n                </div>\r\n                <span className={selectedModalStyles.closeBtn} onClick={props.closeMoment}>&#10005;</span>\r\n            </div>\r\n            <SelectedMoment moment={props.moment}/>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nSelectedModal.propTypes = {\r\n    authUName : PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    authUName : state.auth.username\r\n});\r\n\r\nexport default connect(mapStateToProps, {}) (SelectedModal)\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Tooltip, OverlayTrigger } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport momentjs from \"moment\";\r\nimport MomentStyles from \"./Moment.module.css\";\r\nimport MomentImg from \"./MomentImg\";\r\nimport SelectedModal from \"./selectedMoment/SelectedModal\";\r\nimport MeatballIco from \"./momentMenu/MeatballIco\";\r\nimport DropdownMenuMoment from \"./momentMenu/DropdownMenuMoment\";\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { selectMenuInTimeLine } from '../../../actions/uiActions'; \r\n\r\n\r\nfunction Moment(props: any) {\r\n  const moment: any = props.moment;\r\n  //console.log(moment);\r\n  const [selected, setSelected] = useState(false);\r\n  const [date, setDate] = useState<string>();\r\n  const fullDate = momentjs(moment.date).format(\"MMMM Do YYYY, h:mm a\");\r\n  const [owned, setOwned] = useState(false);\r\n  const [closeMenu, setCloseMenu] = useState(false);\r\n  const [moreDesc, setMoreDesc] = useState(false);\r\n  const [createDate, setCreatedDate] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    //console.log(moment.date)\r\n    let _date = new Date(moment.date);\r\n    //console.log(_date);\r\n    setDate(momentjs(_date).format(\"MMMM Do YYYY\"));\r\n    \r\n    let _createdDate = new Date(moment.createdAt);\r\n    setCreatedDate(momentjs(_createdDate).format(\"MMMM Do YYYY\"));\r\n  }, []);\r\n  //console.log(moment);\r\n\r\n  useEffect(() => {\r\n    setOwned((props.authUName === props.moment.owner.username));\r\n  }, [props.authUName]);\r\n\r\n  useEffect(() => {\r\n    if(props.previousMenu === moment.id){\r\n      setCloseMenu(true);\r\n    }\r\n  },[props.previousMenu]);\r\n\r\n  const openMoment = () => {\r\n    setSelected(true);\r\n  };\r\n\r\n  const closeMoment = () => {\r\n    setSelected(false);\r\n  };\r\n\r\n  const renderDescription = () => {\r\n    const _desc : string = moment.description;\r\n    // console.log(_desc);\r\n    // console.log(_desc.match(/\\n/));\r\n    // console.log(getIndexOfNthOccurrence(_desc, '\\n', 3));\r\n    if( ((_desc.match(/\\n/)) ? _desc.match(/\\n/g).length <= 3 : true) || moreDesc){\r\n      return <div>\r\n              <div>{_desc}</div>\r\n              {moreDesc &&\r\n                <div className={MomentStyles.showMoreBtn} onClick={() => setMoreDesc(false)}>show less</div>}\r\n             </div>;  \r\n    }else{\r\n      const descSplit : Array<string> = _desc.split('\\n');\r\n      const shrtDesc : string = `${descSplit[0]}\\n${descSplit[1]}\\n${descSplit[2]}`;\r\n      return <div>{`${shrtDesc}.....`}<span className={MomentStyles.showMoreBtn} onClick={() => setMoreDesc(true)}> show more</span></div>;\r\n    }\r\n  }\r\n\r\n  // const getIndexOfNthOccurrence = (string : string, subString : string, nthOccurrence : number) : number => {\r\n  //   return string.split(subString, nthOccurrence).join(subString).length;\r\n  // }\r\n\r\n  const menuBtn = () => {\r\n    //setCloseMenu(!closeMenu);\r\n    if(props.currentMenu !== moment.id)\r\n      props.selectMenuInTimeLine(moment.id);\r\n  }\r\n\r\n  const dateTooltip = () => {\r\n    return (\r\n      <div className={MomentStyles.ttp}>\r\n        <div className={MomentStyles.lftArr} />\r\n        <div className={MomentStyles.dtTTip}>{fullDate}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={MomentStyles.moment} >\r\n        <Row className={\"pt-2\"}>\r\n          <Col xs={7}>\r\n            <Link to={moment.owner.username} className=\"no-a\">\r\n              <div className={MomentStyles.wrpr}>\r\n                <img\r\n                  className={MomentStyles.profPic}\r\n                  src={moment.owner.profilePic}\r\n                />\r\n                <div\r\n                  className={MomentStyles.uname}\r\n                >{`${moment.owner.firstname} ${(moment.owner.lastname)?moment.owner.lastname : ''}`}</div>\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n          <Col xs={5}>\r\n            <Row bsPrefix={MomentStyles.dtWrpr}>\r\n            {/* {<div className={MomentStyles.mtbl}>\r\n              <MeatballIco/>\r\n            </div>} */}\r\n            <OverlayTrigger\r\n              delay={100}\r\n              placement={\"right\"}\r\n              overlay={dateTooltip()}\r\n            >\r\n              <div className={MomentStyles.date}>{createDate}</div>\r\n            </OverlayTrigger>\r\n            </Row>\r\n            <Row>\r\n            <div className={MomentStyles.mtbl} onClick={menuBtn} >\r\n              <DropdownMenuMoment moment={moment} owned={owned} closeMenu={closeMenu} setCloseMenu={setCloseMenu}/>\r\n            </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <div className={MomentStyles.title}>{moment.title}</div>\r\n        {moment.files.length > 0 && (\r\n          <MomentImg img={moment.files[0]} openMoment={openMoment} />\r\n        )}\r\n        <div className={MomentStyles.desc} >\r\n          {renderDescription()}\r\n        </div>\r\n      </div>\r\n      <SelectedModal\r\n        show={selected}\r\n        closeMoment={closeMoment}\r\n        moment={moment}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMoment.propTypes = {\r\n  authUName : PropTypes.string.isRequired,\r\n  selectMenuInTimeLine : PropTypes.func.isRequired,\r\n  previousMenu : PropTypes.string.isRequired,\r\n  currentMenu : PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n  authUName : state.auth.username,\r\n  previousMenu : state.timelineUI.previouslySelectedDropdown,\r\n  currentMenu : state.timelineUI.currentlySelectedDropdown\r\n})\r\n\r\nexport default connect(mapStateToProps, {selectMenuInTimeLine}) (Moment);\r\n","import { DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE } from './types';\r\nimport { Dispatch } from 'redux';\r\n\r\nexport const selectMenuInTimeLine = (momentId : string) => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE,\r\n        payload : momentId\r\n    });\r\n}","import React from 'react'\r\nimport selectedImagesStyles from './SelectedImages.module.css';\r\n\r\nfunction SelectedImage(props : any) {\r\n    const {index, url} = props;\r\n\r\n    const removeImage = () => {\r\n        props.removeImage(index);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={selectedImagesStyles.removeImg} onClick={removeImage}>&#10005;</div>\r\n            <img className={selectedImagesStyles.selectedImg} src={url}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedImage\r\n","import React, { useState, useEffect} from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport selectedImagesStyles from './SelectedImages.module.css';\r\nimport SelectedImage from './SelectedImage';\r\n\r\nfunction SelectedImages(props : any) {\r\n\r\n    const images = props.images;\r\n\r\n    const renderImages = () => {\r\n        const requiredRows : number = images.length / 5;\r\n        const rows = [];\r\n        let pointer = 0;\r\n        for(let r = 0; r < requiredRows; r++){\r\n            const cols = [];\r\n            for(let c = 0; c < 5; c++){\r\n                cols.push(<Col key={pointer}>{images[pointer] && <SelectedImage index={pointer} url={URL.createObjectURL(images[pointer])} removeImage={props.removeImage}/>}</Col>);\r\n                pointer++;\r\n            }\r\n            rows.push(<Row key={r} className='mb-4'> {cols} </Row>);\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {rows}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {renderImages()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedImages\r\n","import React, {useRef, useEffect} from 'react'\r\nimport './DatePicker.css';\r\n\r\nfunction DatePicker(props : any) {\r\n    const datePickerElement : any = useRef();\r\n    const selectedDateElement : any = useRef();\r\n    const datesElement : any = useRef();\r\n    const mthElement : any = useRef();\r\n    const nextMthElement : any = useRef();\r\n    const prevMthElement : any = useRef();\r\n    const daysElement : any = useRef();\r\n\r\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\n    let date = new Date();\r\n\r\n    let currentDay = date.getDate();\r\n    let currentMonth = date.getMonth();\r\n    let currentYear = date.getFullYear();\r\n    \r\n    let day = date.getDate();\r\n    let month = date.getMonth();\r\n    let year = date.getFullYear();\r\n\r\n    let selectedDate = date;\r\n    let selectedDay = day;\r\n    let selectedMonth = month;\r\n    let selectedYear = year;\r\n\r\n    let timeout : any; \r\n\r\n    useEffect(() => {\r\n        //if(mthElement.current)\r\n        //props.setDate(date);\r\n        mthElement.current.textContent =  months[month] + ' ' + year;\r\n        selectedDateElement.current.textContent = formatDate(date);\r\n        props.setDate(date);\r\n        populateDates();\r\n    })\r\n\r\n    const onFocusHandler = () => {\r\n        clearTimeout(timeout);\r\n    }\r\n\r\n    const hideCalender = () => {\r\n        timeout = setTimeout(() => {\r\n            datesElement.current.classList.toggle('active');\r\n          });\r\n    }\r\n\r\n    const toggleDatePicker = (e) => {\r\n        if(!datesElement.current.contains(e.target)){\r\n            datesElement.current.classList.toggle('active');\r\n        }\r\n    }\r\n\r\n    const goToNextMonth = () => {\r\n        month++;\r\n        if (month > 11) {\r\n            month = 0;\r\n            year++;\r\n        }\r\n        mthElement.current.textContent = months[month] + ' ' + year;\r\n        populateDates();\r\n    }\r\n\r\n    const goToPrevMonth = () => {\r\n        month--;\r\n        if (month < 0) {\r\n            month = 11;\r\n            year--;\r\n        }\r\n        mthElement.current.textContent = months[month] + ' ' + year;\r\n        populateDates();\r\n    }\r\n\r\n    const populateDates = () => {\r\n        daysElement.current.innerHTML = '';\r\n        let amount_days = 31;\r\n    \r\n        if (month == 1) {\r\n            amount_days = 28;\r\n        }\r\n    \r\n        for (let i = 0; i < amount_days; i++) {\r\n            const day_element : any = document.createElement('div');\r\n            day_element.classList.add('day');\r\n            day_element.classList.add('noselect');\r\n            day_element.textContent = i + 1;\r\n    \r\n            if (selectedDay == (i + 1) && selectedYear == year && selectedMonth == month) {\r\n                day_element.classList.add('selected');\r\n            }\r\n            \r\n            if(year <= currentYear){\r\n                if(month == currentMonth && (i + 1) <= currentDay){\r\n                    day_element.addEventListener('click', function () {\r\n                        selectedDate = new Date(year + '-' + (month + 1) + '-' + (i + 1));\r\n                        selectedDay = (i + 1);\r\n                        selectedMonth = month;\r\n                        selectedYear = year;\r\n        \r\n                        selectedDateElement.current.textContent = formatDate(selectedDate);\r\n                        selectedDateElement.current.dataset.value = selectedDate;\r\n            \r\n                        props.setDate(selectedDate);\r\n                        populateDates();\r\n                    });\r\n                }else if(month < currentMonth){\r\n                    day_element.addEventListener('click', function () {\r\n                        selectedDate = new Date(year + '-' + (month + 1) + '-' + (i + 1));\r\n                        selectedDay = (i + 1);\r\n                        selectedMonth = month;\r\n                        selectedYear = year;\r\n        \r\n                        selectedDateElement.current.textContent = formatDate(selectedDate);\r\n                        selectedDateElement.current.dataset.value = selectedDate;\r\n            \r\n                        props.setDate(selectedDate);\r\n                        populateDates();\r\n                    });\r\n                }\r\n            }\r\n            daysElement.current.appendChild(day_element);\r\n        }\r\n    }\r\n\r\n    const checkEventPathForClass = (path, selector) => {\r\n        for (let i = 0; i < path.length; i++) {\r\n            if (path[i].classList && path[i].classList.contains(selector)) {\r\n                return true;\r\n            }\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    const formatDate = (d : any) => {\r\n        let day = d.getDate();\r\n        if (day < 10) {\r\n            day = '0' + day;\r\n        }\r\n    \r\n        let month = d.getMonth() + 1;\r\n        if (month < 10) {\r\n            month = '0' + month;\r\n        }\r\n    \r\n        let year = d.getFullYear();\r\n    \r\n        return `${months[month - 1]} ${day}, ${year}`;\r\n    }\r\n    \r\n    return (\r\n        <div ref={datePickerElement} className={'datePicker noselect'}  onClick={toggleDatePicker} >\r\n\t\t<div className={'resDateWrape'}>\r\n            <div ref={selectedDateElement} className={'selectedDate noselect'} ></div>\r\n\t\t</div>\r\n        <div ref={datesElement} className={'dates'} >\r\n\t\t\t<div className={'month'}>\r\n\t\t\t\t<div ref={prevMthElement} className={`arrows arrowL prevMth noselect`} onClick={goToPrevMonth}>&lt;</div>\r\n\t\t\t\t<div ref={mthElement} className={`mth noselect`} ></div>\r\n\t\t\t\t<div ref={nextMthElement} className={`arrows arrowR nextMth noselect`} onClick={goToNextMonth}>&gt;</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div ref={daysElement} className={'days'}></div>\r\n\t\t</div>\r\n\t</div>\r\n    )\r\n}\r\n\r\nexport default DatePicker\r\n","import React, { useState, useEffect } from \"react\";\r\nimport addGroupStyles from \"./AddGroupModal.module.css\";\r\nimport { Modal, Row, Col } from \"react-bootstrap\";\r\nimport { searchUserQuery } from '../../../../actions/momentActions';\r\nimport { connect } from 'react-redux'; \r\nimport PropTypes from 'prop-types';\r\n\r\nconst AddGroupModal = (props: any) => {\r\n  const [display, setDisplay] = useState(true);\r\n  const [groupMates, setGroupMates] = useState<Map<string,string>>(new Map());\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showSuggestion, setShowSuggestion] = useState(true);\r\n  let _timeout : any;\r\n  let tagInput : any;\r\n\r\n    useEffect(() => {\r\n        let temp = props.userSearchResult;\r\n        temp = temp.filter((res : any) => {return !groupMates.has(res.username)});\r\n        setSearchResults(temp);\r\n    },[props.userSearchResult])\r\n\r\n    useEffect(() => {\r\n    if(searchQuery.trim().length === 0){\r\n    }       \r\n    }, [searchQuery])\r\n\r\n  const removeTag = (i : any) => {\r\n    const tempMap = new Map(groupMates);\r\n    tempMap.delete(i);\r\n    setGroupMates(tempMap);\r\n  }\r\n\r\n  const onSearchQueryChange = (event: any) => {\r\n    setSearchQuery(event.target.value);\r\n    if (event.target.value.trim().length > 0) {\r\n      //console.log('search q='+event.target.value);\r\n      props.searchUserQuery(event.target.value);\r\n    } else if(event.target.value.trim().length === 0 || event.target.value === \"\" || searchQuery === \"\") {\r\n      //console.log('clear suggestion');\r\n      setSearchResults([]);\r\n      //props.clearSearchResults();\r\n    }\r\n  };\r\n\r\n  const hideSuggestion = (event : any) => {\r\n     _timeout = setTimeout(() => {\r\n       if(showSuggestion)   \r\n         setShowSuggestion(false);\r\n      }, 0);\r\n      console.log(_timeout);\r\n  }\r\n\r\n  const onFocusHandler = (event : any) => {\r\n    console.log(_timeout);\r\n      clearTimeout(_timeout);\r\n  }\r\n\r\n  const selectMate = (username : string, firstname : string, lastname : string) => {\r\n    setShowSuggestion(false);\r\n    const tempMap = new Map(groupMates);\r\n    tempMap.set(username, `${firstname} ${(lastname) ? lastname : ''}`);\r\n    setGroupMates(tempMap);\r\n\r\n    let temp = searchResults;\r\n    temp = temp.filter((res : any) => {return username !== res.username});\r\n    setSearchResults(temp);\r\n  }\r\n\r\n  const renderGroupMates = () => {\r\n    const listRes : any = new Array<any>();\r\n\r\n      groupMates.forEach((fullname : string, username : string) => {\r\n        listRes.push(<li key={username}>\r\n                        {fullname}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            removeTag(username);\r\n                          }}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </li>)\r\n      })  \r\n      return listRes;\r\n  }\r\n\r\n  const addGroup = (event : any) => {\r\n    console.log(JSON.stringify(Array.from(groupMates.keys())));\r\n    props.setGroup(JSON.stringify(Array.from(groupMates.keys())));\r\n    props.setShowAddMates(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      dialogClassName={`${addGroupStyles.modalDialog}`}\r\n      {...props}\r\n      size=\"lg\"\r\n      centered\r\n    >\r\n      <div className={addGroupStyles.model}>\r\n        <div className={addGroupStyles.ttle}>\r\n          <div>Add groupmates</div>\r\n        </div>\r\n        <div>\r\n          <div className={addGroupStyles.input_tag}>\r\n            <ul className={addGroupStyles.input_tag__tags}>\r\n              {renderGroupMates()}\r\n            </ul>\r\n            <form className={addGroupStyles.frm}  onFocus={onFocusHandler}>\r\n                <input\r\n                    className={addGroupStyles.inp}\r\n                    type=\"text\"\r\n                    value={searchQuery}\r\n                    onChange={onSearchQueryChange}\r\n                    onFocus={() => setShowSuggestion(true)}\r\n                    placeholder={'Search groupmates'}\r\n                />\r\n                <div>\r\n                    {\r\n                    showSuggestion && searchResults.length > 0 && \r\n                    <ul className={addGroupStyles.ulo}>\r\n                      {\r\n                        searchResults.map((user : any) => \r\n                            <li key={user.username} className={addGroupStyles.lst} onClick={() => {selectMate(user.username, user.firstname, user.lastname)}}>\r\n                                <img/>\r\n                                <div>\r\n                                    <span>\r\n                                        {`${user.firstname}`}\r\n                                    </span>\r\n                                    {user.lastname && <span>\r\n                                        {` ${user.lastname}`}\r\n                                    </span>}\r\n                                </div>\r\n                            </li>                          \r\n                        ) \r\n                      }     \r\n                    </ul>\r\n                    }\r\n                </div>\r\n            </form>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className={addGroupStyles.btnWrpr}>\r\n            <div className={addGroupStyles.btn} onClick={addGroup}>Add</div>\r\n            <div className={addGroupStyles.btn} onClick={() => props.setShowAddMates(false)}>Cancel</div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nAddGroupModal.propTypes = {\r\n    searchUserQuery : PropTypes.func.isRequired,\r\n    userSearchResult : PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    userSearchResult : state.moments.userSearchResult\r\n});\r\n\r\nexport default connect(mapStateToProps, {searchUserQuery}) (AddGroupModal);\r\n","import React, { useState } from 'react'\r\nimport CreateMomentStyles from './CreateMoment.module.css';\r\nimport { Form } from 'react-bootstrap';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faImages, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport PropsTypes from 'prop-types';\r\nimport { ICreateMoment } from '../../../types/requestPayloads/moment';\r\nimport { createMoment } from '../../../actions/momentActions';\r\nimport SelectedImages from './SelectedImages';\r\nimport DatePicker from './datePicker/DatePicker';\r\nimport AddGroupModal from './addGroup/AddGroupModal';\r\n\r\nfunction CreateMoment(props : any) {\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [images , setImages] = useState<Array<File>>([]);\r\n    //const [date, setDate] = useState(new Date());\r\n    let date = new Date();\r\n    const [imageswarning, setImagesWarning] = useState('');\r\n    const [showAddMates, setShowAddMates] = useState(false);\r\n    const [group, setGroup] = useState([]);\r\n\r\n    const setDate = (d) => {\r\n      date = d;  \r\n    }\r\n\r\n    const submitMoment = (event : any) => {\r\n      event.preventDefault();\r\n      if(title.trim() === \"\" && description.trim() === \"\" && images.length === 0){\r\n        window.alert('Please enter data');\r\n        return;\r\n      }\r\n      const newMoment : ICreateMoment = {\r\n        title,\r\n        description,\r\n        //description : formatParagraph(description),\r\n        images,\r\n        date,\r\n        group\r\n      }\r\n      console.log(newMoment);\r\n      props.createMoment(newMoment);\r\n    }\r\n\r\n    const onImagesSelect = (event : any) => {\r\n      //console.log(event.target);\r\n      let imageFiles : File[] = Object.values(event.target.files);\r\n      //console.log(JSON.stringify(imageFiles));\r\n      imageFiles = images.concat(imageFiles);\r\n\r\n      if(imageFiles.length > 10){\r\n        imageFiles = imageFiles.slice(0, 10);\r\n        setImagesWarning('maximum 10 photos are allowed per moment');\r\n      }\r\n      //console.log(imageFiles);\r\n      setImages(imageFiles);\r\n    }\r\n\r\n    const removeImage = (index : number) => {\r\n      //console.log(index);\r\n      //console.log(images)\r\n      let tImage = images.slice();\r\n      tImage.splice(index, 1);\r\n      //console.log(tImage)\r\n      setImages(tImage);\r\n    }\r\n\r\n    return (\r\n          <React.Fragment>\r\n          <Form >\r\n            <div className={CreateMomentStyles.createMoment1}>\r\n          <div className={CreateMomentStyles.createText}>Create your moment</div>  \r\n                <Form.Control className={`mb-2 ${CreateMomentStyles.cmInpt}`} type=\"text\" placeholder=\"Your moment title\" value={title} onChange={(e) => setTitle(e.target.value)}/>\r\n                <Form.Control className={`mb-2 ${CreateMomentStyles.cmInpttextarea}`} as=\"textarea\" rows={4} placeholder=\"Moment description\" value={description} onChange={(e) => setDescription(e.target.value)}/>\r\n                {imageswarning &&\r\n                    <div className=\"mb-2\">{imageswarning}</div>\r\n                }\r\n                {images.length !== 0 &&\r\n                  <SelectedImages images={images} removeImage={removeImage}/>\r\n                }\r\n                <div className={CreateMomentStyles.momentBtns}>\r\n                  <div className={CreateMomentStyles.uploadImgBtnGroup}>\r\n                    <button className={CreateMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<span>Add image</span></button>\r\n                    <input className={CreateMomentStyles.uploadImgInp} type=\"file\" id=\"img\" name=\"file\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n                  </div>\r\n                  <div><div className={CreateMomentStyles.addGrpBtn} onClick={() => setShowAddMates(true)}>Add group</div></div>\r\n                  <div className={CreateMomentStyles.calCov}><DatePicker setDate={setDate}/></div>\r\n                </div>\r\n                </div>\r\n                <div className={CreateMomentStyles.createMmtBtnCov}>\r\n                    <button type=\"submit\" onClick = {submitMoment} className={`${CreateMomentStyles.createMmtBtn} btn`}><FontAwesomeIcon icon={faPlus} size='2x' />&nbsp;<span>Create moment</span></button>             \r\n                </div>\r\n          </Form>\r\n          <AddGroupModal show={showAddMates} setShowAddMates={setShowAddMates} group={group} setGroup={setGroup}/>\r\n          </React.Fragment>  \r\n    )\r\n}\r\n\r\nCreateMoment.propTypes = {\r\n  createMoment : PropsTypes.func.isRequired\r\n}\r\n\r\nexport default connect(null, {createMoment}) (CreateMoment);\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Row, Col} from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport PersonalMemoryLaneStyles from './PersonalMemoryLane.module.css';\r\nimport Moment from '../moment/Moment';\r\nimport CreateMoment from '../createMoment/CreateMoment';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getUserMoments, clearUserMoments } from '../../../actions/momentActions';\r\nimport ToggleButton from './toggleBtn/ToggleButton';\r\n\r\nfunction PersonalMemoryLane(props : any) {\r\n\r\n    const {username} = useParams();\r\n    const [moments, setMoments] = useState([]);\r\n    const [sortByCreationDate, setSortByCreationDate] = useState(false);\r\n    //const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n\r\n    });\r\n\r\n    useEffect(() => {\r\n        //console.log(\"get um\")\r\n        props.getUserMoments(username);\r\n        return () => {\r\n            props.clearUserMoments();\r\n        }\r\n    }, [username]);\r\n\r\n    useEffect(() => {\r\n        const tArr : Array<any> = Array.from(props.userMoments.values());\r\n        const compare = (sortByCreationDate) ? sortByCreationDt() : sortByMomentDt();\r\n        tArr.sort(compare);\r\n        setMoments(tArr);\r\n    }, [props.userMoments, sortByCreationDate]);\r\n\r\n    const sortByCreationDt = () => {\r\n        return (a : any, b : any) => {\r\n            let aDate = new Date(a.createdAt);\r\n            let bDate = new Date(b.createdAt);\r\n            if(aDate.getTime() < bDate.getTime()){\r\n                return 1;\r\n            }\r\n            if(aDate.getTime() > bDate.getTime()){\r\n                return -1;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    const sortByMomentDt = () => {\r\n        return (a : any, b : any) => {\r\n            let aDate = new Date(a.date);\r\n            let bDate = new Date(b.date);\r\n            if(aDate.getTime() < bDate.getTime()){\r\n                return 1;\r\n            }\r\n            if(aDate.getTime() > bDate.getTime()){\r\n                return -1;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    const toggleSortType = () => {\r\n        setSortByCreationDate(!sortByCreationDate);\r\n    }\r\n\r\n    const renderMomentTitle = () => {\r\n        return (<div className={PersonalMemoryLaneStyles.ttl}>{(props.auth.username == username) ? <React.Fragment>Your</React.Fragment> : <React.Fragment>{props.firstname} {props.lastname}'s</React.Fragment>} personal memory lane</div>);\r\n    }\r\n\r\n    const renderMomentSortType = () => {\r\n       \r\n            return (\r\n                <div className={PersonalMemoryLaneStyles.mmtOrderTgl}>\r\n                        Show moments in&nbsp;\r\n                        <div className={`${PersonalMemoryLaneStyles.tglOpt} ${(sortByCreationDate)?(PersonalMemoryLaneStyles.tglSlctd):''}`} onClick={toggleSortType}>\r\n                            created date\r\n                        </div>\r\n                        &nbsp;or&nbsp;\r\n                        <div className={`${PersonalMemoryLaneStyles.tglOpt} ${(!sortByCreationDate)?(PersonalMemoryLaneStyles.tglSlctd):''}`} onClick={toggleSortType}>\r\n                            moment date\r\n                        </div>\r\n                        &nbsp;order\r\n                    </div>\r\n            )\r\n        \r\n    }\r\n\r\n    const renderMoments = () => {\r\n        return moments.map((moment : any) => \r\n            <Row key={moment.id}>\r\n                <Col key={moment.id}>\r\n                    <Moment key={moment.id} moment={moment} />\r\n                </Col>  \r\n            </Row>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={PersonalMemoryLaneStyles.memoryLaneP}>\r\n            <div className={PersonalMemoryLaneStyles.lane}>\r\n                <CreateMoment/>\r\n                {\r\n                    (moments.length !== 0) && \r\n                        <div className={PersonalMemoryLaneStyles.ttlCov}>\r\n                            {renderMomentTitle()}\r\n                            {renderMomentSortType()}\r\n                        </div>\r\n                }\r\n            </div> \r\n            <div className={PersonalMemoryLaneStyles.prsnlMryLnContainer}>\r\n                    {renderMoments()}\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nPersonalMemoryLane.propTypes = {\r\n    userMoments : PropTypes.any.isRequired,\r\n    getUserMoments : PropTypes.func.isRequired,\r\n    clearUserMoments : PropTypes.func.isRequired,\r\n    auth : PropTypes.object.isRequired,\r\n    firstname : PropTypes.string.isRequired,\r\n    lastname : PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    userMoments : state.moments.userMoments,\r\n    auth : state.auth,\r\n    firstname : state.profile.firstname,\r\n    lastname : state.profile.lastname\r\n});\r\n\r\nexport default connect(mapStateToProps, {getUserMoments, clearUserMoments}) (PersonalMemoryLane)\r\n","import React from 'react'\r\nimport Profile from './profile/Profile'\r\nimport Header from '../header/Header'\r\nimport { Container } from 'react-bootstrap';\r\nimport PersonalMemoryLane from './personalMemoryLane/PersonalMemoryLane';\r\n\r\nfunction Main() {\r\n    return (\r\n        <div>\r\n          <Container>\r\n            <Profile/>\r\n            <PersonalMemoryLane/>\r\n          </Container>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import { GET_PROFILE_DATA, GET_PROFILE_IMAGE } from '../actions/types';\r\n\r\ninterface IProfile{\r\n    username : string,\r\n    email : string,\r\n    firstname : string,\r\n    lastname : string,\r\n    phone : string,\r\n    createdAt : Date,\r\n    profileImage : string\r\n}\r\n\r\nconst initialState : IProfile = {\r\n    username : '',\r\n    email : '',\r\n    firstname : '',\r\n    lastname : '',\r\n    phone : '',\r\n    createdAt : new Date(),\r\n    profileImage : ''\r\n};\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case GET_PROFILE_DATA : \r\n            return {\r\n                ...state,\r\n                username : actions.payload.username,\r\n                email : actions.payload.email,\r\n                firstname : actions.payload.firstname,\r\n                lastname : actions.payload.lastname,\r\n                phone : actions.payload.phone,\r\n                createdAt : actions.payload.createdAt,\r\n                profileImage : actions.payload.profileImage\r\n            }\r\n        break;\r\n        case GET_PROFILE_IMAGE:\r\n            return {\r\n                ...state,\r\n                profileImage : actions.payload.profileImage\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}","import { FETCH_USER } from '../actions/types';\r\n\r\ninterface IAuth {\r\n    isAuth : boolean,\r\n    username : string,\r\n    id : string\r\n}\r\n\r\n\r\nconst initialState : IAuth = {\r\n    isAuth : false,\r\n    username : '',\r\n    id : ''\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case FETCH_USER :\r\n            //console.log(actions);\r\n            return {\r\n                ...state,\r\n                isAuth : actions.payload.isAuth,\r\n                username : actions.payload.username,\r\n                id : actions.payload.id\r\n            }\r\n        break;\r\n        default: \r\n            return state;\r\n    }\r\n}","import { GET_ERROR } from '../actions/types';\r\n\r\ninterface IError {\r\n    message : string\r\n}\r\n\r\nconst initialState : IError = {\r\n    message : ''\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case GET_ERROR:\r\n            return {\r\n                ...state,\r\n                message : actions.payload\r\n            }\r\n            break;\r\n        default:\r\n            return state;            \r\n    }\r\n}","import { SHOW_LOGIN_PANEL, SHOW_REGISTER_PANEL, CLOSE_LOGIN_REGISTER_PANEL, GET_USER_DETAILS_HEADER, GET_SEARCH_RESULTS } from '../actions/types';\r\n\r\ninterface IHeaderState {\r\n    showLoginPanel : boolean,\r\n    showRegisterPanel : boolean,\r\n    username : string,\r\n    profileImage : string,\r\n    searchResults : Array<any>\r\n}\r\n\r\nconst initialState : IHeaderState = {\r\n    showLoginPanel : false,\r\n    showRegisterPanel : false,\r\n    username : '',\r\n    profileImage : '',\r\n    searchResults : []\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case SHOW_LOGIN_PANEL:\r\n            return {\r\n                ...state,\r\n                showLoginPanel : true,\r\n                showRegisterPanel : false\r\n            }\r\n        case SHOW_REGISTER_PANEL:\r\n            return {\r\n                ...state,\r\n                showLoginPanel : false,\r\n                showRegisterPanel : true\r\n            }\r\n        case CLOSE_LOGIN_REGISTER_PANEL:\r\n            return {\r\n                ...state,\r\n                showLoginPanel : false,\r\n                showRegisterPanel : false\r\n            }\r\n        case GET_USER_DETAILS_HEADER:\r\n            //console.log(actions.profileImage);\r\n            return{\r\n                ...state,\r\n                username : actions.payload.username,\r\n                profileImage : actions.payload.profileImage\r\n            }\r\n        case GET_SEARCH_RESULTS:\r\n            return{\r\n                ...state,\r\n                searchResults : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { CREATE_MOMENT, GET_USER_MOMENTS, CLEAR_USER_MOMENTS, DELETE_USER_MOMENTS, UPDATE_USER_MOMENTS, GET_USER_SEARCH_RESULT } from '../actions/types';\r\nimport { IMomentResponse } from '../types/responseTypes/moment';\r\n\r\nconst initialState = {\r\n    userMoments : new Map<string, IMomentResponse>(),\r\n    userSearchResult : new Array<any>()\r\n    // updating : false,\r\n    // updated : false \r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case CREATE_MOMENT:\r\n            return {\r\n                ...state,\r\n                userMoments : createMoment(actions.payload, state.userMoments)\r\n            }\r\n        case GET_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : getMoments(actions.payload, state.userMoments)\r\n            }\r\n        case  DELETE_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : deleteMoment(actions.payload, state.userMoments)\r\n            }\r\n        case UPDATE_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : updateMoment(actions.payload, state.userMoments),\r\n                // updated : true,\r\n                // updating : false\r\n            }\r\n        case CLEAR_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : new Map()\r\n            }\r\n        case GET_USER_SEARCH_RESULT:\r\n            return {\r\n                ...state,\r\n                userSearchResult : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst createMoment = (payload : IMomentResponse, userMoment : any) => {\r\n    //const tUserMoment : any = {}\r\n    //tUserMoment.moments = [payload, ...userMoment.moments]\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    newUserMoment.set(payload.id, payload);\r\n    return new Map(newUserMoment);\r\n}\r\n\r\nconst getMoments = (payload : Array<IMomentResponse>, userMoment : any) => {\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    payload.map(moment => {\r\n        newUserMoment.set(moment.id, moment);\r\n    })\r\n    return new Map(newUserMoment);\r\n} \r\n\r\nconst updateMoment = (payload : IMomentResponse, userMoment : any) => {\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    newUserMoment.set(payload.id, payload);\r\n    return new Map(newUserMoment);\r\n}\r\n\r\nconst deleteMoment = (payload : any, userMoment : any) => {\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    newUserMoment.delete(payload.momentId);\r\n    return new Map(newUserMoment);\r\n}\r\n\r\n","import { GET_MEMORIES, CREATE_MEMORY, DELETE_MEMORY } from '../actions/types';\r\nimport { IMemoryResponse, IMemoriesResponse } from '../types/responseTypes/memory';\r\n\r\nconst initialState = {\r\n                    //momentId => (memoryId, memory)\r\n    memoriesMap : new Map<string, Map<string, IMemoryResponse>>()\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case CREATE_MEMORY:\r\n            return {\r\n                ...state,\r\n                memoriesMap : createMemory(actions.payload, state)\r\n            }\r\n        case GET_MEMORIES:\r\n            return {\r\n                ...state,\r\n                memoriesMap : getMemories(actions.payload, state)\r\n            }\r\n        case DELETE_MEMORY:\r\n            return {\r\n                ...state,\r\n                memoriesMap : deleteMemory(actions.payload, state)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst createMemory = (payload : any, state : any) => {\r\n    const newMemory: IMemoryResponse = payload.memory\r\n\r\n    let memories  : Map<string, IMemoryResponse> = state.memoriesMap.get(payload.moment);\r\n    if(memories){\r\n        memories.set(newMemory.id, newMemory);\r\n    }else{\r\n        memories = new Map([[newMemory.id, newMemory]]);\r\n    }\r\n\r\n    let newMemoriesMap : Map<string, Map<string, IMemoryResponse>> = state.memoriesMap;\r\n    newMemoriesMap.set(payload.moment, memories);\r\n    console.log(newMemoriesMap)\r\n    return new Map(newMemoriesMap);\r\n}\r\n\r\nconst getMemories = (payload : IMemoriesResponse, state : any) => {\r\n    const memoriesPayload : Array<IMemoryResponse> = payload.memories;\r\n    console.log(memoriesPayload);\r\n    const newMemoriesMap : Map<string, Map<string, IMemoryResponse>> = state.memoriesMap;\r\n    let memories : Map<string, IMemoryResponse> = state.memoriesMap.get(payload.moment);\r\n    if(!memories){\r\n        memories = new Map();\r\n    }\r\n    for(const memory of memoriesPayload){\r\n        memories.set(memory.id, memory);\r\n    }\r\n    //memories = Array(...memories, ...memoriesPayload);\r\n    newMemoriesMap.set(payload.moment, memories);\r\n    console.log(newMemoriesMap);\r\n    return new Map(newMemoriesMap);\r\n}\r\n\r\nconst deleteMemory = (memoryDetails : any, state : any) => {\r\n    //Current moment which contains the deleted memory\r\n    const tempMemoriesMap =  state.memoriesMap;\r\n    const moment : Map<string, IMemoryResponse> = tempMemoriesMap.get(memoryDetails.moment);\r\n    moment.delete(memoryDetails.memory);\r\n    tempMemoriesMap.set(memoryDetails.memory, moment);\r\n\r\n    return new Map(tempMemoriesMap);\r\n}","import { DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    //id of the moment\r\n    previouslySelectedDropdown : '',\r\n    currentlySelectedDropdown : ''\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE:\r\n            return {\r\n                ...state,\r\n                previouslySelectedDropdown : state.currentlySelectedDropdown,\r\n                currentlySelectedDropdown : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { GET_RELATIONSHIP_STATUS } from '../actions/types';\r\n\r\nconst initState = {\r\n    relationshipStatus : {}\r\n}\r\n\r\nexport default (state : any = initState, actions : any) => {\r\n    switch(actions.type){\r\n        case GET_RELATIONSHIP_STATUS:\r\n            return {\r\n                ...state,\r\n                relationshipStatus : getStatus(actions.payload)\r\n            }\r\n            default:\r\n                return state;\r\n    }\r\n}\r\n\r\nconst getStatus = (payload : any) => {\r\n    switch(payload.status){\r\n        case -1:\r\n            return {status : \"NotFriends\"};\r\n        case 0:\r\n            return {status : \"Pending\", userAction : payload.userAction};\r\n        case 1:\r\n            return {status : \"Accepted\", userAction : payload.userAction};\r\n        case 2:\r\n            return {status : \"Declined\", userAction : payload.userAction};\r\n        case 3:\r\n            return {status : \"Blocked\", userAction : payload.userAction};\r\n    }\r\n}\r\n\r\n","import { LOAD_MEMORY_LANE } from '../actions/types';\r\n \r\nconst initialState = {\r\n    moments : []\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case LOAD_MEMORY_LANE:\r\n            return {\r\n                ...state,\r\n                moments : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst loadMoments = (moments : any, state : any) => {\r\n    let temp = state.moments;\r\n    temp = [...temp, ...moments];\r\n    return temp;\r\n}","import {combineReducers} from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport authReducer from './authReducer';\r\nimport errorReducer from './errorReducer';\r\nimport headerReducer from './headerReducer';\r\nimport momentReducer from './momentReducer';\r\nimport memoryReducer from './memoryReducer';\r\nimport timelineUIReducer from './timelineUIReducer';\r\nimport relationshipReducer from './relationshipReducer';\r\nimport memoryLaneReducer from './memoryLaneReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    auth : authReducer,\r\n    profile : profileReducer,\r\n    error : errorReducer,\r\n    header : headerReducer,\r\n    moments : momentReducer,\r\n    memories : memoryReducer,\r\n    timelineUI : timelineUIReducer,\r\n    relationship : relationshipReducer,\r\n    memoryLane : memoryLaneReducer\r\n});\r\n\r\nexport default rootReducer;\r\nexport type RootState = ReturnType<typeof rootReducer>","import { createStore, applyMiddleware, compose, Store } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nlet store : Store;\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION__\r\n    }\r\n}\r\n\r\nconst ReactReduxDevTools = (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\r\n(window as any).__REDUX_DEVTOOLS_EXTENSION__()\r\n\r\nif(window.navigator.userAgent.includes(\"Chrome\") && ReactReduxDevTools){\r\n    store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        composeWithDevTools(    \r\n            applyMiddleware(...middleware)\r\n        )\r\n    )\r\n} else {\r\n    store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        compose(\r\n            applyMiddleware(...middleware)\r\n        )\r\n    )\r\n}\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\n\r\nconst setAuthToken = (token : any) => {\r\n    if(token){\r\n        //Apply auth header to all reqs\r\n        axios.defaults.headers.common['Authorization'] = token;\r\n    }else{\r\n        //Delete auth header\r\n        delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setAuthToken;","import { FETCH_USER, SET_CURRENT_USER, GET_ERROR, CLOSE_LOGIN_REGISTER_PANEL, SHOW_LOGIN_PANEL } from './types';\r\nimport { Dispatch, AnyAction }  from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport axios from 'axios';\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\n\r\nexport const fetchUserData = () => async (dispatch : Dispatch) => {\r\n    try{\r\n        \r\n        const res = await axios.get('/api/v0/auth/current_user');\r\n        // console.log(\"userdata\");\r\n        // console.log(res);\r\n        \r\n        dispatch({\r\n            type : FETCH_USER,\r\n            payload : res.data\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const loginUser = (loginCreds : any, history : any) => async (dispatch : Dispatch) => {\r\n    try{    \r\n        const res = await axios.post(\"/api/v0/auth/signin\", loginCreds);\r\n        //console.log(res);\r\n        \r\n        const token = res.data.token;\r\n        //save to local storage\r\n        localStorage.setItem('jwtToken', token);\r\n        //set token to auth header\r\n        setAuthToken(token);\r\n        //Decode token\r\n        const decoded = jwt_decode(token);\r\n        //console.log(decoded);\r\n        \r\n        //set current user\r\n        dispatch(setCurrentUser(decoded));\r\n        dispatch({\r\n            type : CLOSE_LOGIN_REGISTER_PANEL\r\n        })\r\n        history.push('/');\r\n    }catch(err){\r\n        // dispatch({\r\n        //     type : GET_ERRORS,\r\n        //     payload : err.response.data\r\n        // })\r\n    }\r\n}\r\n\r\nexport const registerUser = (userData : any, history : any) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const res = await axios.post(`/api/v0/auth/register`, userData);\r\n        //console.log(res);\r\n        dispatch({\r\n            type : SHOW_LOGIN_PANEL\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n        \r\n        dispatch({\r\n            type : GET_ERROR,\r\n            payload : 'error in register user'\r\n        })\r\n    }\r\n}\r\n\r\nexport const setQueryToLocal = (token : any, history : any) => async (dispatch : Dispatch) => {\r\n    //save to local storage\r\n    localStorage.setItem('jwtToken', token);\r\n    //set token to auth header\r\n    setAuthToken(token);\r\n    //Decode token\r\n    const decoded = jwt_decode(token);\r\n    //console.log(decoded);\r\n    \r\n    //set current user\r\n    dispatch(setCurrentUser(decoded));\r\n    history.push('/');\r\n}\r\n\r\n//Set logged in user \r\nexport const setCurrentUser = (decoded : any) => {\r\n    return({\r\n        type : FETCH_USER,\r\n        payload : decoded\r\n    })\r\n}\r\n\r\n//Logout\r\nexport const logout = ()  => {\r\n    //Remove token\r\n    localStorage.removeItem(\"jwtToken\");\r\n    //Remove auth header\r\n    setAuthToken(false);\r\n    window.location.href = \"/\";\r\n    //Set current user to {} to set isAuthenticated to false\r\n    return (setCurrentUser({isAuth : false, username : ''}))\r\n}\r\n","import { SHOW_LOGIN_PANEL, SHOW_REGISTER_PANEL, CLOSE_LOGIN_REGISTER_PANEL, GET_USER_DETAILS_HEADER, GET_SEARCH_RESULTS } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const showLoginPanel = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : SHOW_LOGIN_PANEL\r\n    });\r\n}\r\n\r\nexport const showRegisterPanel = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : SHOW_REGISTER_PANEL\r\n    });\r\n}\r\n\r\nexport const closeLoginRegisterPanel = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : CLOSE_LOGIN_REGISTER_PANEL\r\n    });\r\n}\r\n\r\nexport const getHeaderDetails = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/profile/${username}?head=1`);\r\n        dispatch({\r\n            type : GET_USER_DETAILS_HEADER,\r\n            payload : result.data\r\n        })\r\n        //console.log(result.data);\r\n        dispatch({\r\n            type : GET_USER_DETAILS_HEADER,\r\n            payload : result.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const searchTheQuery = (query : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/search/${query}`);\r\n        console.log(result.data);\r\n        dispatch({\r\n            type : GET_SEARCH_RESULTS,\r\n            payload : result.data\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n} \r\n\r\nexport const clearSearchResults = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : GET_SEARCH_RESULTS,\r\n        payload : []\r\n    })\r\n}","import React, {useState} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal, Form, Button } from 'react-bootstrap'\r\nimport fblogo from '../../images/login/fblogo.png'\r\nimport googleLogo from '../../images/login/googlelogo.png'\r\nimport './LoginModel.css';\r\nimport {loginUser} from '../../actions/authActions';\r\nimport { showRegisterPanel, closeLoginRegisterPanel } from '../../actions/headerActions';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nfunction LoginModel(props : any) {\r\n    const history = useHistory();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const login = (e : any) => {\r\n        e.preventDefault();\r\n        props.loginUser({email, password}, history.push('/'));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <Modal dialogClassName={\"modal-lgn\"} show={props.show} centered>\r\n        <Modal.Header>\r\n            <h6>Sign in</h6>\r\n            <span className=\"closeBtn\" onClick={() => props.closeLoginRegisterPanel()}>&#10005;</span>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <div className=\"other-login\">\r\n                <a className=\"fb-btn mr-1\" href=\"/api/v0/auth/facebook/\"><div ><img className=\"fb-ico\" src={fblogo}/><span className=\"fb-link-style\">facebook</span></div></a>\r\n                <a className=\"google-btn ml-1\" href=\"/api/v0/auth/google/\"><div ><img className=\"google-ico\" src={googleLogo}/><span className=\"google-link-style\">google</span></div></a>\r\n            </div>\r\n            <Form onSubmit={(e : any) => login(e)}>\r\n                <Form.Control className=\"login-field mt-3\" type=\"text\" placeholder=\"username or email\" value={email} onChange={e => setEmail(e.target.value)} autoComplete=\"on\" required/>\r\n                <Form.Control className=\"login-field mt-2 mb-2\" type=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)} autoComplete=\"on\" required/>\r\n                <Button className=\"login-btn mt-3\" type=\"submit\">Sign in</Button>\r\n            </Form>\r\n            <div className=\"text-center mt-2 mb-3\">New here?<span className=\"sign-up-link\" onClick={() => { props.showRegisterPanel()}}> Sign up</span></div>\r\n        </Modal.Body>\r\n        </Modal>  \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nLoginModel.propTypes = {\r\n    loginUser : PropTypes.func.isRequired,\r\n    showRegisterPanel : PropTypes.func.isRequired,\r\n    closeLoginRegisterPanel : PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(null, {loginUser, showRegisterPanel, closeLoginRegisterPanel}) (LoginModel);\r\n","import React, { useState } from 'react'\r\nimport { Modal, Form, Button } from 'react-bootstrap';\r\nimport { } from '../../actions/types';\r\nimport { registerUser } from '../../actions/authActions';\r\nimport { closeLoginRegisterPanel } from '../../actions/headerActions';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport \"./RegisterModel.css\"\r\n\r\nfunction RegisterModel(props : any) {\r\n\r\n    const history = useHistory(); \r\n\r\n    const [email, setEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const registerUser = () => {\r\n        const newUser = {\r\n            email,\r\n            username,\r\n            password,\r\n            confirmPassword\r\n        }\r\n        props.registerUser(newUser, history);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n           <Modal dialogClassName=\"modal-lgn\" show={props.show} centered>\r\n        <Modal.Header>\r\n            <h6>Sign up</h6>\r\n            <span className=\"closeBtn\" onClick={() => props.closeLoginRegisterPanel()}>&#10005;</span>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={registerUser}>\r\n                <Form.Control className=\"login-field mt-2\" type=\"email\" placeholder=\"email\" value={email} onChange={e => setEmail(e.target.value)} required/>\r\n                <Form.Control className=\"login-field mt-2\" type=\"text\" placeholder=\"username\" value={username} onChange={e => setUsername(e.target.value)} required/>\r\n                <Form.Control className=\"login-field mt-2 mb-2\" type=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)} required/>\r\n                <Form.Control className=\"login-field mt-2 mb-2\" type=\"password\" placeholder=\"confirm password\" value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)} required/>\r\n                <div className=\"text-center ml-3 mt-3 privacy-container\"><input className=\"cb mr-1\" type=\"checkbox\" required/><p>I agree to the</p><span className=\"ml-1 to-privacy-terms\">terms of service</span></div>\r\n                <Button className=\"login-btn mb-3\" type=\"submit\">Register</Button>\r\n            </Form>\r\n        </Modal.Body>\r\n        </Modal> \r\n        </div>\r\n    )\r\n}\r\n\r\nRegisterModel.propTypes = {\r\n    registerUser : PropTypes.func.isRequired,\r\n    closeLoginRegisterPanel : PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(null, {registerUser, closeLoginRegisterPanel}) (RegisterModel);\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nfunction UserImg(props : any) {\r\n    const [src, setSrc] = useState('');\r\n\r\n    useEffect(() => {\r\n        setSrc(props.img);\r\n    },[props]);\r\n    \r\n    const onError = () => {\r\n        setSrc(\"https://firebasestorage.googleapis.com/v0/b/memory-lane-68e6c.appspot.com/o/prodef.png?alt=media&token=8e86bcd7-1651-40db-8dc7-93328e995243\");\r\n    }\r\n\r\n    return (\r\n        <img src={src} style={{width : '40px', height : '40px', borderRadius : '50%', objectFit : 'cover'}} alt=\"\" onError={onError}/>\r\n    )\r\n}\r\n\r\nexport default UserImg\r\n","import React, { useEffect } from 'react';\r\nimport searchResultsStyles from './SearchResults.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction SearchResults(props : any) {\r\n\r\n    const {searchResults, showSuggestion, hideSuggestion} = props;\r\n\r\n    useEffect(() =>{\r\n      \r\n    },[]);\r\n\r\n    const onResultClick = () => {\r\n      hideSuggestion();\r\n    }\r\n\r\n    const renderSuggestions = () => {\r\n          return (\r\n            <React.Fragment>\r\n              {\r\n                searchResults.map((result: any) => \r\n                  <li key={result.username} className={searchResultsStyles.li} onClick={onResultClick}>\r\n                    <Link  className={searchResultsStyles.resWrpr} to={result.username}>\r\n                      <img src={result.profileImage} />\r\n                      <div><span>{`${result.firstname}`}</span>{result.lastname && <span>{` ${result.lastname}`}</span>} </div>\r\n                      </Link>\r\n                  </li>\r\n                )\r\n              }\r\n            </React.Fragment>\r\n          );\r\n      };\r\n\r\n    return (\r\n      <div className={searchResultsStyles.wrpr}>\r\n      {showSuggestion && searchResults.length > 0 && <React.Fragment>\r\n        <div className={searchResultsStyles.upArr}></div>\r\n        <ul className={searchResultsStyles.ulo}>{renderSuggestions()}</ul>\r\n        </React.Fragment>}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default SearchResults\r\n","import React, {useState, useEffect} from 'react';\r\nimport { FormControl, Form } from 'react-bootstrap';\r\nimport searchBarStyles from './SearchBar.module.css';\r\nimport {\r\n    searchTheQuery,\r\n    clearSearchResults\r\n  } from \"../../actions/headerActions\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchResults from './SearchResults';\r\n\r\nfunction SearchBar(props : any) {\r\n\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [showSuggestion, setShowSuggestion] = useState(false);\r\n    let timeout : any; \r\n\r\n    useEffect(() => {\r\n        setSearchResults(props.searchResults);\r\n        console.log(props.searchResults);\r\n      },[props.searchResults])\r\n\r\n    useEffect(() => {\r\n      if(searchQuery.trim().length === 0){\r\n        console.log(`clear`);\r\n        props.clearSearchResults();\r\n      }       \r\n    }, [searchQuery])\r\n\r\n    const onSearchQueryChange = (event: any) => {\r\n        setSearchQuery(event.target.value);\r\n        if (event.target.value.trim().length > 0) {\r\n          //console.log('search q='+event.target.value);\r\n          props.searchTheQuery(event.target.value);\r\n        } else if(event.target.value.trim().length === 0 || event.target.value === \"\" || searchQuery === \"\") {\r\n          //console.log('clear suggestion');\r\n          setSearchResults([]);\r\n          props.clearSearchResults();\r\n        }\r\n      };\r\n\r\n    const onInputFieldFocus = () => {\r\n      //setSearchResults(props.searchResults);\r\n      unHideSuggestion();\r\n    }\r\n    \r\n    const hideSuggestion = (event : any) => {\r\n      timeout = setTimeout(() => {\r\n        if(showSuggestion){\r\n          setShowSuggestion(false);\r\n        }\r\n      });\r\n    }\r\n\r\n    const onFocusHandler = () => {\r\n      clearTimeout(timeout);\r\n    }\r\n\r\n    const unHideSuggestion = () => {\r\n      if(!showSuggestion){\r\n        setShowSuggestion(true);\r\n      }\r\n    }\r\n\r\n    return (\r\n        <Form inline onBlur={hideSuggestion} onFocus={onFocusHandler}>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Search people\"\r\n                className={searchBarStyles.searchBar}\r\n                value={searchQuery}\r\n                onChange={onSearchQueryChange}\r\n                onFocus={onInputFieldFocus}\r\n              />\r\n              <SearchResults searchResults={searchResults} showSuggestion={showSuggestion} hideSuggestion={hideSuggestion}/>\r\n        </Form>\r\n    )\r\n}\r\n\r\nSearchBar.propTypes = {\r\n    searchTheQuery: PropTypes.func.isRequired,\r\n    clearSearchResults: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    searchResults: state.header.searchResults\r\n  });\r\n\r\nexport default connect(mapStateToProps, {\r\n    searchTheQuery,\r\n    clearSearchResults\r\n  })(SearchBar);\r\n","import React, { useState, useEffect, StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  Navbar,\r\n  NavDropdown,\r\n  Form,\r\n  Button,\r\n  Nav,\r\n  FormControl,\r\n  Dropdown\r\n} from \"react-bootstrap\";\r\nimport headerStyles from \"./Header.module.css\";\r\nimport LoginModel from \"../auth/LoginModel\";\r\nimport RegisterModel from \"../auth/RegisterModel\";\r\nimport { fetchUserData, logout } from \"../../actions/authActions\";\r\nimport {\r\n  showLoginPanel,\r\n  showRegisterPanel,\r\n  getHeaderDetails\r\n} from \"../../actions/headerActions\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserImg from \"./UserImg\";\r\nimport SearchBar from \"./SearchBar\";\r\n\r\nconst Header = (props: any) => {\r\n  //const {username} = useParams();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [profileImage, setProfileImage] = useState(\"\");\r\n  const [showLoginModal, setShowLoginModal] = useState(false);\r\n  const [showSignUpModal, setShowSignUpModal] = useState(false);\r\n  \r\n\r\n  useEffect(() => {}, []);\r\n\r\n  useEffect(() => {\r\n    if (props.auth.isAuth) {\r\n      setUsername(props.auth.username);\r\n      props.getHeaderDetails(props.auth.username);\r\n    }\r\n  }, [props.auth.username]);\r\n\r\n  useEffect(() => {\r\n    if (props.auth.isAuth) {\r\n      setProfileImage(props.profileImage);\r\n    }\r\n  }, [props.profileImage]);\r\n\r\n  useEffect(() => {\r\n    \r\n      setShowLoginModal(props.headerState.showLoginPanel);\r\n      setShowSignUpModal(props.headerState.showRegisterPanel);\r\n    \r\n  }, [props.headerState]);\r\n\r\n  \r\n  const showSignin = () => {\r\n    props.showLoginPanel();\r\n  };\r\n\r\n  const showSignUp = () => {\r\n    props.showRegisterPanel();\r\n  };\r\n\r\n  const renderHeader = () => {\r\n    if (!props.auth.isAuth) {\r\n      return (\r\n        <React.Fragment>\r\n          <Nav className=\"mr-auto\">\r\n          </Nav>\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            className={headerStyles.signinButton}\r\n            onClick={() => showSignin()}\r\n          >\r\n            Sign in\r\n          </Button>\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            className={headerStyles.signinButton}\r\n            onClick={() => showSignUp()}\r\n          >\r\n            Sign up\r\n          </Button>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className={`mr-auto ${headerStyles.clpse}`}>\r\n              <SearchBar />\r\n            </Nav>\r\n            <Nav className={headerStyles.clpse}>\r\n            <Link className={headerStyles.Userlink} to={`/${username}`}>\r\n              <UserImg img={profileImage} />\r\n              <div className={headerStyles.uName}>{username}</div>\r\n            </Link>\r\n            </Nav>\r\n            <Nav className={headerStyles.clpse}>\r\n              <Button\r\n                variant=\"outline-primary\"\r\n                className={headerStyles.signinButton}\r\n                onClick={(e: any) => props.logout()}\r\n              >\r\n                Sign out\r\n              </Button>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={headerStyles.header}>\r\n        <Navbar bg=\"light\" variant=\"light\" expand=\"sm\">\r\n          <Link to=\"/\">\r\n            <Navbar.Brand href=\"\" className={headerStyles.logo}>\r\n              Memory lane\r\n            </Navbar.Brand>\r\n          </Link>\r\n          {renderHeader()}\r\n        </Navbar>\r\n      </div>\r\n      <LoginModel show={showLoginModal} />\r\n      <RegisterModel show={showSignUpModal} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  fetchUserData: PropTypes.func.isRequired,\r\n  logout: PropTypes.func.isRequired,\r\n  //getProfileImage : PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  profileImage: PropTypes.string.isRequired,\r\n  showLoginPanel: PropTypes.func.isRequired,\r\n  showRegisterPanel: PropTypes.func.isRequired,\r\n  headerState: PropTypes.object.isRequired,\r\n  getHeaderDetails: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  auth: state.auth,\r\n  profileImage: state.header.profileImage,\r\n  //username : state.header.username,\r\n  headerState: state.header\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchUserData,\r\n  logout,\r\n  showLoginPanel,\r\n  showRegisterPanel,\r\n  getHeaderDetails\r\n})(Header);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Moment from \"../moment/Moment\";\r\nimport { Row, Col, Container } from \"react-bootstrap\";\r\nimport memoryLaneStyles from \"./MemoryLane.module.css\";\r\nimport { fetchUserData, setQueryToLocal } from \"../../../actions/authActions\";\r\nimport { loadMemoryLane } from \"../../../actions/memoryLaneActions\";\r\nimport {\r\n  showLoginPanel,\r\n  showRegisterPanel\r\n} from \"../../../actions/headerActions\";\r\nimport { connect, useStore } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport LoginModel from \"../../auth/LoginModel\";\r\nimport RegisterModel from \"../../auth/RegisterModel\";\r\n\r\nfunction MemoryLane(props: any) {\r\n  const history = useHistory();\r\n\r\n  const [moments, setMoments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!props.auth.isAuth) {\r\n      const paramString: string = props.location.search;\r\n      const params = new URLSearchParams(paramString);\r\n      console.log(params.get(\"do\"));\r\n      if (params.get(\"success\") && params.get(\"token\")) {\r\n        props.setQueryToLocal(params.get(\"token\"), history);\r\n      } else if (params.get(\"do\")) {\r\n        if (params.get(\"do\") === \"signin\") {\r\n          props.showLoginPanel();\r\n        } else if (params.get(\"do\") === \"register\") {\r\n          props.showRegisterPanel();\r\n        }\r\n      }\r\n    } else {\r\n      props.loadMemoryLane();\r\n    }\r\n  }, [props.auth.isAuth]);\r\n\r\n  useEffect(() => {\r\n    const tArr: Array<any> = Array.from(props.moments.values());\r\n    tArr.sort(sortByCreationDt());\r\n    setMoments(tArr);\r\n  }, [props.moments]);\r\n\r\n  const sortByCreationDt = () => {\r\n    return (a: any, b: any) => {\r\n      let aDate = new Date(a.createdAt);\r\n      let bDate = new Date(b.createdAt);\r\n      if (aDate.getTime() < bDate.getTime()) {\r\n        return 1;\r\n      }\r\n      if (aDate.getTime() > bDate.getTime()) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    };\r\n  };\r\n\r\n  const renderMoments = () => {\r\n    return moments.map((moment : any) => (\r\n      <Row key={moment.id}>\r\n        <Col key={moment.id}>\r\n          <Moment key={moment.id} moment={moment} />\r\n        </Col>\r\n      </Row>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Container>\r\n        <div className={memoryLaneStyles.memoryLane}>{renderMoments()}</div>\r\n      </Container>\r\n      <LoginModel show={false} />\r\n      <RegisterModel show={false} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMemoryLane.propTypes = {\r\n  fetchUserData: PropTypes.func.isRequired,\r\n  setQueryToLocal: PropTypes.func.isRequired,\r\n  showLoginPanel: PropTypes.func.isRequired,\r\n  showRegisterPanel: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  loadMemoryLane: PropTypes.func.isRequired,\r\n  moments: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  auth: state.auth,\r\n  moments: state.memoryLane.moments\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchUserData,\r\n  setQueryToLocal,\r\n  showLoginPanel,\r\n  showRegisterPanel,\r\n  loadMemoryLane\r\n})(MemoryLane);\r\n","import { LOAD_MEMORY_LANE } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const loadMemoryLane = () => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`api/v0/`);\r\n        console.log(result);\r\n        dispatch({\r\n            type : LOAD_MEMORY_LANE,\r\n            payload : result.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ProtectedRoute = ({component : Component, auth , ...otherProps} : any) => (\r\n    <Route \r\n        {...otherProps}\r\n        render = { props =>\r\n            auth.isAuth === true ? (\r\n                <Component {...props} />\r\n            ) \r\n            :\r\n            (\r\n                <Redirect to='/?do=signin' />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nProtectedRoute.propTypes = {\r\n    auth : PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    auth : state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(ProtectedRoute);","import React from 'react';\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css'\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport Main from './components/main/Main';\nimport store from './store';\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Header from './components/header/Header';\nimport MemoryLane from './components/main/memoryLane/MemoryLane';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logout } from \"./actions/authActions\";\nimport ProtectedRoute from './utils/ProtectedRoute';\n\n//Check for token\nif(localStorage.jwtToken){\n  //set auth token\n  setAuthToken(localStorage.jwtToken);\n  //Decode token and get user data\n  const decoded : any = jwt_decode(localStorage.jwtToken);\n  //Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n  //Check for expired token\n  const currentTime = Date.now() / 1000;\n  if(decoded.exp < currentTime){\n    //Logout user\n    store.dispatch(logout());\n    //store.dispatch(setCurrentUser({}));\n    //Clear data\n    window.location.href = \"/\";\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n        <Router>\n        <Header/>\n        <Route exact path=\"/\" component={MemoryLane}/>\n        {/* <Route exact path=\"/:username\" component={Main}/> */}\n        <Switch>\n          <ProtectedRoute exact path=\"/:username\" component={Main}/>\n        </Switch>\n        </Router>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedMoment\":\"EditSelectedMoment_selectedMoment__2knQV\",\"imgs\":\"EditSelectedMoment_imgs__2ThUt\",\"optTit\":\"EditSelectedMoment_optTit__R5rFx\",\"ti\":\"EditSelectedMoment_ti__yP6cg\",\"title\":\"EditSelectedMoment_title__1JpyP\",\"desc\":\"EditSelectedMoment_desc__32Nke\",\"clMoment\":\"EditSelectedMoment_clMoment__1L5iU\",\"crMoment\":\"EditSelectedMoment_crMoment__1jcjQ\",\"imgNav\":\"EditSelectedMoment_imgNav__2t4K-\",\"lAr\":\"EditSelectedMoment_lAr__3UNJ-\",\"rAr\":\"EditSelectedMoment_rAr__3MRr_\",\"rw1Ht\":\"EditSelectedMoment_rw1Ht__zHvm7\",\"rw2Ht\":\"EditSelectedMoment_rw2Ht__1w90b\",\"updtBtn\":\"EditSelectedMoment_updtBtn__2oJ26\",\"uploadImgInp\":\"EditSelectedMoment_uploadImgInp__vOjrb\",\"uploadImgBtn\":\"EditSelectedMoment_uploadImgBtn__2HO_3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moment\":\"Moment_moment__2Kge4\",\"title\":\"Moment_title__1JC0h\",\"desc\":\"Moment_desc__3wzKt\",\"uname\":\"Moment_uname__PdWxW\",\"date\":\"Moment_date__BTlXp\",\"profPic\":\"Moment_profPic__2Q5mx\",\"wrpr\":\"Moment_wrpr__2C-tA\",\"dtTTip\":\"Moment_dtTTip__3gTCO\",\"lftArr\":\"Moment_lftArr__1izjC\",\"ttp\":\"Moment_ttp__15dar\",\"mtbl\":\"Moment_mtbl__1JCIz\",\"showMoreBtn\":\"Moment_showMoreBtn__2a3CE\",\"dtWrpr\":\"Moment_dtWrpr__sZSpA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedMoment\":\"SelectedMoment_selectedMoment__33H_M\",\"lftCov\":\"SelectedMoment_lftCov__35zBF\",\"imgFNameCont\":\"SelectedMoment_imgFNameCont__2x2SA\",\"uname\":\"SelectedMoment_uname__3tCy5\",\"profPicSm\":\"SelectedMoment_profPicSm__1-4l7\",\"title\":\"SelectedMoment_title__3OQt0\",\"desc\":\"SelectedMoment_desc__3wZ7z\",\"clMoment\":\"SelectedMoment_clMoment__3iWAo\",\"crMoment\":\"SelectedMoment_crMoment__2XH6c\",\"imgNav\":\"SelectedMoment_imgNav__3B9wv\",\"lAr\":\"SelectedMoment_lAr__spZ4h\",\"rAr\":\"SelectedMoment_rAr__2GgUP\",\"rw1Ht\":\"SelectedMoment_rw1Ht__pFJVS\",\"rw2Ht\":\"SelectedMoment_rw2Ht__2_pgN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createMoment1\":\"CreateMoment_createMoment1__2gSzi\",\"createText\":\"CreateMoment_createText__aKK8m\",\"cmInpt\":\"CreateMoment_cmInpt__36HKx\",\"form-control\":\"CreateMoment_form-control__3G59H\",\"cmInpttextarea\":\"CreateMoment_cmInpttextarea__3cuu1\",\"uploadImgInp\":\"CreateMoment_uploadImgInp__zhNkp\",\"uploadImgBtn\":\"CreateMoment_uploadImgBtn__2jxnD\",\"addGrpBtn\":\"CreateMoment_addGrpBtn__e0BN0\",\"momentBtns\":\"CreateMoment_momentBtns__3_DZR\",\"dateSelectBtn\":\"CreateMoment_dateSelectBtn__DbwMm\",\"createMmtBtnCov\":\"CreateMoment_createMmtBtnCov__2ZGgx\",\"createMmtBtn\":\"CreateMoment_createMmtBtn__1BqiG\",\"uploadImgBtnGroup\":\"CreateMoment_uploadImgBtnGroup__2BSxA\",\"calCov\":\"CreateMoment_calCov__5CQf6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"model\":\"AddGroupModal_model__1AnUN\",\"modalDialog\":\"AddGroupModal_modalDialog__31VHV\",\"ttle\":\"AddGroupModal_ttle__1a5ha\",\"input_tag\":\"AddGroupModal_input_tag__2Mi2i\",\"input_tag__tags\":\"AddGroupModal_input_tag__tags__3jrno\",\"input_tag__tags__input\":\"AddGroupModal_input_tag__tags__input__2IhxM\",\"inp\":\"AddGroupModal_inp__25YtT\",\"btnWrpr\":\"AddGroupModal_btnWrpr__2OOeZ\",\"btn\":\"AddGroupModal_btn__2CCXY\",\"ulo\":\"AddGroupModal_ulo__82fOl\",\"lst\":\"AddGroupModal_lst__2ADmi\",\"frm\":\"AddGroupModal_frm__3ntd-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memoriesTitle\":\"Memories_memoriesTitle__TlFjt\",\"delIco\":\"Memories_delIco__gQtUU\",\"memLiCov\":\"Memories_memLiCov__2NgCd\",\"adMem\":\"Memories_adMem__1ZN7t\",\"memWrapr\":\"Memories_memWrapr__29O2r\",\"li\":\"Memories_li__2VZNP\",\"memTxt\":\"Memories_memTxt__3i2ef\",\"Mrywrpr\":\"Memories_Mrywrpr__fkHo3\",\"memUsrNm\":\"Memories_memUsrNm__1XNp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memoryLaneP\":\"PersonalMemoryLane_memoryLaneP__3xVto\",\"lane\":\"PersonalMemoryLane_lane__2b4pi\",\"mmtOrderTgl\":\"PersonalMemoryLane_mmtOrderTgl__3cvBM\",\"tglOpt\":\"PersonalMemoryLane_tglOpt__2yapj\",\"tglSlctd\":\"PersonalMemoryLane_tglSlctd__1rz_j\",\"ttl\":\"PersonalMemoryLane_ttl__MlrMG\",\"prsnlMryLnContainer\":\"PersonalMemoryLane_prsnlMryLnContainer__3oVHR\",\"ttlCov\":\"PersonalMemoryLane_ttlCov__3wIMF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__1GkLh\",\"signinButton\":\"Header_signinButton__2H0K8\",\"header\":\"Header_header__1ZdXi\",\"uName\":\"Header_uName__2irb6\",\"Userlink\":\"Header_Userlink__1BJ3a\",\"clpse\":\"Header_clpse__2mUt3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drpdwnLst\":\"DropdownMenuMoment_drpdwnLst__3C6MB\",\"lst\":\"DropdownMenuMoment_lst__2M5on\",\"lstItm\":\"DropdownMenuMoment_lstItm__1RVS_\",\"arwUp\":\"DropdownMenuMoment_arwUp__1OFpR\",\"arwWrpr\":\"DropdownMenuMoment_arwWrpr__1bTtM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"prfImg\":\"ProfileImage_prfImg__PQQV8\",\"cnt\":\"ProfileImage_cnt__1Q8Ht\",\"pIOverlay\":\"ProfileImage_pIOverlay__1sLts\",\"openOverlay\":\"ProfileImage_openOverlay__26Cfz\",\"camCov\":\"ProfileImage_camCov__1e5MQ\",\"camIco\":\"ProfileImage_camIco__iRRQO\",\"uploadImgInp\":\"ProfileImage_uploadImgInp__3Z4Ng\",\"uploadImgBtn\":\"ProfileImage_uploadImgBtn__17TTb\",\"prfsvg\":\"ProfileImage_prfsvg__3b83i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"MeatballIco_circle__1OsE-\",\"menu__wrapper\":\"MeatballIco_menu__wrapper__10n92\",\"menu_item_meatball\":\"MeatballIco_menu_item_meatball__3KqyD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrpr\":\"SearchResults_wrpr__3fxwg\",\"ulo\":\"SearchResults_ulo__3jixd\",\"li\":\"SearchResults_li__q6PvN\",\"upArr\":\"SearchResults_upArr__xQrwc\",\"resWrpr\":\"SearchResults_resWrpr__3xiKV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedModel\":\"SelectedModal_selectedModel__2Tocz\",\"lftCov\":\"SelectedModal_lftCov__JMPqi\",\"modal-dialog\":\"SelectedModal_modal-dialog__3aQ0X\",\"closeBtn\":\"SelectedModal_closeBtn__3Ofz0\",\"drpdwn\":\"SelectedModal_drpdwn__1Lg4m\",\"trBtnWrpr\":\"SelectedModal_trBtnWrpr__1GG6p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedModel\":\"EditMomentModal_selectedModel__36abm\",\"lftCov\":\"EditMomentModal_lftCov__WE-Aq\",\"modal-dialog\":\"EditMomentModal_modal-dialog__ak-wY\",\"closeBtn\":\"EditMomentModal_closeBtn__1_ias\",\"drpdwn\":\"EditMomentModal_drpdwn__2NWns\",\"trBtnWrpr\":\"EditMomentModal_trBtnWrpr__1c0jl\",\"backdrop\":\"EditMomentModal_backdrop__2aMto\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inpTa\":\"AddMemory_inpTa__1TznV\",\"bttmDiv\":\"AddMemory_bttmDiv__1M9rC\",\"adMryBtn\":\"AddMemory_adMryBtn___qywQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedImg\":\"EditImg_selectedImg__3OqrY\",\"imgCov\":\"EditImg_imgCov__sp2C9\",\"imgCol\":\"EditImg_imgCol__STE9H\",\"removeImg\":\"EditImg_removeImg__dH-vV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedImg\":\"SelectedImg_selectedImg__3UObM\",\"container\":\"SelectedImg_container__Ff6fh\",\"img-plh\":\"SelectedImg_img-plh__ait0N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedImg\":\"SelectedImages_selectedImg__1Mg2S\",\"imgCol\":\"SelectedImages_imgCol__1R9qv\",\"removeImg\":\"SelectedImages_removeImg__2smz7\"};"],"sourceRoot":""}