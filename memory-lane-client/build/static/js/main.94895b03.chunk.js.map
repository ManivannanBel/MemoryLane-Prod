{"version":3,"sources":["components/main/moment/Img.module.css","components/main/moment/MomentImg.module.css","components/main/moment/memory/UserImg.module.css","images/login/fblogo.png","images/login/googlelogo.png","components/header/SearchBar.module.css","components/main/moment/editSelectedMoment/EditSelectedMoment.module.css","components/main/profile/Profile.module.css","components/main/profile/ProfileImage.tsx","actions/profileActions.ts","actions/types.ts","components/main/profile/relationshipButtons/AddFriend.tsx","components/main/profile/relationshipButtons/RequestSent.tsx","components/main/profile/relationshipButtons/AcceptRequest.tsx","components/main/profile/relationshipButtons/Friends.tsx","components/main/profile/relationshipButtons/Unblock.tsx","components/main/profile/Profile.tsx","actions/relationshipActions.tsx","components/main/moment/Img.tsx","components/main/moment/MomentImg.tsx","components/main/moment/selectedMoment/SelectedImg.tsx","components/main/moment/memory/AddMemory.tsx","components/main/moment/memory/UserImg.tsx","components/main/moment/memory/Memory.tsx","actions/memoryActions.ts","components/main/moment/memory/Memories.tsx","components/main/moment/selectedMoment/SelectedMoment.tsx","components/main/moment/momentMenu/MeatballIco.tsx","actions/momentActions.ts","components/main/moment/editSelectedMoment/EditImg.tsx","components/main/moment/editSelectedMoment/EditSelectedMoment.tsx","components/main/moment/editSelectedMoment/EditMomentModal.tsx","components/main/moment/momentMenu/DropdownMenuMoment.tsx","components/main/moment/selectedMoment/SelectedModal.tsx","components/main/moment/Moment.tsx","actions/uiActions.ts","components/main/createMoment/SelectedImage.tsx","components/main/createMoment/SelectedImages.tsx","components/main/createMoment/datePicker/DatePicker.tsx","components/main/createMoment/addGroup/AddGroupModal.tsx","components/main/createMoment/CreateMoment.tsx","components/main/personalMemoryLane/PersonalMemoryLane.tsx","components/main/friendsList/FriendListItem.tsx","components/main/friendsList/FriendsList.tsx","components/main/Main.tsx","reducers/profileReducer.ts","reducers/authReducer.ts","reducers/errorReducer.ts","reducers/headerReducer.ts","reducers/momentReducer.ts","reducers/memoryReducer.ts","reducers/timelineUIReducer.ts","reducers/relationshipReducer.tsx","reducers/memoryLaneReducer.ts","reducers/index.ts","store.ts","utils/setAuthToken.ts","actions/authActions.ts","actions/headerActions.ts","components/auth/LoginModel.tsx","components/auth/RegisterModel.tsx","components/header/UserImg.tsx","components/header/SearchResults.tsx","components/header/SearchBar.tsx","components/header/Header.tsx","components/main/memoryLane/MemoryLane.tsx","actions/memoryLaneActions.ts","utils/ProtectedRoute.tsx","App.tsx","serviceWorker.ts","index.tsx","components/main/moment/Moment.module.css","components/main/moment/selectedMoment/SelectedMoment.module.css","components/main/createMoment/CreateMoment.module.css","components/main/createMoment/addGroup/AddGroupModal.module.css","components/header/Header.module.css","components/main/moment/memory/Memories.module.css","components/main/personalMemoryLane/PersonalMemoryLane.module.css","components/main/moment/momentMenu/DropdownMenuMoment.module.css","components/main/profile/ProfileImage.module.css","components/main/memoryLane/MemoryLane.module.css","components/main/createMoment/SelectedImages.module.css","components/main/friendsList/FriendList.module.css","components/main/moment/momentMenu/MeatballIco.module.css","components/header/SearchResults.module.css","components/main/moment/selectedMoment/SelectedModal.module.css","components/main/moment/editSelectedMoment/EditMomentModal.module.css","components/main/moment/memory/AddMemory.module.css","components/main/moment/editSelectedMoment/EditImg.module.css","components/main/moment/selectedMoment/SelectedImg.module.css"],"names":["module","exports","connect","state","auth","updateProfileImage","username","file","dispatch","a","formData","FormData","append","axios","put","headers","res","type","payload","profileImage","data","console","log","props","useState","src","setSrc","showOverlay","setShowOverlay","setImage","useEffect","onError","hoverOn","className","profileImageStyles","cnt","pIOverlay","onMouseLeave","camCov","camIco","icon","faCameraRetro","color","size","uploadImgInp","id","name","accept","onChange","event","imgFile","Object","values","target","files","prfImg","prfsvg","onMouseEnter","faUserCircle","alt","AddFriend","Button","profileStyles","frndReqBtn","onClick","sendFriendRequest","faUserPlus","RequestSent","faUserClock","AcceptRequest","Fragment","frndRqSnt","firstname","acceptFriendRequest","rejectRequest","faUserTimes","Friends","showOpts","setShowOpts","relStsBtnWrpr","faUserFriends","relBtnDrpDwn","relOpts","unfriend","block","Unblock","unblock","profile","relationshipStatus","relationship","getProfileData","get","response","getRelationshipStatus","post","user2username","cancelRequest","useParams","setEmail","setFirstname","lastname","setLastname","Date","createdDate","setCreatedDate","setPhone","setProfileImage","email","createdAt","phone","Row","Col","md","status","userAction","renderRelationshipButton","namesDiv","names","toDateString","toString","prfOpts","setProfileOption","Img","ImgStyles","image","style","width","height","img","draggable","MomentImg","momentImgStyles","momentImg","openMoment","SelectedImg","loading","setLoading","setFile","imgRef","useRef","current","selectedImgStyles","container","ref","selectedImg","onLoad","e","AddMemory","memory","setMemory","addMemoryStyles","bttmDiv","Form","onSubmit","preventDefault","length","createMemory","Control","inpTa","as","rows","placeholder","value","adMryBtn","UserImg","userImgStyles","deleteMemory","moment","delete","memoriesStyles","memTxt","memUsrNm","to","owner","profilePic","delIco","faTrashAlt","momentId","Mrywrpr","memoriesMap","memories","getMemories","memoriesResponse","memoriesPayload","memoryResponse","_memory","memoryPayload","setMemories","tMem","Array","from","memWrapr","memoriesTitle","memLiCov","map","key","li","adMem","newMemory","SelectedMoment","title","description","currentFile","setCurrentFile","selectedMomentStyles","selectedMoment","clMoment","lftCov","imgFNameCont","profPicSm","uname","imgNav","lAr","faArrowAltCircleLeft","rAr","faArrowAltCircleRight","generateImages","crMoment","rw1Ht","desc","rw2Ht","MeatballIco","meatballStyles","menu__wrapper","menu_item_meatball","circle","ImgCompressionOptions","maxSizeMB","maxIteration","maxWidthOrHeight","useWebWorker","EditImg","index","editImgStyles","imgCov","removeImg","removeImage","faTimes","url","updateMoment","dataToBeUpdated","newImages","imageCompression","updatedMomentResponse","momentData","date","group","FileType","setTitle","setDescription","existingfiles","setExistingFiles","filesRemoved","setFilesRemoved","updating","setUpdating","setNewImages","imageswarning","setImagesWarning","isMobile","setIsMobile","window","innerWidth","setShow","onImagesSelect","imageFiles","concat","slice","alreadyExisting","push","tImage","splice","editSelectedMomentStyles","optTit","isArray","updated","existingUrls","JSON","stringify","ti","imgs","displayImages","URL","createObjectURL","recentlyAdded","wrapper","wrapperContent","uploadImgBtnGroup","uploadImgBtn","faImages","multiple","requiredRows","pointer","r","cols","c","xs","renderImages","updtBtn","EditMomentModal","show","Modal","backdropClassName","selectedModalStyles","backdrop","selectedModel","centered","trBtnWrpr","closeBtn","setShowEditPanel","deleteMoment","result","showEditPanel","closeMenu","setCloseMenu","remove","onBlur","setTimeout","dropdownMenuMomentStyles","drpdwnLst","arwWrpr","arwUp","owned","lst","lstItm","authUName","setOwned","drpdwn","closeMoment","previousMenu","timelineUI","previouslySelectedDropdown","currentMenu","currentlySelectedDropdown","selectMenuInTimeLine","selected","setSelected","setDate","fullDate","momentjs","format","moreDesc","setMoreDesc","createDate","_date","_createdDate","MomentStyles","wrpr","profPic","bsPrefix","dtWrpr","OverlayTrigger","delay","placement","overlay","ttp","lftArr","dtTTip","mtbl","_desc","match","showMoreBtn","descSplit","split","shrtDesc","renderDescription","SelectedImage","selectedImagesStyles","imgWrpr","SelectedImages","images","DatePicker","datePickerElement","selectedDateElement","datesElement","mthElement","nextMthElement","prevMthElement","daysElement","months","currentDay","getDate","currentMonth","getMonth","currentYear","getFullYear","day","month","year","selectedDate","selectedDay","selectedMonth","selectedYear","textContent","formatDate","populateDates","innerHTML","amount_days","i","day_element","document","createElement","classList","add","addEventListener","dataset","appendChild","d","contains","toggle","userSearchResult","moments","searchUserQuery","query","_timeout","Map","groupMates","setGroupMates","searchResults","setSearchResults","searchQuery","setSearchQuery","showSuggestion","setShowSuggestion","temp","filter","has","trim","dialogClassName","addGroupStyles","modalDialog","model","ttle","input_tag","input_tag__tags","listRes","forEach","fullname","tempMap","removeTag","renderGroupMates","frm","onFocus","clearTimeout","inp","ulo","user","set","selectMate","btnWrpr","btn","keys","setGroup","setShowAddMates","createMoment","imgFiles","momentResponse","setImages","showAddMates","visibility","setVisibility","CreateMomentStyles","createMoment1","createText","cmInpt","cmInpttextarea","momentBtns","addGrpBtn","checked","onlabel","offlabel","switchBtn","calCov","createMmtBtnCov","newMoment","alert","createMmtBtn","faPlus","userMoments","getUserMoments","clearUserMoments","dispacth","setMoments","sortByCreationDate","setSortByCreationDate","tArr","compare","sortByCreationDt","sortByMomentDt","sort","b","aDate","bDate","getTime","toggleSortType","PersonalMemoryLaneStyles","memoryLaneP","lane","ttlCov","ttl","mmtOrderTgl","tglOpt","tglSlctd","prsnlMryLnContainer","FriendListItem","friend","FriendListStyle","frndLstItm","flNm","uN","friends","getFriendsList","friendsList","setFriends","Main","profileOption","Container","renderSelectedOption","initialState","isAuth","message","login","register","showLoginPanel","showRegisterPanel","userMoment","newUserMoment","getMoments","newMemoriesMap","memoryDetails","tempMemoriesMap","initState","getStatus","frndsMoments","publicMoments","rootReducer","combineReducers","actions","error","header","memoryLane","middleware","thunk","ReactReduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","store","navigator","userAgent","includes","createStore","composeWithDevTools","applyMiddleware","compose","setAuthToken","token","defaults","common","fetchUserData","setCurrentUser","decoded","logout","localStorage","removeItem","location","href","closeLoginRegisterPanel","loginError","loginUser","loginCreds","history","setItem","jwt_decode","useHistory","password","setPassword","setError","Header","Body","fblogo","googleLogo","autoComplete","required","registerError","registerUser","userData","setUsername","confirmPassword","setConfirmPassword","newUser","borderRadius","objectFit","SearchResults","hideSuggestion","onResultClick","searchResultsStyles","upArr","resWrpr","searchTheQuery","clearSearchResults","timeout","unHideSuggestion","inline","FormControl","searchBarStyles","searchBar","headerState","getHeaderDetails","showLoginModal","setShowLoginModal","showSignUpModal","setShowSignUpModal","headerStyles","fxdTp","Navbar","bg","variant","expand","Brand","logo","Toggle","aria-controls","Collapse","Nav","clpse","Userlink","uName","signinButton","btmMrgn","setQueryToLocal","loadMemoryLane","loadPublicMemoryLane","setFrndsMoments","setPublicMoments","frndsMmt","setFrndsMmt","paramString","search","params","URLSearchParams","toggleLaneType","memoryLaneStyles","fxTp","laneSlctd","laneBtn","Component","component","otherProps","render","jwtToken","currentTime","now","exp","App","exact","path","MemoryLane","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.94895b03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Img_image__3uih6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"momentImg\":\"MomentImg_momentImg__3nuau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"UserImg_img__E353J\"};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAYAAADwbH0HAAAEUElEQVR42rWWe0xbVRzHv1WzzRkTKEhMWAyaSWEbZBqNGmMc8RHfkZmhhfn4w7j42B9Ot5lNnSxGxnSPViMz+EimmfvHPzTitLwG0dnSdTh0TkoolLYMhEFpR7At9Po9t6emkJbegtzkk3Pbnns+53vO71wAMrwG9Sj16lFBXiHbyEs+PcpJMf7vy5uFDRSYSAPpJRfJOBmT7Shxku9ILSldlJDpSpjkEw40TALERTpJRxJ+I/1kUrb7yDWZp9RjC/GQIHEQawrhXH4lXSSsPpeNRzj5K7RJc7CHD0XJeXIqhcCeQLLf20iEDFG8Kq3Uk43d7DydJKW4Py33WOzp3+QCGZH3TjkJq5ysW3KPLxu6eaXDeXhqIEud5Rlik0JbwkA+8hPZKyv7flJF9pOTXNYhuUrn5WTuSpvUtxzXenPVND0JSW0SUbntHj3uY3tZippYwS3aJCcnJn+Hpn31FeBQHzDhy1WLI3F5/UzyOblSyzieXNzkzsG9mqTRIZSGGxAeXI1uF9DCc2tj+lOUBZniOJbqivyAI8pfUGZsCI0+jG4mbx1Yhm7KO3w5uHrpxI3oCp+AEj0DRemFEtiJQTcQ6AfKl0wabkQ+xVGiRH5EaLoN04oPyuRBVuU6rJj34Ur/DaSM3KaR22X/PJF2oyqNycMRi4oS7cQ3aWdd5a/mIP+QPzIgxOdeBiWvSnFEFccQn6s1iLdzoH5yMgMGyBtiqd+SovAc8S4N4tc4SC9pzgDRfzciTXg9hXjP0oobYZSimf/E3GOlFUc1iGs4iEJcKXCQE3PEfWSHEK+WYjX1DPda+QXKuYbLPZX1Bbo04jLytloscSrj9+NbeH9AyuPSJuKG0f9C/Bw7wyJlC2aE9PtvV45eddhwCTU3ly3qrFZOPEeRN0HcQnr4/d2xs2zBUaWNYp7hd47p+7B/XTsOlLjwYaEFpkLdgqTGQBYlPxNrgrhDXfqnJ1aqfZhyQ7BZpzxWn+9EzfpWHF5jo9QKs2GKHFxYWv8HxEMsUtqoHj2jf/Z4hrqCL1G7/iLMRUJoJx3EQQJkb0bSB5UXUTXmkkubWFhu8sDszofWFDPlMCXnpFTIbaSTTJJjpGheYZ1+Fd7baELFlBfl3LgqkXI8ltbod7JN8ZfOXLSNgysJieOt4ALpIV/BXPgM21vY/0aYDLfyfjP5FKa1XahfNgpzyWk829OMRxULjMEmVni7LLI7U8/aXPgxB4zItHF5PP1ZOQFuicFF/iR98nNstUysj/rlDtTlObD16zZVXhEeweaxnen3yFz0hUzeKYX2JIjfumQ7+zfTWjuOZNnxme4sdr0ZwpPBfdoLxGyoJZdkkrnp50P0szL5ID66borvv/czPxKm4oc4SIM8ViOy8OYT/i4nGiItXLnHF/ffgtnwfKyo1D0el0dsTO6taCfk92Jix/nS2brgF0/yFTDkc+AnyA5STd6V7XayiQmv1zrUv0Sbv7WxUKyqAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2Vgrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedMoment\":\"EditSelectedMoment_selectedMoment__2knQV\",\"imgs\":\"EditSelectedMoment_imgs__2ThUt\",\"optTit\":\"EditSelectedMoment_optTit__R5rFx\",\"ti\":\"EditSelectedMoment_ti__yP6cg\",\"title\":\"EditSelectedMoment_title__1JpyP\",\"desc\":\"EditSelectedMoment_desc__32Nke\",\"clMoment\":\"EditSelectedMoment_clMoment__1L5iU\",\"crMoment\":\"EditSelectedMoment_crMoment__1jcjQ\",\"imgNav\":\"EditSelectedMoment_imgNav__2t4K-\",\"lAr\":\"EditSelectedMoment_lAr__3UNJ-\",\"rAr\":\"EditSelectedMoment_rAr__3MRr_\",\"rw1Ht\":\"EditSelectedMoment_rw1Ht__zHvm7\",\"rw2Ht\":\"EditSelectedMoment_rw2Ht__1w90b\",\"updtBtn\":\"EditSelectedMoment_updtBtn__2oJ26\",\"uploadImgInp\":\"EditSelectedMoment_uploadImgInp__vOjrb\",\"uploadImgBtn\":\"EditSelectedMoment_uploadImgBtn__2HO_3\",\"wrapper\":\"EditSelectedMoment_wrapper__EITkB\",\"wrapperContent\":\"EditSelectedMoment_wrapperContent__DhizS\",\"uploadImgBtnGroup\":\"EditSelectedMoment_uploadImgBtnGroup__1kL-1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2UG9A\",\"username\":\"Profile_username__2oV0t\",\"namesDiv\":\"Profile_namesDiv__3TX0z\",\"names\":\"Profile_names__rB8M_\",\"frndReqBtn\":\"Profile_frndReqBtn__1mhWq\",\"relBtnDrpDwn\":\"Profile_relBtnDrpDwn__D7Uhk\",\"relStsBtnWrpr\":\"Profile_relStsBtnWrpr__3KYW4\",\"relOpts\":\"Profile_relOpts__1wh9n\",\"frndRqSnt\":\"Profile_frndRqSnt__sf4bM\",\"prfOpts\":\"Profile_prfOpts__3iKIm\"};","import React, { useState, useEffect } from \"react\";\r\nimport profileImageStyles from \"./ProfileImage.module.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCameraRetro, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { updateProfileImage } from '../../../actions/profileActions';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ProfileImage(props: any) {\r\n  //const {profileImage} : {profileImage : string} = props;\r\n\r\n  const [src, setSrc] = useState(\"\");\r\n  const [showOverlay, setShowOverlay] = useState(false);\r\n  const [image, setImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setSrc(props.profileImage);\r\n  }, [props.profileImage]);\r\n\r\n  const onError = () => {\r\n    setSrc(\r\n      \"https://firebasestorage.googleapis.com/v0/b/memory-lane-68e6c.appspot.com/o/prodef.png?alt=media&token=8e86bcd7-1651-40db-8dc7-93328e995243\"\r\n    );\r\n  };\r\n\r\n  const hoverOn = () => {\r\n    if(props.username === props.auth.username)\r\n      setShowOverlay(true);\r\n  };\r\n\r\n  const hoverOff = () => {\r\n    setShowOverlay(false);\r\n  };\r\n\r\n  const onSelectImg = (event : any) => {\r\n    let imgFile : any = Object.values(event.target.files)[0];\r\n    setImage(imgFile);\r\n    console.log(props.username);\r\n    props.updateProfileImage(props.username, imgFile);\r\n  }\r\n\r\n  const renderImage = () => {\r\n    if(src === ''){\r\n      return (\r\n        <div className={`${profileImageStyles.prfImg} ${profileImageStyles.prfsvg}`} onMouseEnter={hoverOn}>\r\n        <FontAwesomeIcon\r\n          icon={faUserCircle}\r\n          color={\"#a472ff\"}\r\n          size={\"10x\"}\r\n        />\r\n        </div>);\r\n    }else{\r\n      return (<img\r\n        className={profileImageStyles.prfImg}\r\n        src={src}\r\n        alt=\"\"\r\n        onError={onError}\r\n        onMouseEnter={hoverOn}\r\n      />);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={profileImageStyles.cnt}>\r\n      {showOverlay && (\r\n        <div className={profileImageStyles.pIOverlay} onMouseLeave={hoverOff}>\r\n          <div className={profileImageStyles.camCov}>\r\n            <FontAwesomeIcon\r\n              className={profileImageStyles.camIco}\r\n              icon={faCameraRetro}\r\n              color={\"#ffffff\"}\r\n              size={\"5x\"}\r\n            />\r\n          </div>\r\n          <input\r\n            className={profileImageStyles.uploadImgInp}\r\n            type=\"file\"\r\n            id=\"imgProfPic\"\r\n            name=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={onSelectImg}\r\n          />\r\n        </div>\r\n      )}\r\n      {renderImage()}\r\n    </div>\r\n  );\r\n}\r\n\r\nProfileImage.propTypes = {\r\n  updateProfileImage : PropTypes.func.isRequired,\r\n  auth : PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) =>( {\r\n  auth : state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps, {updateProfileImage})(ProfileImage);\r\n","import { GET_PROFILE_DATA, GET_PROFILE_IMAGE, GET_USER_DETAILS_HEADER } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const getProfileData = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const response = await axios.get(`/api/v0/profile/${username}`);\r\n        //console.log(response);\r\n        \r\n        dispatch({\r\n            type : GET_PROFILE_DATA,\r\n            payload : response.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n        \r\n        // if(err.response.status === 401){\r\n        //     console.log('err 401');\r\n        // }else if(err.response.status === 404){\r\n        //     console.log('err 404');\r\n        // }else{\r\n        //     console.log('err');\r\n        // }\r\n    }\r\n}\r\n\r\nexport const getProfileImage = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const res = await axios.get(`/api/v0/profile/profileImg/${username}`);\r\n        dispatch({\r\n            type : GET_PROFILE_IMAGE,\r\n            payload : res.data\r\n        })\r\n    }catch(err){\r\n\r\n    }\r\n}\r\n\r\nexport const updateProfileImage = (username : string, file : File) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const formData = new FormData();\r\n        \r\n        formData.append('username', username);\r\n        formData.append('file', file);\r\n        \r\n        const res = await axios.put(`/api/v0/profile/profileImg`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            } \r\n        });\r\n        dispatch({\r\n            type : GET_USER_DETAILS_HEADER,\r\n            payload : {username : username, profileImage : res.data.profileImage}\r\n        })\r\n        dispatch({\r\n            type : GET_PROFILE_IMAGE,\r\n            payload : res.data\r\n        });\r\n        console.log(res);\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n","//Profile\r\nexport const GET_PROFILE_DATA = 'GET_PROFILE_DATA';\r\nexport const GET_PROFILE_IMAGE = 'GET_PROFILE_IMAGE';\r\n\r\nexport const GET_USER_DETAILS_HEADER = 'GET_USER_DETAILS_HEADER';\r\nexport const GET_SEARCH_RESULTS = 'GET_SEARCH_RESULTS';\r\n\r\nexport const CREATE_MOMENT = 'CREATE_MOMENT';\r\nexport const GET_USER_MOMENTS = 'GET_USER_MOMENTS';\r\nexport const CLEAR_USER_MOMENTS = 'CLEAR_USER_MOMENTS';\r\nexport const DELETE_USER_MOMENTS = 'DELETE_USER_MOMENTS';\r\nexport const UPDATE_USER_MOMENTS = 'UPDATE_USER_MOMENTS';\r\nexport const GET_USER_SEARCH_RESULT = 'GET_USER_SEARCH_RESULT';\r\n\r\nexport const CREATE_MEMORY = 'CREATE_MEMORY';\r\nexport const GET_MEMORIES = 'GET_MEMORIES';\r\nexport const DELETE_MEMORY = 'DELETE_MEMORY';\r\n\r\nexport const FETCH_USER = 'FETCH_USER';\r\n\r\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER';\r\n\r\nexport const GET_ERROR = 'GET_ERROR';\r\nexport const GET_LOGIN_ERROR = 'GET_LOGIN_ERROR';\r\nexport const GET_REGISTER_ERROR = 'GET_REGISTER_ERROR';\r\n\r\nexport const SHOW_LOGIN_PANEL = 'SHOW_LOGIN_PANEL';\r\nexport const SHOW_REGISTER_PANEL = 'SHOW_REGISTER_PANEL';\r\nexport const CLOSE_LOGIN_REGISTER_PANEL = 'CLOSE_LOGIN_REGISTER_PANEL';\r\n\r\nexport const GET_RELATIONSHIP_STATUS = 'GET_RELATIONSHIP_STATUS';\r\nexport const GET_FRIENDS_LIST = 'GET_FRIENDS_LIST';\r\n//UI\r\nexport const DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE = 'DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE';\r\n\r\nexport const LOAD_MEMORY_LANE = \"LOAD_MEMORY_LANE\";\r\nexport const LOAD_PUBLIC_MEMORY_LANE = \"LOAD_PUBLIC_MEMORY_LANE\";","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction AddFriend(props : any) {\r\n    return (\r\n        <Button className={profileStyles.frndReqBtn} onClick={props.sendFriendRequest}>Add friend&nbsp;<FontAwesomeIcon icon={faUserPlus} color={'white'}/></Button>\r\n    )\r\n}\r\n\r\nexport default AddFriend\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserClock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction RequestSent(props : any) {\r\n    return (\r\n        <Button className={profileStyles.frndReqBtn}>Request sent&nbsp;<FontAwesomeIcon icon={faUserClock} color={'white'}/></Button>\r\n    )\r\n}\r\n\r\nexport default RequestSent\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserClock, faUserTimes } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction AcceptRequest(props : any) {\r\n    return (\r\n        <React.Fragment>\r\n            <div className={profileStyles.frndRqSnt}><strong>{props.firstname}</strong> has sent you a friend request</div>\r\n            <div className={profileStyles.frndRqSnt}>\r\n                <Button className={`${profileStyles.frndReqBtn} mr-2`} onClick={props.acceptFriendRequest}>Accept&nbsp;<FontAwesomeIcon icon={faUserClock} color={'white'}/></Button>\r\n                <Button className={profileStyles.frndReqBtn} onClick={props.rejectRequest}>Reject&nbsp;<FontAwesomeIcon icon={faUserTimes} color={'white'}/></Button>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AcceptRequest\r\n","import React, { useState } from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserFriends } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction Friends(props : any) {\r\n    const [showOpts, setShowOpts] = useState(false);\r\n    return (\r\n        <div className={profileStyles.relStsBtnWrpr}>\r\n            <Button className={profileStyles.frndReqBtn} onClick={() => setShowOpts(!showOpts)}>Friends&nbsp;<FontAwesomeIcon icon={faUserFriends} color={'white'}/></Button>\r\n            {showOpts &&\r\n                <div className={profileStyles.relBtnDrpDwn}>\r\n                    <div className={profileStyles.relOpts} onClick={() => props.unfriend()}>Unfriend</div>\r\n                    <div className={profileStyles.relOpts} onClick={() => props.block()}>Block</div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;\r\n","import React from 'react'\r\nimport {Button} from 'react-bootstrap';\r\nimport profileStyles from '../Profile.module.css';\r\n\r\nfunction Unblock(props : any) {\r\n    return (\r\n        <Button className={profileStyles.frndReqBtn} onClick={props.unblock}>Unblock&nbsp;</Button>\r\n    )\r\n}\r\n\r\nexport default Unblock\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PropsTypes from \"prop-types\";\r\nimport { getProfileData } from \"../../../actions/profileActions\";\r\nimport {\r\n  getRelationshipStatus,\r\n  sendFriendRequest,\r\n  acceptFriendRequest,\r\n  block,\r\n  unblock,\r\n  unfriend,\r\n  cancelRequest,\r\n  rejectRequest\r\n} from \"../../../actions/relationshipActions\";\r\nimport ProfileImage from \"./ProfileImage\";\r\nimport profileStyles from \"./Profile.module.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUserClock,\r\n  faUserFriends,\r\n  faUserPlus\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport AddFirend from \"./relationshipButtons/AddFriend\";\r\nimport RequestSent from \"./relationshipButtons/RequestSent\";\r\nimport AcceptRequest from \"./relationshipButtons/AcceptRequest\";\r\nimport Friends from \"./relationshipButtons/Friends\";\r\nimport Unblock from \"./relationshipButtons/Unblock\";\r\n\r\nfunction Profile(props: any) {\r\n  let { username } = useParams();\r\n\r\n  //const [username, setUsername] = useState('manivannan1234');\r\n  const [email, setEmail] = useState(\"\");\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [createdDate, setCreatedDate] = useState(new Date());\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [profileImage, setProfileImage] = useState(\r\n    \"https://avatars3.githubusercontent.com/u/34658746?s=460&u=23bb59d32de4568d04e18b27ac21642d2ec54407&v=4\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    //console.log(\"calling pa\")\r\n    //console.log(props.auth.username);\r\n    props.getProfileData(username);\r\n    if (props.auth.username !== username) {\r\n      props.getRelationshipStatus(username);\r\n    }\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    //setUsername(props.profile.username);\r\n    setEmail(props.profile.email);\r\n    setFirstname(props.profile.firstname);\r\n    setLastname(props.profile.lastname);\r\n    setCreatedDate(props.profile.createdAt);\r\n    setPhone(props.profile.phone);\r\n    setProfileImage(props.profile.profileImage);\r\n    //console.log(props);\r\n  }, [props.profile]);\r\n\r\n  const sendFriendRequest = () => {\r\n    props.sendFriendRequest(username);\r\n  };\r\n\r\n  const acceptFriendRequest = () => {\r\n    props.acceptFriendRequest(username);\r\n  };\r\n\r\n  const unfriend = () => {\r\n    props.unfriend(username);\r\n  };\r\n\r\n  const block = () => {\r\n    props.block(username);\r\n  };\r\n\r\n  const unblock = () => {\r\n    props.unblock(username);\r\n  };\r\n\r\n  const cancelRequest = () => {\r\n    props.cancelRequest(username);\r\n  };\r\n\r\n  const rejectRequest = () => {\r\n      props.rejectRequest(username);\r\n  }\r\n\r\n  const renderRelationshipButton = () => {\r\n    const status = props.relationshipStatus.status;\r\n    const userAction = props.relationshipStatus.userAction;\r\n    if (\r\n      status === \"NotFriends\" ||\r\n      (status === \"Declined\" && userAction === \"you\")\r\n    ) {\r\n      return (\r\n        <Row>\r\n          {/* {<Button className={profileStyles.frndReqBtn} onClick={sendFriendRequest}>Add firend&nbsp;<FontAwesomeIcon icon={faUserPlus} color={'white'}/></Button>} */}\r\n          <AddFirend sendFriendRequest={sendFriendRequest} />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Pending\" && userAction === \"you\") {\r\n      return (\r\n        <Row>\r\n          <RequestSent />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Pending\" && userAction === \"otherPerson\") {\r\n      return (\r\n        <Row>\r\n          <AcceptRequest\r\n            acceptFriendRequest={acceptFriendRequest}\r\n            firstname={firstname}\r\n            rejectRequest={rejectRequest}\r\n          />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Accepted\") {\r\n      return (\r\n        <Row>\r\n          <Friends unfriend={unfriend} block={block} />\r\n        </Row>\r\n      );\r\n    } else if (status === \"Blocked\" && userAction === \"you\") {\r\n      return (\r\n        <Row>\r\n          <Unblock unblock={unblock} />\r\n        </Row>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={profileStyles.profile}>\r\n      <Row>\r\n        <Col md={4}>\r\n          <Row>\r\n            <ProfileImage profileImage={profileImage} username={username}/>\r\n          </Row>\r\n          {props.auth.username !== username && renderRelationshipButton()}\r\n        </Col>\r\n        <Col md={8} className=\"mt-2\">\r\n          <Row>\r\n            <Col>\r\n              <div className={profileStyles.username}>{username}</div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mt-2\">\r\n            <Col>\r\n              <div className={profileStyles.namesDiv}>\r\n                <span className={profileStyles.names}>{firstname}</span>\r\n                <span>&nbsp;</span>\r\n                <span className={profileStyles.names}>{lastname}</span>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>{new Date(createdDate).toDateString().toString()}</Col>\r\n          </Row>\r\n          <Row>\r\n            <div className={profileStyles.prfOpts}>\r\n              <button onClick={() => props.setProfileOption(0)}>Profile</button>\r\n              <button onClick={() => props.setProfileOption(1)}>Friends</button>\r\n            </div>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nProfile.propTypes = {\r\n  profile: PropsTypes.object.isRequired,\r\n  auth: PropsTypes.object.isRequired,\r\n  getProfileData: PropsTypes.func.isRequired,\r\n  getRelationshipStatus: PropsTypes.func.isRequired,\r\n  relationshipStatus: PropsTypes.object.isRequired,\r\n  sendFriendRequest: PropsTypes.func.isRequired,\r\n  acceptFriendRequest: PropsTypes.func.isRequired,\r\n  block: PropsTypes.func.isRequired,\r\n  unblock: PropsTypes.func.isRequired,\r\n  unfriend: PropsTypes.func.isRequired,\r\n  cancelRequest: PropsTypes.func.isRequired,\r\n  rejectRequest: PropsTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  profile: state.profile,\r\n  auth: state.auth,\r\n  relationshipStatus: state.relationship.relationshipStatus\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfileData,\r\n  getRelationshipStatus,\r\n  sendFriendRequest,\r\n  acceptFriendRequest,\r\n  block,\r\n  unblock,\r\n  unfriend,\r\n  cancelRequest,\r\n  rejectRequest\r\n})(Profile);\r\n","import { GET_RELATIONSHIP_STATUS, GET_FRIENDS_LIST } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const getRelationshipStatus = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.get(`/api/v0/R/${username}`);\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const sendFriendRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.post(`/api/v0/R/fr`,{user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const acceptFriendRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/acceptRequest`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const block = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/block`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const unfriend = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/unfriend`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const unblock = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/unblock`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const cancelRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/cancelRequest`, {user2username : username});\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const rejectRequest = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const relationshipStatus = await axios.put(`api/v0/R/rejectRequest`, {user2username : username});\r\n        console.log(relationshipStatus);\r\n        dispatch({\r\n            type : GET_RELATIONSHIP_STATUS,\r\n            payload : relationshipStatus.data\r\n        })\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const getFriendsList = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const friendsList = await axios.get(`/api/v0/R/friends`);\r\n        console.log(friendsList);\r\n        dispatch({\r\n            type : GET_FRIENDS_LIST,\r\n            payload : friendsList.data \r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import React from 'react'\r\nimport ImgStyles from './Img.module.css';\r\n\r\nfunction Img(props : any) {\r\n    //console.log(JSON.parse(props.img).url);\r\n    //console.log((props.img));\r\n    return (\r\n        <div>\r\n             <img className={ImgStyles.image} style={{width : '600px', height : '400px'}} src={props.img} alt=\"\" draggable=\"false\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Img\r\n","import React from 'react'\r\nimport Img from './Img'\r\nimport momentImgStyles from './MomentImg.module.css';\r\n\r\nfunction MomentImg(props : any) {\r\n    \r\n    return (\r\n        <div className={momentImgStyles.momentImg} onClick={props.openMoment}>\r\n           <Img img={props.img}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MomentImg\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport selectedImgStyles from './SelectedImg.module.css';\r\n\r\nfunction SelectedImg(props : any) {\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [file, setFile] = useState('');\r\n\r\n    const imgRef = useRef();\r\n\r\n    useEffect(() => {\r\n        setFile(props.image);\r\n        console.log(imgRef.current);\r\n        return () => {\r\n            // if(imgRef != undefined && imgRef.current != undefined )\r\n            //     (imgRef as any).current.remove();\r\n        }\r\n        // (imgRef as any).current = `<img ref={imgRef} className={selectedImgStyles.selectedImg} src={file} alt=\"\" onLoad={e => setLoading(false)}/>`;\r\n        console.log(imgRef)\r\n    }, [props.image]);\r\n\r\n    return (\r\n        <div className={selectedImgStyles.container}>\r\n            <img ref={imgRef} className={selectedImgStyles.selectedImg} src={file} alt=\"\" onLoad={e => setLoading(false)}/>\r\n            {loading &&\r\n                <div className=\"img-plh\" />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedImg\r\n","import React, { useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport addMemoryStyles from './AddMemory.module.css';\r\n\r\nfunction AddMemory(props : any) {\r\n    \r\n    const [memory, setMemory] = useState('');\r\n\r\n    const addMemory = (event) => {\r\n        event.preventDefault();\r\n        if(memory.length > 0)\r\n            props.createMemory(memory);\r\n    }\r\n\r\n    return (\r\n        <div className={addMemoryStyles.bttmDiv}>\r\n            <Form onSubmit={addMemory}>\r\n                <Form.Control className={`mb-2 ${addMemoryStyles.inpTa}`} as=\"textarea\" rows={4} placeholder=\"Add a memory\" value={memory} onChange={e => setMemory(e.target.value)}/>\r\n                <Button type=\"submit\" className={addMemoryStyles.adMryBtn}>Add memory</Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddMemory\r\n","import React from 'react'\r\nimport userImgStyles from './UserImg.module.css';\r\n\r\nfunction UserImg(props : any) {\r\n    return (\r\n        <React.Fragment>\r\n           <img className={userImgStyles.img} src={props.src}/> \r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default UserImg\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport UserImg from \"./UserImg\";\r\nimport memoriesStyles from \"./Memories.module.css\";\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { deleteMemory } from '../../../../actions/memoryActions';\r\n\r\nfunction Memory(props : any) {\r\n    \r\n    const memory = props.memory;\r\n\r\n    const deleteMemory = () => {\r\n        props.deleteMemory(props.momentId, memory.id);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={memoriesStyles.memTxt}>\r\n                \r\n                <div className={memoriesStyles.memUsrNm}>\r\n                    <Link className={'no-a'} to={memory.owner.username}>\r\n                        <UserImg src={memory.owner.profilePic}/> {`${memory.owner.firstname} ${(memory.owner.lastname) ? memory.owner.lastname : ''}`}\r\n                    </Link>\r\n                    {(memory.owner.username === props.username) &&\r\n                    <FontAwesomeIcon className={memoriesStyles.delIco} icon={faTrashAlt} onClick={deleteMemory}/>}\r\n                </div>\r\n                \r\n                <div  className={memoriesStyles.Mrywrpr}>\r\n                    {memory.memory}\r\n              </div>\r\n            </div>\r\n          </div>\r\n    )\r\n}\r\n\r\nMemory.propTypes = {\r\n    username : PropTypes.string.isRequired,\r\n    deleteMemory : PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    username : state.auth.username\r\n})\r\n\r\nexport default connect(mapStateToProps, {deleteMemory})(Memory);\r\n","import { CREATE_MEMORY, GET_MEMORIES, DELETE_MEMORY } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\nimport { ICreateMemory } from '../types/requestPayloads/memory'; \r\nimport { IMemoryResponse, IMemoriesResponse } from '../types/responseTypes/memory';\r\n\r\nexport const createMemory = ( memory : ICreateMemory, momentId : string ) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const memoryResponse = await axios.post(`/api/v0/M/m/${momentId}`, memory);\r\n        //console.log(memoryResponse);\r\n        \r\n        const _memory : IMemoryResponse = {\r\n            id : memoryResponse.data.memory.id,\r\n            owner : memoryResponse.data.memory.owner,\r\n            memory : memoryResponse.data.memory.memory,\r\n            createdAt : memoryResponse.data.memory.createdAt\r\n        } \r\n\r\n        const memoryPayload = {\r\n            moment : memoryResponse.data.moment,\r\n            memory : _memory\r\n        }\r\n\r\n        dispatch({\r\n            type : CREATE_MEMORY,\r\n            payload : memoryPayload\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const getMemories = ( moment : string ) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const memoriesResponse = await axios.get(`/api/v0/M/m/${moment}`);\r\n        //console.log(memoriesResponse.data);   \r\n        const memoriesPayload : IMemoriesResponse = memoriesResponse.data;\r\n        //console.log(memoriesPayload);\r\n        dispatch({\r\n            type : GET_MEMORIES,\r\n            payload : memoriesPayload\r\n        })\r\n    }catch(err){    \r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const deleteMemory = (moment : string, memory : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        await axios.delete(`/api/v0/M/m/${moment}/${memory}`);\r\n        dispatch({\r\n            type : DELETE_MEMORY,\r\n            payload : {moment, memory}\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport memoriesStyles from \"./Memories.module.css\";\r\nimport AddMemory from \"./AddMemory\";\r\nimport Memory from \"./Memory\";\r\nimport { connect } from 'react-redux';\r\nimport { getMemories, createMemory } from '../../../../actions/memoryActions';\r\nimport PropTypes from 'prop-types'; \r\nimport { ICreateMemory } from '../../../../types/requestPayloads/memory';\r\n\r\nfunction Memories(props : any) {\r\n\r\n  const [memories, setMemories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    props.getMemories(props.momentId);\r\n  }, []); \r\n\r\n  useEffect(() => {\r\n        console.log(props.memoriesMap)\r\n        const tMem = (props.memoriesMap.get(props.momentId)) ? Array.from(props.memoriesMap.get(props.momentId).values()) : [];\r\n        setMemories(tMem);\r\n  }, [props.memoriesMap]);\r\n\r\n  const createMemory = (data : string) => {\r\n    console.log(\"create memory\")\r\n    const newMemory : ICreateMemory = {\r\n      memory : data\r\n    }\r\n    props.createMemory(newMemory, props.momentId);\r\n  }\r\n\r\n  const renderMemories = () => {\r\n    return (\r\n      memories.map(memory => \r\n        <li key={memory.id} className={memoriesStyles.li}>\r\n          <Memory memory={memory} momentId={props.momentId}/>\r\n        </li>\r\n      )\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={memoriesStyles.memWrapr}>\r\n      <div className={memoriesStyles.memoriesTitle}>Memories</div>\r\n      <div className={memoriesStyles.memLiCov}>\r\n      {renderMemories()}\r\n      </div>\r\n      <div className={memoriesStyles.adMem}>\r\n        <AddMemory createMemory={createMemory} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMemories.propTypes = {\r\n  getMemories : PropTypes.func.isRequired,\r\n  createMemory : PropTypes.func.isRequired,\r\n  memoriesMap : PropTypes.any.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n  memoriesMap : state.memories.memoriesMap\r\n})\r\n\r\nexport default connect(mapStateToProps, {getMemories, createMemory}) (Memories);\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport SelectedImg from './SelectedImg';\r\nimport selectedMomentStyles from './SelectedMoment.module.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleLeft, faArrowAltCircleRight} from '@fortawesome/free-solid-svg-icons';\r\nimport Memories from '../memory/Memories';\r\nimport momentReducer from '../../../../reducers/momentReducer';\r\nimport MeatballIco from '../momentMenu/MeatballIco';\r\n\r\n\r\n\r\nfunction SelectedMoment(props : any) {\r\n    const {id, title, description, files, owner} = props.moment;\r\n    const [currentFile, setCurrentFile] = useState(0);\r\n    console.log(files.length);\r\n\r\n    const right = () => {\r\n        if(currentFile < files.length) {\r\n            setCurrentFile(currentFile + 1);\r\n        }\r\n    }\r\n\r\n    const left = () => {\r\n        if(currentFile > 0){\r\n            setCurrentFile(currentFile - 1);\r\n        }\r\n    }\r\n\r\n    const generateImages = (currentFile : number) => {\r\n        console.log(currentFile);\r\n        return (<SelectedImg image={files[currentFile]} />)\r\n    }\r\n\r\n    return (\r\n        <div className={selectedMomentStyles.selectedMoment}>\r\n            <Row>\r\n                <Col md={7} className={selectedMomentStyles.clMoment}>\r\n                    <div className={selectedMomentStyles.lftCov}>\r\n                    <Link to={owner.username} className={'no-a'}>\r\n                    <div className={selectedMomentStyles.imgFNameCont}>\r\n                        <img src={owner.profilePic} className={selectedMomentStyles.profPicSm} />\r\n                        <div className={selectedMomentStyles.uname}>\r\n                             &nbsp;{`${owner.firstname} ${(owner.lastname)?owner.lastname:''}`}\r\n                        </div>\r\n                    </div>\r\n                    </Link>\r\n                    <div className={selectedMomentStyles.imgNav}>\r\n                        {currentFile > 0 && \r\n                            <FontAwesomeIcon className={selectedMomentStyles.lAr} icon={faArrowAltCircleLeft} onClick={e => left()}/>}\r\n                        {currentFile < (files.length - 1) && \r\n                            <FontAwesomeIcon className={selectedMomentStyles.rAr} icon={faArrowAltCircleRight} onClick={e => right()}/>}\r\n                    </div>\r\n                        {/* {<SelectedImg image={files[currentFile]}/>}  */}\r\n                        {generateImages(currentFile)}\r\n                    </div>               \r\n                </Col>\r\n                <Col md={5} className={selectedMomentStyles.crMoment}>\r\n                    <div className={selectedMomentStyles.rw1Ht}>\r\n                        <div className={selectedMomentStyles.title}>\r\n                            {title}\r\n                        </div>\r\n                        <div className={selectedMomentStyles.desc}>\r\n                            {description}\r\n                        </div>\r\n                    </div>\r\n                    <div className={selectedMomentStyles.rw2Ht}>\r\n                        <Memories momentId={id}/>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedMoment\r\n","import React from 'react'\r\nimport meatballStyles from './MeatballIco.module.css';\r\n\r\nfunction MeatballIco() {\r\n    return (\r\n        <div className={meatballStyles.menu__wrapper}>\r\n            <div className={meatballStyles.menu_item_meatball}>\r\n                <div className={meatballStyles.circle}></div>\r\n                <div className={meatballStyles.circle}></div>\r\n                <div className={meatballStyles.circle}></div>\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MeatballIco\r\n","import { CREATE_MOMENT, GET_USER_MOMENTS, CLEAR_USER_MOMENTS, DELETE_USER_MOMENTS, UPDATE_USER_MOMENTS, GET_USER_SEARCH_RESULT } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\nimport { ICreateMoment } from '../types/requestPayloads/moment';\r\nimport { IMomentResponse } from '../types/responseTypes/moment';\r\nimport imageCompression from 'browser-image-compression';\r\n\r\n//Image compression\r\nconst ImgCompressionOptions = {\r\n    maxSizeMB: 0.5,\r\n    maxIteration: 20,\r\n    maxWidthOrHeight: 1024,\r\n    useWebWorker: true\r\n}\r\n\r\nexport const createMoment = (moment : ICreateMoment) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const imgFiles = moment.images\r\n        console.log(imgFiles);\r\n        delete moment.images;\r\n        //const momentResponse = await axios.post('/api/v0/M/', moment);\r\n        //console.log(momentResponse);\r\n        \r\n        const formData = new FormData();\r\n\r\n        for (let key in moment){\r\n            formData.append(key, (moment as any)[key]);\r\n        }\r\n\r\n        for(let file of imgFiles){\r\n            //console.log(file);\r\n            //Compress the file before adding to form data\r\n            file = await imageCompression(file, ImgCompressionOptions) as any;\r\n            formData.append('file', file);\r\n        }\r\n        //console.log(formData);\r\n        //console.log(`/api/v0/M/upload/${momentResponse.data._id}`);\r\n        const momentResponse : any = await axios.post(`/api/v0/M/`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        }); \r\n        console.log(momentResponse);\r\n\r\n        const momentData : IMomentResponse = {\r\n            id : momentResponse.data.id,\r\n            title : momentResponse.data.title,\r\n            description : momentResponse.data.description,\r\n            date : momentResponse.data.date,\r\n            createdAt : momentResponse.data.createdAt,\r\n            files : momentResponse.data.files,\r\n            owner : momentResponse.data.owner,\r\n            group : momentResponse.data.group\r\n        }\r\n\r\n        console.log('momData');\r\n        console.log(momentData);\r\n        dispatch({\r\n            type : CREATE_MOMENT,\r\n            payload : momentData\r\n        });\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const getUserMoments = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/M/${username}`);\r\n        // console.log(typeof(result.data.moments));\r\n         console.log(result.data.moments);\r\n        dispatch({\r\n            type : GET_USER_MOMENTS,\r\n            payload : result.data.moments\r\n        })\r\n    }catch(err){\r\n        console.log(err);        \r\n    }\r\n}\r\n\r\nexport const deleteMoment = (momentId : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.delete(`/api/v0/M/${momentId}`);\r\n        console.log(result);\r\n        dispatch({\r\n            type : DELETE_USER_MOMENTS,\r\n            payload : {momentId}\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const updateMoment = (momentId : string, dataToBeUpdated : any) => async (dispatch : Dispatch) => {\r\n    try{\r\n\r\n        const newImages = dataToBeUpdated.newImages;\r\n        //if(dataToBeUpdated.newImages.length > 0){\r\n        //newImages.concat(dataToBeUpdated.newImages);\r\n        //}\r\n        console.log(newImages);\r\n        delete dataToBeUpdated.newImages;\r\n\r\n        const formData = new FormData();\r\n\r\n        for (let key in dataToBeUpdated){\r\n            console.log((dataToBeUpdated as any)[key]);\r\n            formData.append(key, (dataToBeUpdated as any)[key]);\r\n        }\r\n\r\n        for(let file of newImages){\r\n            //Compress the file before adding to form data\r\n            file = await imageCompression(file, ImgCompressionOptions) as any;\r\n            formData.append('file', file);\r\n        }\r\n\r\n        const updatedMomentResponse = await axios.put(`/api/v0/M/${momentId}`, formData, {\r\n            headers : {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        });\r\n\r\n        console.log(updatedMomentResponse); \r\n\r\n        const momentData : IMomentResponse = {\r\n            id : updatedMomentResponse.data.id,\r\n            title : updatedMomentResponse.data.title,\r\n            description : updatedMomentResponse.data.description,\r\n            date : updatedMomentResponse.data.date,\r\n            createdAt : updatedMomentResponse.data.createdAt,\r\n            files : updatedMomentResponse.data.files,\r\n            owner : updatedMomentResponse.data.owner,\r\n            group : updatedMomentResponse.data.group\r\n        }\r\n        dispatch({\r\n            type : UPDATE_USER_MOMENTS,\r\n            payload : momentData\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const clearUserMoments = () => async (dispacth : Dispatch) => {\r\n    dispacth({\r\n        type : CLEAR_USER_MOMENTS\r\n    })\r\n}\r\n\r\nexport const searchUserQuery = (query : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/usearch/${query}`);\r\n        console.log(result.data);\r\n        dispatch({\r\n            type : GET_USER_SEARCH_RESULT,\r\n            payload : result.data\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n} ","import React from 'react'\r\nimport editImgStyles from './EditImg.module.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faTimes} from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction EditImg(props : any) {\r\n    const {index, data} = props;\r\n\r\n    const removeImage = () => {\r\n        props.removeImage(index, data.type, );\r\n    }\r\n\r\n    return (\r\n        <div className={editImgStyles.imgCov}>\r\n            <div className={editImgStyles.removeImg} onClick={removeImage}><FontAwesomeIcon icon={faTimes}/></div>\r\n            <img className={editImgStyles.selectedImg} src={data.url}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditImg\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Form, Button } from \"react-bootstrap\";\r\nimport editSelectedMomentStyles from \"./EditSelectedMoment.module.css\";\r\nimport EditImg from \"./EditImg\";\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateMoment } from '../../../../actions/momentActions';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faImages, faPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction EditSelectedMoment(props: any) {\r\n  const { id, owner } = props.moment;\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [existingfiles, setExistingFiles] = useState([]);\r\n  const [filesRemoved, setFilesRemoved] = useState([]);\r\n  const [updating, setUpdating] = useState(false);\r\n  const [newImages, setNewImages] = useState([]);\r\n  const [imageswarning, setImagesWarning] = useState('');\r\n  //const [displayImages, setDisplayImages] = useState([]);\r\n\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n      if(window.innerWidth <= 550){\r\n          setIsMobile(true);\r\n      }\r\n  },[]);\r\n\r\n  enum FileType {\r\n    alreadyExisting,\r\n    recentlyAdded\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTitle(props.moment.title);\r\n    setDescription(props.moment.description);\r\n    setExistingFiles(props.moment.files);\r\n    //setDisplayImages(props.moment.files);\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    if(updating === false) return;\r\n    console.log('updated');\r\n    setUpdating(false);\r\n    props.setShow(false);\r\n  }, [props.moment]);\r\n\r\n  const onImagesSelect = (event : any) => {\r\n    console.log(\"in onImageSelect\");\r\n    console.log(event.target);\r\n    let imageFiles : File[] = Object.values(event.target.files);\r\n    //console.log(JSON.stringify(imageFiles));\r\n    imageFiles = newImages.concat(imageFiles);\r\n\r\n    if((imageFiles.length + existingfiles.length) > 10){\r\n      imageFiles = imageFiles.slice(0, (imageFiles.length - newImages.length) - (imageFiles.length + existingfiles.length) - 10);\r\n      setImagesWarning('maximum 10 photos are allowed per moment');\r\n    }\r\n    //console.log(imageFiles);\r\n    setNewImages(imageFiles);\r\n    console.log(imageFiles);\r\n    //setDisplayImages([...existingfiles, ...(imageFiles.map((file : File) => URL.createObjectURL(file)))]);\r\n  }\r\n\r\n  const removeImage = (index : number, type : number) => {\r\n    if(type === FileType.alreadyExisting){\r\n      filesRemoved.push(existingfiles[index]);\r\n      setFilesRemoved(filesRemoved);\r\n      let tImage = existingfiles.slice();\r\n      tImage.splice(index, 1);\r\n      setExistingFiles(tImage);\r\n    }else{\r\n      let tImage = newImages.slice();\r\n      tImage.splice(index, 1);\r\n      setNewImages(tImage);\r\n    }\r\n      //setDisplayImages([...tImage, ...newImages]);\r\n  }\r\n\r\n  const onUpdate = (e : any) => {\r\n    console.log('on update');\r\n    setUpdating(true);\r\n    e.preventDefault();\r\n    console.log(filesRemoved);\r\n    console.log(Array.isArray(filesRemoved));\r\n    const updated = {\r\n      title,\r\n      description,\r\n      existingUrls : JSON.stringify(existingfiles),\r\n      filesRemoved : JSON.stringify(filesRemoved),\r\n      newImages\r\n    }\r\n    props.updateMoment(id, updated);\r\n  }\r\n  \r\n\r\n  const renderImages = () => {\r\n    let tImagesArray = []\r\n    tImagesArray = existingfiles.map((url : string, index : number) => {\r\n      return {url : url, type : FileType.alreadyExisting, index : index};\r\n    });\r\n    tImagesArray = tImagesArray.concat(newImages.map((file : File, index : number) => {\r\n      return {url : URL.createObjectURL(file), type : FileType.recentlyAdded, index : index};\r\n    }));\r\n\r\n    const displayImages = (tImagesArray);\r\n    console.log(displayImages);\r\n    if(isMobile){\r\n      if(displayImages.length === 0){\r\n        return (\r\n          <div className={`mb-2 ${editSelectedMomentStyles.wrapper}`}>\r\n            <div className={editSelectedMomentStyles.wrapperContent}>\r\n              <div className={editSelectedMomentStyles.uploadImgBtnGroup}>\r\n                <button className={editSelectedMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<div>Add image</div></button>\r\n                <input className={editSelectedMomentStyles.uploadImgInp} type=\"file\" id=\"edtmntupldimg\" name=\"edtmntupldimg\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      let requiredRows: number = 0;\r\n      if((displayImages.length + 1) < 5){\r\n        requiredRows = 1;\r\n      }else{\r\n        requiredRows = (displayImages.length + 1) / 5;\r\n      }\r\n      const rows = [];\r\n      let pointer = 0;\r\n      for (let r = 0; r < requiredRows; r++) {\r\n        const cols = [];\r\n        for (let c = 0; c < 5; c++) {\r\n          if(pointer === displayImages.length){\r\n            if(displayImages.length !== 10){\r\n              cols.push( <div className={editSelectedMomentStyles.wrapperContent} key={pointer}>\r\n                <div className={editSelectedMomentStyles.uploadImgBtnGroup}>\r\n                  <button className={editSelectedMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<div>Add image</div></button>\r\n                  <input className={editSelectedMomentStyles.uploadImgInp} type=\"file\" id=\"edtmntupldimg\" name=\"edtmntupldimg\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n                </div>\r\n              </div>);\r\n            }\r\n          } else if(pointer > displayImages.length) {\r\n            // cols.push(<Col key={pointer}></Col>);\r\n          } else {        \r\n            cols.push(\r\n            <div className={editSelectedMomentStyles.wrapperContent} key={pointer}>\r\n                <EditImg\r\n                  index={displayImages[pointer].index}\r\n                  data={displayImages[pointer]}\r\n                  removeImage={removeImage}\r\n                />\r\n              </div>\r\n            );\r\n          }\r\n          pointer++;   \r\n        }\r\n        rows.push(\r\n          <div key={r} className={`mb-2 ${editSelectedMomentStyles.wrapper}`}>\r\n            {\" \"}\r\n            {cols}{\" \"}\r\n          </div>\r\n        );\r\n      }\r\n      return <div>{rows}</div>;\r\n\r\n    }else{\r\n  \r\n      if(displayImages.length === 0){\r\n        return (\r\n          <Row className=\"mb-2\">\r\n            <Col>\r\n              <div className={editSelectedMomentStyles.uploadImgBtnGroup}>\r\n                <button className={editSelectedMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<div>Add image</div></button>\r\n                <input className={editSelectedMomentStyles.uploadImgInp} type=\"file\" id=\"edtmntupldimg\" name=\"edtmntupldimg\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        )\r\n      }\r\n      let requiredRows: number = 0;\r\n      if((displayImages.length + 1) < 5){\r\n        requiredRows = 1;\r\n      }else{\r\n        requiredRows = (displayImages.length + 1) / 5;\r\n      }\r\n      const rows = [];\r\n      let pointer = 0;\r\n      for (let r = 0; r < requiredRows; r++) {\r\n        const cols = [];\r\n        for (let c = 0; c < 5; c++) {\r\n          if(pointer === displayImages.length){\r\n            if(displayImages.length !== 10){\r\n              cols.push( <Col xs key={pointer}>\r\n                <div className={editSelectedMomentStyles.uploadImgBtnGroup}>\r\n                  <button className={editSelectedMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<div>Add image</div></button>\r\n                  <input className={editSelectedMomentStyles.uploadImgInp} type=\"file\" id=\"edtmntupldimg\" name=\"edtmntupldimg\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n                </div>\r\n              </Col>);\r\n            }\r\n          } else if(pointer > displayImages.length) {\r\n            cols.push(<Col xs key={pointer}></Col>);\r\n          } else {        \r\n            cols.push(\r\n            <Col xs key={pointer}>\r\n                <EditImg\r\n                  index={displayImages[pointer].index}\r\n                  data={displayImages[pointer]}\r\n                  removeImage={removeImage}\r\n                />\r\n              </Col>\r\n            );\r\n          }\r\n          pointer++;   \r\n        }\r\n        rows.push(\r\n          <Row key={r} className=\"mb-2\">\r\n            {\" \"}\r\n            {cols}{\" \"}\r\n          </Row>\r\n        );\r\n      }\r\n      return <div>{rows}</div>;\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className={editSelectedMomentStyles.selectedMoment}>\r\n      <div className={editSelectedMomentStyles.optTit}>Edit Moment</div>\r\n      <form onSubmit={onUpdate}>\r\n        <div className={editSelectedMomentStyles.rw1Ht}>\r\n          <div className={`mt-2 ${editSelectedMomentStyles.ti}`}>Title</div>\r\n          <Form.Control\r\n            className={editSelectedMomentStyles.title}\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={e => setTitle(e.target.value)}\r\n          />\r\n          <div className={`mt-2 ${editSelectedMomentStyles.ti}`}>\r\n            Description\r\n          </div>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            className={editSelectedMomentStyles.desc}\r\n            rows={5}\r\n            value={description}\r\n            onChange={e => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className={editSelectedMomentStyles.imgs}>{renderImages()}</div>\r\n        {imageswarning &&\r\n                    <div className=\"mb-2\">{imageswarning}</div>\r\n                }\r\n        <Button type='submit' className={editSelectedMomentStyles.updtBtn} >Update</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nEditSelectedMoment.propTypes = {\r\n  updateMoment : PropTypes.func.isRequired,\r\n  //updated : PropTypes.bool.isRequired\r\n}\r\n\r\n// const mapStateToProps = (state : any) => ({\r\n//   updated : state.moments.updated\r\n// });\r\n\r\nexport default connect(null, {updateMoment}) (EditSelectedMoment);\r\n","import React, {useEffect, useState} from 'react'\r\nimport { Modal } from 'react-bootstrap';\r\nimport selectedModalStyles from './EditMomentModal.module.css';\r\nimport EditSelectedMoment from './EditSelectedMoment';\r\n\r\nfunction EditMomentModal(props : any) {\r\n    const [show, setShow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setShow(props.show);   \r\n   }, [props])\r\n   \r\n    return (\r\n        <Modal backdropClassName={selectedModalStyles.backdrop} className={selectedModalStyles.selectedModel} show={show} centered>\r\n            <div className={selectedModalStyles.trBtnWrpr}>\r\n                <span className={selectedModalStyles.closeBtn} onClick={e => props.setShowEditPanel(false)}>&#10005;</span>\r\n            </div>\r\n            <EditSelectedMoment moment={props.moment} setShow={props.setShowEditPanel}/>            \r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default EditMomentModal\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MeatballIco from \"./MeatballIco\";\r\nimport dropdownMenuMomentStyles from \"./DropdownMenuMoment.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { deleteMoment } from \"../../../../actions/momentActions\";\r\nimport EditMomentModal from \"../editSelectedMoment/EditMomentModal\";\r\n\r\nfunction DropdownMenuMoment(props: any) {\r\n  const [show, setShow] = useState(false);\r\n  const [showEditPanel, setShowEditPanel] = useState(false);\r\n  let timeout : any; \r\n\r\n  useEffect(() => {\r\n      if(props.closeMenu){\r\n          props.setCloseMenu(false);\r\n          setShow(false);\r\n      }\r\n  }, [props.closeMenu]);\r\n\r\n  const remove = () => {\r\n    props.deleteMoment(props.moment.id);\r\n  };\r\n\r\n  const onFocusHandler = () => {\r\n    clearTimeout(timeout);\r\n  }\r\n\r\n  const hideMenu = (event : any) => {\r\n    timeout = setTimeout(() => {\r\n      if(show){\r\n        setShow(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  const renderMenuOptions = () => {\r\n    if (props.owned) {\r\n      return (\r\n        <ul className={`no-select ${dropdownMenuMomentStyles.lst}`}>\r\n          <div\r\n            className={dropdownMenuMomentStyles.lstItm}\r\n            onClick={e => {\r\n              setShowEditPanel(true);\r\n              setShow(false);\r\n            }}\r\n          >\r\n            Edit\r\n          </div>\r\n          <div className={dropdownMenuMomentStyles.lstItm}>Add people</div>\r\n          <div className={dropdownMenuMomentStyles.lstItm} onClick={remove}>\r\n            Delete\r\n          </div>\r\n        </ul>\r\n      );\r\n    } else {\r\n      return (\r\n        <ul className={`no-select ${dropdownMenuMomentStyles.lst}`}>\r\n          <div className={dropdownMenuMomentStyles.lstItm}>report</div>\r\n        </ul>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div onClick={() => {setShow(!show)}} onBlur={hideMenu} >\r\n        <div>\r\n          <MeatballIco />\r\n        </div>\r\n        {show && (\r\n          <div className={dropdownMenuMomentStyles.drpdwnLst}>\r\n            <div className={dropdownMenuMomentStyles.arwWrpr}>\r\n              <div className={dropdownMenuMomentStyles.arwUp}></div>\r\n            </div>\r\n            {renderMenuOptions()}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <EditMomentModal\r\n        show={showEditPanel}\r\n        setShowEditPanel={setShowEditPanel}\r\n        moment={props.moment}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nDropdownMenuMoment.propTypes = {\r\n  deleteMoment: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(null, { deleteMoment })(DropdownMenuMoment);\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Modal } from 'react-bootstrap';\r\nimport SelectedMoment from './SelectedMoment';\r\nimport selectedModalStyles from './SelectedModal.module.css';\r\nimport MeatballIco from '../momentMenu/MeatballIco';\r\nimport DropdownMenuMoment from '../momentMenu/DropdownMenuMoment';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction SelectedModal(props : any) {\r\n    const [show, setShow] = useState(false);\r\n    const [owned, setOwned] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(props.authUName);\r\n        setOwned((props.authUName === props.moment.owner.username));\r\n    }, [props.authUName])\r\n    \r\n    useEffect(() => {\r\n         setShow(props.show);   \r\n    }, [props])\r\n\r\n    return (\r\n        <Modal className={selectedModalStyles.selectedModel} show={show} centered>\r\n            <div className={selectedModalStyles.trBtnWrpr}>\r\n                <div className={selectedModalStyles.drpdwn}>\r\n                    <DropdownMenuMoment moment={props.moment} owned={owned}/>\r\n                </div>\r\n                <span className={selectedModalStyles.closeBtn} onClick={props.closeMoment}>&#10005;</span>\r\n            </div>\r\n            <SelectedMoment moment={props.moment}/>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nSelectedModal.propTypes = {\r\n    authUName : PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    authUName : state.auth.username\r\n});\r\n\r\nexport default connect(mapStateToProps, {}) (SelectedModal)\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Tooltip, OverlayTrigger } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport momentjs from \"moment\";\r\nimport MomentStyles from \"./Moment.module.css\";\r\nimport MomentImg from \"./MomentImg\";\r\nimport SelectedModal from \"./selectedMoment/SelectedModal\";\r\nimport MeatballIco from \"./momentMenu/MeatballIco\";\r\nimport DropdownMenuMoment from \"./momentMenu/DropdownMenuMoment\";\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { selectMenuInTimeLine } from '../../../actions/uiActions'; \r\n\r\n\r\nfunction Moment(props: any) {\r\n  const moment: any = props.moment;\r\n  //console.log(moment);\r\n  const [selected, setSelected] = useState(false);\r\n  const [date, setDate] = useState<string>();\r\n  const fullDate = momentjs(moment.date).format(\"MMMM Do YYYY, h:mm a\");\r\n  const [owned, setOwned] = useState(false);\r\n  const [closeMenu, setCloseMenu] = useState(false);\r\n  const [moreDesc, setMoreDesc] = useState(false);\r\n  const [createDate, setCreatedDate] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    //console.log(moment.date)\r\n    let _date = new Date(moment.date);\r\n    //console.log(_date);\r\n    setDate(momentjs(_date).format(\"MMMM Do YYYY\"));\r\n    \r\n    let _createdDate = new Date(moment.createdAt);\r\n    setCreatedDate(momentjs(_createdDate).format(\"MMMM Do YYYY\"));\r\n  }, []);\r\n  //console.log(moment);\r\n\r\n  useEffect(() => {\r\n    setOwned((props.authUName === props.moment.owner.username));\r\n  }, [props.authUName]);\r\n\r\n  useEffect(() => {\r\n    if(props.previousMenu === moment.id){\r\n      setCloseMenu(true);\r\n    }\r\n  },[props.previousMenu]);\r\n\r\n  const openMoment = () => {\r\n    setSelected(true);\r\n  };\r\n\r\n  const closeMoment = () => {\r\n    setSelected(false);\r\n  };\r\n\r\n  const renderDescription = () => {\r\n    const _desc : string = moment.description;\r\n    // console.log(_desc);\r\n    // console.log(_desc.match(/\\n/));\r\n    // console.log(getIndexOfNthOccurrence(_desc, '\\n', 3));\r\n    if( ((_desc.match(/\\n/)) ? _desc.match(/\\n/g).length <= 3 : true) || moreDesc){\r\n      return <div>\r\n              <div>{_desc}</div>\r\n              {moreDesc &&\r\n                <div className={MomentStyles.showMoreBtn} onClick={() => setMoreDesc(false)}>show less</div>}\r\n             </div>;  \r\n    }else{\r\n      const descSplit : Array<string> = _desc.split('\\n');\r\n      const shrtDesc : string = `${descSplit[0]}\\n${descSplit[1]}\\n${descSplit[2]}`;\r\n      return <div>{`${shrtDesc}.....`}<span className={MomentStyles.showMoreBtn} onClick={() => setMoreDesc(true)}> show more</span></div>;\r\n    }\r\n  }\r\n\r\n  // const getIndexOfNthOccurrence = (string : string, subString : string, nthOccurrence : number) : number => {\r\n  //   return string.split(subString, nthOccurrence).join(subString).length;\r\n  // }\r\n\r\n  const menuBtn = () => {\r\n    //setCloseMenu(!closeMenu);\r\n    if(props.currentMenu !== moment.id)\r\n      props.selectMenuInTimeLine(moment.id);\r\n  }\r\n\r\n  const dateTooltip = () => {\r\n    return (\r\n      <div className={MomentStyles.ttp}>\r\n        <div className={MomentStyles.lftArr} />\r\n        <div className={MomentStyles.dtTTip}>{fullDate}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={MomentStyles.moment} >\r\n        <Row className={\"pt-2\"}>\r\n          <Col xs={7}>\r\n            <Link to={moment.owner.username} className=\"no-a\">\r\n              <div className={MomentStyles.wrpr}>\r\n                <img\r\n                  className={MomentStyles.profPic}\r\n                  src={moment.owner.profilePic}\r\n                />\r\n                <div\r\n                  className={MomentStyles.uname}\r\n                >{`${moment.owner.firstname} ${(moment.owner.lastname)?moment.owner.lastname : ''}`}</div>\r\n              </div>\r\n            </Link>\r\n          </Col>\r\n          <Col xs={5}>\r\n            <Row bsPrefix={MomentStyles.dtWrpr}>\r\n            {/* {<div className={MomentStyles.mtbl}>\r\n              <MeatballIco/>\r\n            </div>} */}\r\n            <OverlayTrigger\r\n              delay={100}\r\n              placement={\"right\"}\r\n              overlay={dateTooltip()}\r\n            >\r\n              <div className={MomentStyles.date}>{createDate}</div>\r\n            </OverlayTrigger>\r\n            </Row>\r\n            <Row>\r\n            <div className={MomentStyles.mtbl} onClick={menuBtn} >\r\n              <DropdownMenuMoment moment={moment} owned={owned} closeMenu={closeMenu} setCloseMenu={setCloseMenu}/>\r\n            </div>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <div className={MomentStyles.title}>{moment.title}</div>\r\n        {moment.files.length > 0 && (\r\n          <MomentImg img={moment.files[0]} openMoment={openMoment} />\r\n        )}\r\n        <div className={MomentStyles.desc} >\r\n          {renderDescription()}\r\n        </div>\r\n      </div>\r\n      <SelectedModal\r\n        show={selected}\r\n        closeMoment={closeMoment}\r\n        moment={moment}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMoment.propTypes = {\r\n  authUName : PropTypes.string.isRequired,\r\n  selectMenuInTimeLine : PropTypes.func.isRequired,\r\n  previousMenu : PropTypes.string.isRequired,\r\n  currentMenu : PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n  authUName : state.auth.username,\r\n  previousMenu : state.timelineUI.previouslySelectedDropdown,\r\n  currentMenu : state.timelineUI.currentlySelectedDropdown\r\n})\r\n\r\nexport default connect(mapStateToProps, {selectMenuInTimeLine}) (Moment);\r\n","import { DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE } from './types';\r\nimport { Dispatch } from 'redux';\r\n\r\nexport const selectMenuInTimeLine = (momentId : string) => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE,\r\n        payload : momentId\r\n    });\r\n}","import React from 'react'\r\nimport selectedImagesStyles from './SelectedImages.module.css';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faTimes} from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction SelectedImage(props : any) {\r\n    const {index, url} = props;\r\n\r\n    const removeImage = () => {\r\n        props.removeImage(index);\r\n    }\r\n\r\n    return (\r\n        <div className={selectedImagesStyles.imgWrpr}>\r\n            <div className={selectedImagesStyles.removeImg} onClick={removeImage}><FontAwesomeIcon icon={faTimes}/></div>\r\n            <img className={selectedImagesStyles.selectedImg} src={url}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedImage\r\n","import React, { useState, useEffect} from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport selectedImagesStyles from './SelectedImages.module.css';\r\nimport SelectedImage from './SelectedImage';\r\n\r\nfunction SelectedImages(props : any) {\r\n\r\n    const images = props.images;\r\n\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if(window.innerWidth <= 550){\r\n            setIsMobile(true);\r\n        }\r\n    },[]);\r\n\r\n    const renderImages = () => {\r\n        const requiredRows : number = images.length / 5;\r\n        const rows = [];\r\n        let pointer = 0;\r\n        if(isMobile){\r\n            for(let r = 0; r < requiredRows; r++){\r\n                const cols = [];\r\n                for(let c = 0; c < 5; c++){\r\n                    cols.push(<React.Fragment>{images[pointer] && <div className={selectedImagesStyles.wrapperContent} key={pointer}><SelectedImage index={pointer} url={URL.createObjectURL(images[pointer])} removeImage={props.removeImage}/></div>}</React.Fragment>);\r\n                    pointer++;\r\n                }\r\n                rows.push(<div key={r} className={`mb-4 ${selectedImagesStyles.wrapper}`}> {cols} </div>);\r\n            }\r\n        }else{\r\n            for(let r = 0; r < requiredRows; r++){\r\n                const cols = [];\r\n                for(let c = 0; c < 5; c++){\r\n                    cols.push(<Col key={pointer}>{images[pointer] && <SelectedImage index={pointer} url={URL.createObjectURL(images[pointer])} removeImage={props.removeImage}/>}</Col>);\r\n                    pointer++;\r\n                }\r\n                rows.push(<Row key={r} className='mb-4'> {cols} </Row>);\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {rows}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {renderImages()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectedImages\r\n","import React, {useRef, useEffect} from 'react'\r\nimport './DatePicker.css';\r\n\r\nfunction DatePicker(props : any) {\r\n    const datePickerElement : any = useRef();\r\n    const selectedDateElement : any = useRef();\r\n    const datesElement : any = useRef();\r\n    const mthElement : any = useRef();\r\n    const nextMthElement : any = useRef();\r\n    const prevMthElement : any = useRef();\r\n    const daysElement : any = useRef();\r\n\r\n    const months = ['Jan', 'Feb', 'Mar', 'April', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\n    let date = new Date();\r\n\r\n    let currentDay = date.getDate();\r\n    let currentMonth = date.getMonth();\r\n    let currentYear = date.getFullYear();\r\n    \r\n    let day = date.getDate();\r\n    let month = date.getMonth();\r\n    let year = date.getFullYear();\r\n\r\n    let selectedDate = date;\r\n    let selectedDay = day;\r\n    let selectedMonth = month;\r\n    let selectedYear = year;\r\n\r\n    let timeout : any; \r\n\r\n    useEffect(() => {\r\n        //if(mthElement.current)\r\n        //props.setDate(date);\r\n        mthElement.current.textContent =  months[month] + ' ' + year;\r\n        selectedDateElement.current.textContent = formatDate(date);\r\n        props.setDate(date);\r\n        populateDates();\r\n    })\r\n\r\n    const onFocusHandler = () => {\r\n        clearTimeout(timeout);\r\n    }\r\n\r\n    const hideCalender = () => {\r\n        timeout = setTimeout(() => {\r\n            datesElement.current.classList.toggle('active');\r\n          });\r\n    }\r\n\r\n    const toggleDatePicker = (e) => {\r\n        if(!datesElement.current.contains(e.target)){\r\n            datesElement.current.classList.toggle('active');\r\n        }\r\n    }\r\n\r\n    const goToNextMonth = () => {\r\n        month++;\r\n        if (month > 11) {\r\n            month = 0;\r\n            year++;\r\n        }\r\n        mthElement.current.textContent = months[month] + ' ' + year;\r\n        populateDates();\r\n    }\r\n\r\n    const goToPrevMonth = () => {\r\n        month--;\r\n        if (month < 0) {\r\n            month = 11;\r\n            year--;\r\n        }\r\n        mthElement.current.textContent = months[month] + ' ' + year;\r\n        populateDates();\r\n    }\r\n\r\n    const populateDates = () => {\r\n        daysElement.current.innerHTML = '';\r\n        let amount_days = 31;\r\n    \r\n        if (month == 1) {\r\n            amount_days = 28;\r\n        }\r\n    \r\n        for (let i = 0; i < amount_days; i++) {\r\n            const day_element : any = document.createElement('div');\r\n            day_element.classList.add('day');\r\n            day_element.classList.add('noselect');\r\n            day_element.textContent = i + 1;\r\n    \r\n            if (selectedDay == (i + 1) && selectedYear == year && selectedMonth == month) {\r\n                day_element.classList.add('selected');\r\n            }\r\n            \r\n            if(year <= currentYear){\r\n                if(month == currentMonth && (i + 1) <= currentDay){\r\n                    day_element.addEventListener('click', function () {\r\n                        selectedDate = new Date(year + '-' + (month + 1) + '-' + (i + 1));\r\n                        selectedDay = (i + 1);\r\n                        selectedMonth = month;\r\n                        selectedYear = year;\r\n        \r\n                        selectedDateElement.current.textContent = formatDate(selectedDate);\r\n                        selectedDateElement.current.dataset.value = selectedDate;\r\n            \r\n                        props.setDate(selectedDate);\r\n                        populateDates();\r\n                    });\r\n                }else if(month < currentMonth){\r\n                    day_element.addEventListener('click', function () {\r\n                        selectedDate = new Date(year + '-' + (month + 1) + '-' + (i + 1));\r\n                        selectedDay = (i + 1);\r\n                        selectedMonth = month;\r\n                        selectedYear = year;\r\n        \r\n                        selectedDateElement.current.textContent = formatDate(selectedDate);\r\n                        selectedDateElement.current.dataset.value = selectedDate;\r\n            \r\n                        props.setDate(selectedDate);\r\n                        populateDates();\r\n                    });\r\n                }\r\n            }\r\n            daysElement.current.appendChild(day_element);\r\n        }\r\n    }\r\n\r\n    const checkEventPathForClass = (path, selector) => {\r\n        for (let i = 0; i < path.length; i++) {\r\n            if (path[i].classList && path[i].classList.contains(selector)) {\r\n                return true;\r\n            }\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    const formatDate = (d : any) => {\r\n        let day = d.getDate();\r\n        if (day < 10) {\r\n            day = '0' + day;\r\n        }\r\n    \r\n        let month = d.getMonth() + 1;\r\n        if (month < 10) {\r\n            month = '0' + month;\r\n        }\r\n    \r\n        let year = d.getFullYear();\r\n    \r\n        return `${months[month - 1]} ${day}, ${year}`;\r\n    }\r\n    \r\n    return (\r\n        <div ref={datePickerElement} className={'datePicker noselect'}  onClick={toggleDatePicker} >\r\n\t\t<div className={'resDateWrape'}>\r\n            <div ref={selectedDateElement} className={'selectedDate noselect'} ></div>\r\n\t\t</div>\r\n        <div ref={datesElement} className={'dates'} >\r\n\t\t\t<div className={'month'}>\r\n\t\t\t\t<div ref={prevMthElement} className={`arrows arrowL prevMth noselect`} onClick={goToPrevMonth}>&lt;</div>\r\n\t\t\t\t<div ref={mthElement} className={`mth noselect`} ></div>\r\n\t\t\t\t<div ref={nextMthElement} className={`arrows arrowR nextMth noselect`} onClick={goToNextMonth}>&gt;</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div ref={daysElement} className={'days'}></div>\r\n\t\t</div>\r\n\t</div>\r\n    )\r\n}\r\n\r\nexport default DatePicker\r\n","import React, { useState, useEffect } from \"react\";\r\nimport addGroupStyles from \"./AddGroupModal.module.css\";\r\nimport { Modal, Row, Col } from \"react-bootstrap\";\r\nimport { searchUserQuery } from '../../../../actions/momentActions';\r\nimport { connect } from 'react-redux'; \r\nimport PropTypes from 'prop-types';\r\n\r\nconst AddGroupModal = (props: any) => {\r\n  const [display, setDisplay] = useState(true);\r\n  const [groupMates, setGroupMates] = useState<Map<string,string>>(new Map());\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showSuggestion, setShowSuggestion] = useState(true);\r\n  let _timeout : any;\r\n  let tagInput : any;\r\n\r\n    useEffect(() => {\r\n        let temp = props.userSearchResult;\r\n        temp = temp.filter((res : any) => {return !groupMates.has(res.username)});\r\n        setSearchResults(temp);\r\n    },[props.userSearchResult])\r\n\r\n    useEffect(() => {\r\n    if(searchQuery.trim().length === 0){\r\n    }       \r\n    }, [searchQuery])\r\n\r\n  const removeTag = (i : any) => {\r\n    const tempMap = new Map(groupMates);\r\n    tempMap.delete(i);\r\n    setGroupMates(tempMap);\r\n  }\r\n\r\n  const onSearchQueryChange = (event: any) => {\r\n    setSearchQuery(event.target.value);\r\n    if (event.target.value.trim().length > 0) {\r\n      //console.log('search q='+event.target.value);\r\n      props.searchUserQuery(event.target.value);\r\n    } else if(event.target.value.trim().length === 0 || event.target.value === \"\" || searchQuery === \"\") {\r\n      //console.log('clear suggestion');\r\n      setSearchResults([]);\r\n      //props.clearSearchResults();\r\n    }\r\n  };\r\n\r\n  const hideSuggestion = (event : any) => {\r\n     _timeout = setTimeout(() => {\r\n       if(showSuggestion)   \r\n         setShowSuggestion(false);\r\n      }, 0);\r\n      console.log(_timeout);\r\n  }\r\n\r\n  const onFocusHandler = (event : any) => {\r\n    console.log(_timeout);\r\n      clearTimeout(_timeout);\r\n  }\r\n\r\n  const selectMate = (username : string, firstname : string, lastname : string) => {\r\n    setShowSuggestion(false);\r\n    const tempMap = new Map(groupMates);\r\n    tempMap.set(username, `${firstname} ${(lastname) ? lastname : ''}`);\r\n    setGroupMates(tempMap);\r\n\r\n    let temp = searchResults;\r\n    temp = temp.filter((res : any) => {return username !== res.username});\r\n    setSearchResults(temp);\r\n  }\r\n\r\n  const renderGroupMates = () => {\r\n    const listRes : any = new Array<any>();\r\n\r\n      groupMates.forEach((fullname : string, username : string) => {\r\n        listRes.push(<li key={username}>\r\n                        {fullname}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            removeTag(username);\r\n                          }}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </li>)\r\n      })  \r\n      return listRes;\r\n  }\r\n\r\n  const addGroup = (event : any) => {\r\n    console.log(JSON.stringify(Array.from(groupMates.keys())));\r\n    props.setGroup(JSON.stringify(Array.from(groupMates.keys())));\r\n    props.setShowAddMates(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      dialogClassName={`${addGroupStyles.modalDialog}`}\r\n      {...props}\r\n      size=\"lg\"\r\n      centered\r\n    >\r\n      <div className={addGroupStyles.model}>\r\n        <div className={addGroupStyles.ttle}>\r\n          <div>Add groupmates</div>\r\n        </div>\r\n        <div>\r\n          <div className={addGroupStyles.input_tag}>\r\n            <ul className={addGroupStyles.input_tag__tags}>\r\n              {renderGroupMates()}\r\n            </ul>\r\n            <form className={addGroupStyles.frm}  onFocus={onFocusHandler}>\r\n                <input\r\n                    className={addGroupStyles.inp}\r\n                    type=\"text\"\r\n                    value={searchQuery}\r\n                    onChange={onSearchQueryChange}\r\n                    onFocus={() => setShowSuggestion(true)}\r\n                    placeholder={'Search groupmates'}\r\n                />\r\n                <div>\r\n                    {\r\n                    showSuggestion && searchResults.length > 0 && \r\n                    <ul className={addGroupStyles.ulo}>\r\n                      {\r\n                        searchResults.map((user : any) => \r\n                            <li key={user.username} className={addGroupStyles.lst} onClick={() => {selectMate(user.username, user.firstname, user.lastname)}}>\r\n                                <img/>\r\n                                <div>\r\n                                    <span>\r\n                                        {`${user.firstname}`}\r\n                                    </span>\r\n                                    {user.lastname && <span>\r\n                                        {` ${user.lastname}`}\r\n                                    </span>}\r\n                                </div>\r\n                            </li>                          \r\n                        ) \r\n                      }     \r\n                    </ul>\r\n                    }\r\n                </div>\r\n            </form>\r\n            \r\n          </div>\r\n        </div>\r\n        <div className={addGroupStyles.btnWrpr}>\r\n            <div className={addGroupStyles.btn} onClick={addGroup}>Add</div>\r\n            <div className={addGroupStyles.btn} onClick={() => props.setShowAddMates(false)}>Cancel</div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nAddGroupModal.propTypes = {\r\n    searchUserQuery : PropTypes.func.isRequired,\r\n    userSearchResult : PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    userSearchResult : state.moments.userSearchResult\r\n});\r\n\r\nexport default connect(mapStateToProps, {searchUserQuery}) (AddGroupModal);\r\n","import React, { useState, useEffect } from 'react'\r\nimport CreateMomentStyles from './CreateMoment.module.css';\r\nimport { Form } from 'react-bootstrap';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faImages, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport PropsTypes from 'prop-types';\r\nimport { ICreateMoment } from '../../../types/requestPayloads/moment';\r\nimport { createMoment } from '../../../actions/momentActions';\r\nimport SelectedImages from './SelectedImages';\r\nimport DatePicker from './datePicker/DatePicker';\r\nimport AddGroupModal from './addGroup/AddGroupModal';\r\nimport BootstrapSwitchButton from 'bootstrap-switch-button-react';\r\n\r\nfunction CreateMoment(props : any) {\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [images , setImages] = useState<Array<File>>([]);\r\n    //const [date, setDate] = useState(new Date());\r\n    let date = new Date();\r\n    const [imageswarning, setImagesWarning] = useState('');\r\n    const [showAddMates, setShowAddMates] = useState(false);\r\n    const [group, setGroup] = useState([]);\r\n    const [visibility, setVisibility] = useState(0);\r\n\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    useEffect(() => {\r\n      console.log(window.innerWidth);\r\n      if(window.innerWidth < 550)\r\n        setIsMobile(true);\r\n    },[]);\r\n\r\n    const setDate = (d) => {\r\n      date = d;  \r\n    }\r\n\r\n    const submitMoment = (event : any) => {\r\n      event.preventDefault();\r\n      if(title.trim() === \"\" && description.trim() === \"\" && images.length === 0){\r\n        window.alert('Please enter data');\r\n        return;\r\n      }\r\n      const newMoment : ICreateMoment = {\r\n        title,\r\n        description,\r\n        visibility,\r\n        images,\r\n        date,\r\n        group\r\n      }\r\n      console.log(newMoment);\r\n      props.createMoment(newMoment);\r\n    }\r\n\r\n    const onImagesSelect = (event : any) => {\r\n      //console.log(event.target);\r\n      let imageFiles : File[] = Object.values(event.target.files);\r\n      //console.log(JSON.stringify(imageFiles));\r\n      imageFiles = images.concat(imageFiles);\r\n\r\n      if(imageFiles.length > 10){\r\n        imageFiles = imageFiles.slice(0, 10);\r\n        setImagesWarning('maximum 10 photos are allowed per moment');\r\n      }\r\n      //console.log(imageFiles);\r\n      setImages(imageFiles);\r\n    }\r\n\r\n    const removeImage = (index : number) => {\r\n      //console.log(index);\r\n      //console.log(images)\r\n      let tImage = images.slice();\r\n      tImage.splice(index, 1);\r\n      //console.log(tImage)\r\n      setImages(tImage);\r\n    }\r\n\r\n    return (\r\n          <React.Fragment>\r\n          <Form >\r\n            <div className={CreateMomentStyles.createMoment1}>\r\n          <div className={CreateMomentStyles.createText}>Create your moment</div>  \r\n                <Form.Control className={`mb-2 ${CreateMomentStyles.cmInpt}`} type=\"text\" placeholder=\"Your moment title\" value={title} onChange={(e) => setTitle(e.target.value)}/>\r\n                <Form.Control className={`mb-2 ${CreateMomentStyles.cmInpttextarea}`} as=\"textarea\" rows={4} placeholder=\"Moment description\" value={description} onChange={(e) => setDescription(e.target.value)}/>\r\n                {imageswarning &&\r\n                    <div className=\"mb-2\">{imageswarning}</div>\r\n                }\r\n                {images.length !== 0 &&\r\n                  <SelectedImages images={images} removeImage={removeImage}/>\r\n                }\r\n                <div className={CreateMomentStyles.momentBtns}>\r\n                  <div className={CreateMomentStyles.uploadImgBtnGroup}>\r\n                    <button className={CreateMomentStyles.uploadImgBtn}><FontAwesomeIcon icon={faImages} size='2x' />&nbsp;<span>Add image</span></button>\r\n                    <input className={CreateMomentStyles.uploadImgInp} type=\"file\" id=\"img\" name=\"file\" accept=\"image/*\" onChange={onImagesSelect} multiple/>                  \r\n                  </div>\r\n                  <div><div className={CreateMomentStyles.addGrpBtn} onClick={() => setShowAddMates(true)}>Add group</div></div>\r\n                  {!isMobile &&\r\n                  <BootstrapSwitchButton checked={true} width={100} height={57} onlabel='private' offlabel='public' style={CreateMomentStyles.switchBtn} onChange={(checked : boolean) => { setVisibility(((checked) ? 0 : 1)) }}/>}\r\n                  <div className={CreateMomentStyles.calCov}>\r\n                    <DatePicker setDate={setDate}/>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n                <div className={CreateMomentStyles.createMmtBtnCov}>\r\n                {isMobile &&\r\n                  <React.Fragment><BootstrapSwitchButton checked={true} width={100} height={57} onlabel='private' offlabel='public' style={CreateMomentStyles.switchBtn} onChange={(checked : boolean) => { setVisibility(((checked) ? 0 : 1)) }}/><div>&nbsp;</div> </React.Fragment>}\r\n                    <button type=\"submit\" onClick = {submitMoment} className={`${CreateMomentStyles.createMmtBtn} btn`}><FontAwesomeIcon icon={faPlus} size='2x' />&nbsp;<span>Create moment</span></button>             \r\n                </div>\r\n          </Form>\r\n          <AddGroupModal show={showAddMates} setShowAddMates={setShowAddMates} group={group} setGroup={setGroup}/>\r\n          </React.Fragment>  \r\n    )\r\n}\r\n\r\nCreateMoment.propTypes = {\r\n  createMoment : PropsTypes.func.isRequired\r\n}\r\n\r\nexport default connect(null, {createMoment}) (CreateMoment);\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Row, Col} from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport PersonalMemoryLaneStyles from './PersonalMemoryLane.module.css';\r\nimport Moment from '../moment/Moment';\r\nimport CreateMoment from '../createMoment/CreateMoment';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getUserMoments, clearUserMoments } from '../../../actions/momentActions';\r\nimport ToggleButton from './toggleBtn/ToggleButton';\r\n\r\nfunction PersonalMemoryLane(props : any) {\r\n\r\n    const {username} = useParams();\r\n    const [moments, setMoments] = useState([]);\r\n    const [sortByCreationDate, setSortByCreationDate] = useState(false);\r\n    //const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n\r\n    });\r\n\r\n    useEffect(() => {\r\n        //console.log(\"get um\")\r\n        props.getUserMoments(username);\r\n        return () => {\r\n            props.clearUserMoments();\r\n        }\r\n    }, [username]);\r\n\r\n    useEffect(() => {\r\n        const tArr : Array<any> = Array.from(props.userMoments.values());\r\n        const compare = (sortByCreationDate) ? sortByCreationDt() : sortByMomentDt();\r\n        tArr.sort(compare);\r\n        setMoments(tArr);\r\n    }, [props.userMoments, sortByCreationDate]);\r\n\r\n    const sortByCreationDt = () => {\r\n        return (a : any, b : any) => {\r\n            let aDate = new Date(a.createdAt);\r\n            let bDate = new Date(b.createdAt);\r\n            if(aDate.getTime() < bDate.getTime()){\r\n                return 1;\r\n            }\r\n            if(aDate.getTime() > bDate.getTime()){\r\n                return -1;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    const sortByMomentDt = () => {\r\n        return (a : any, b : any) => {\r\n            let aDate = new Date(a.date);\r\n            let bDate = new Date(b.date);\r\n            if(aDate.getTime() < bDate.getTime()){\r\n                return 1;\r\n            }\r\n            if(aDate.getTime() > bDate.getTime()){\r\n                return -1;\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    const toggleSortType = () => {\r\n        setSortByCreationDate(!sortByCreationDate);\r\n    }\r\n\r\n    const renderMomentTitle = () => {\r\n        return (<div className={PersonalMemoryLaneStyles.ttl}>{(props.auth.username == username) ? <React.Fragment>Your</React.Fragment> : <React.Fragment>{props.firstname} {props.lastname}'s</React.Fragment>} personal memory lane</div>);\r\n    }\r\n\r\n    const renderMomentSortType = () => {\r\n       \r\n            return (\r\n                <div className={PersonalMemoryLaneStyles.mmtOrderTgl}>\r\n                        Show moments in&nbsp;\r\n                        <div className={`${PersonalMemoryLaneStyles.tglOpt} ${(sortByCreationDate)?(PersonalMemoryLaneStyles.tglSlctd):''}`} onClick={toggleSortType}>\r\n                            created date\r\n                        </div>\r\n                        &nbsp;or&nbsp;\r\n                        <div className={`${PersonalMemoryLaneStyles.tglOpt} ${(!sortByCreationDate)?(PersonalMemoryLaneStyles.tglSlctd):''}`} onClick={toggleSortType}>\r\n                            moment date\r\n                        </div>\r\n                        &nbsp;order\r\n                    </div>\r\n            )\r\n        \r\n    }\r\n\r\n    const renderMoments = () => {\r\n        return moments.map((moment : any) => \r\n            <Row key={moment.id}>\r\n                <Col key={moment.id}>\r\n                    <Moment key={moment.id} moment={moment} />\r\n                </Col>  \r\n            </Row>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={PersonalMemoryLaneStyles.memoryLaneP}>\r\n            {username === props.auth.username && \r\n            <div className={PersonalMemoryLaneStyles.lane}>\r\n                <CreateMoment/>\r\n                {\r\n                    (moments.length !== 0) && \r\n                        <div className={PersonalMemoryLaneStyles.ttlCov}>\r\n                            {renderMomentTitle()}\r\n                            {renderMomentSortType()}\r\n                        </div>\r\n                }\r\n            </div>} \r\n            <div className={PersonalMemoryLaneStyles.prsnlMryLnContainer}>\r\n                    {renderMoments()}\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nPersonalMemoryLane.propTypes = {\r\n    userMoments : PropTypes.any.isRequired,\r\n    getUserMoments : PropTypes.func.isRequired,\r\n    clearUserMoments : PropTypes.func.isRequired,\r\n    auth : PropTypes.object.isRequired,\r\n    firstname : PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    userMoments : state.moments.userMoments,\r\n    auth : state.auth,\r\n    firstname : state.profile.firstname,\r\n    lastname : state.profile.lastname\r\n});\r\n\r\nexport default connect(mapStateToProps, {getUserMoments, clearUserMoments}) (PersonalMemoryLane)\r\n","import React from 'react'\r\nimport FriendListStyle from './FriendList.module.css';\r\n\r\nfunction FriendListItem(props : any) {\r\n    const {firstname, lastname, username, profileImage} = props.friend;\r\n    return (\r\n        <div className={FriendListStyle.frndLstItm}>\r\n            <img className={FriendListStyle.prfImg} src={profileImage}/>\r\n            <div className={FriendListStyle.flNm}>{`${firstname} ${lastname ? lastname : ''}`}</div>\r\n            <div className={FriendListStyle.uN}>{username}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendListItem\r\n","import React, { useEffect, useState } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getFriendsList } from '../../../actions/relationshipActions';\r\nimport FriendListItem from './FriendListItem';\r\nimport FriendListStyle from './FriendList.module.css';\r\n\r\nfunction FriendsList(props : any) {\r\n    \r\n    const [friends, setFriends] = useState([]);\r\n\r\n    useEffect(() => {\r\n        props.getFriendsList();\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        setFriends(props.friends);\r\n    },[props.friends])\r\n\r\n    return (\r\n        <div className={FriendListStyle.wrpr}>\r\n        {friends.map((friend : any) => {\r\n            return (<FriendListItem friend = {friend}/>)\r\n        })};        \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    friends : state.relationship.friends\r\n})\r\n\r\nexport default connect(mapStateToProps, {getFriendsList}) (FriendsList)\r\n","import React, { useState } from 'react'\r\nimport Profile from './profile/Profile'\r\nimport Header from '../header/Header'\r\nimport { Container } from 'react-bootstrap';\r\nimport PersonalMemoryLane from './personalMemoryLane/PersonalMemoryLane';\r\nimport FriendsList from './friendsList/FriendsList';\r\n\r\nfunction Main() {\r\n    const [profileOption, setProfileOption] = useState(0);\r\n    \r\n    const renderSelectedOption = () => {\r\n      switch(profileOption){\r\n        case 0:\r\n          {\r\n            return(\r\n              <PersonalMemoryLane/>\r\n            );\r\n          } \r\n          break;\r\n        case 1:\r\n          {\r\n            return(\r\n              <FriendsList/>\r\n            );\r\n          } \r\n      }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <Container>\r\n            <Profile profileOption={profileOption} setProfileOption={setProfileOption}/>\r\n            {\r\n              renderSelectedOption()\r\n            }\r\n          </Container>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import { GET_PROFILE_DATA, GET_PROFILE_IMAGE } from '../actions/types';\r\n\r\ninterface IProfile{\r\n    username : string,\r\n    email : string,\r\n    firstname : string,\r\n    lastname : string,\r\n    phone : string,\r\n    createdAt : Date,\r\n    profileImage : string\r\n}\r\n\r\nconst initialState : IProfile = {\r\n    username : '',\r\n    email : '',\r\n    firstname : '',\r\n    lastname : '',\r\n    phone : '',\r\n    createdAt : new Date(),\r\n    profileImage : ''\r\n};\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case GET_PROFILE_DATA : \r\n            return {\r\n                ...state,\r\n                username : actions.payload.username,\r\n                email : actions.payload.email,\r\n                firstname : actions.payload.firstname,\r\n                lastname : actions.payload.lastname,\r\n                phone : actions.payload.phone,\r\n                createdAt : actions.payload.createdAt,\r\n                profileImage : actions.payload.profileImage\r\n            }\r\n        break;\r\n        case GET_PROFILE_IMAGE:\r\n            return {\r\n                ...state,\r\n                profileImage : actions.payload.profileImage\r\n            }\r\n        default: \r\n            return state;\r\n    }\r\n}","import { FETCH_USER } from '../actions/types';\r\n\r\ninterface IAuth {\r\n    isAuth : boolean,\r\n    username : string,\r\n    id : string\r\n}\r\n\r\n\r\nconst initialState : IAuth = {\r\n    isAuth : false,\r\n    username : '',\r\n    id : ''\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case FETCH_USER :\r\n            //console.log(actions);\r\n            return {\r\n                ...state,\r\n                isAuth : actions.payload.isAuth,\r\n                username : actions.payload.username,\r\n                id : actions.payload.id\r\n            }\r\n        break;\r\n        default: \r\n            return state;\r\n    }\r\n}","import { GET_ERROR, GET_LOGIN_ERROR, GET_REGISTER_ERROR } from '../actions/types';\r\n\r\ninterface IError {\r\n    message : string,\r\n    login : string,\r\n    register : string\r\n}\r\n\r\nconst initialState : IError = {\r\n    message : '',\r\n    login : '',\r\n    register : ''\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case GET_ERROR:\r\n            return {\r\n                ...state,\r\n                message : actions.payload\r\n            }\r\n        case GET_LOGIN_ERROR:\r\n            return {\r\n                ...state,\r\n                login : actions.payload\r\n            }\r\n        case GET_REGISTER_ERROR:\r\n            return {\r\n                ...state,\r\n                register : actions.payload\r\n            }\r\n        default:\r\n            return state;            \r\n    }\r\n}","import { SHOW_LOGIN_PANEL, SHOW_REGISTER_PANEL, CLOSE_LOGIN_REGISTER_PANEL, GET_USER_DETAILS_HEADER, GET_SEARCH_RESULTS } from '../actions/types';\r\n\r\ninterface IHeaderState {\r\n    showLoginPanel : boolean,\r\n    showRegisterPanel : boolean,\r\n    username : string,\r\n    profileImage : string,\r\n    searchResults : Array<any>\r\n}\r\n\r\nconst initialState : IHeaderState = {\r\n    showLoginPanel : false,\r\n    showRegisterPanel : false,\r\n    username : '',\r\n    profileImage : '',\r\n    searchResults : []\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case SHOW_LOGIN_PANEL:\r\n            return {\r\n                ...state,\r\n                showLoginPanel : true,\r\n                showRegisterPanel : false\r\n            }\r\n        case SHOW_REGISTER_PANEL:\r\n            return {\r\n                ...state,\r\n                showLoginPanel : false,\r\n                showRegisterPanel : true\r\n            }\r\n        case CLOSE_LOGIN_REGISTER_PANEL:\r\n            return {\r\n                ...state,\r\n                showLoginPanel : false,\r\n                showRegisterPanel : false\r\n            }\r\n        case GET_USER_DETAILS_HEADER:\r\n            //console.log(actions.profileImage);\r\n            return{\r\n                ...state,\r\n                username : actions.payload.username,\r\n                profileImage : actions.payload.profileImage\r\n            }\r\n        case GET_SEARCH_RESULTS:\r\n            return{\r\n                ...state,\r\n                searchResults : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { CREATE_MOMENT, GET_USER_MOMENTS, CLEAR_USER_MOMENTS, DELETE_USER_MOMENTS, UPDATE_USER_MOMENTS, GET_USER_SEARCH_RESULT } from '../actions/types';\r\nimport { IMomentResponse } from '../types/responseTypes/moment';\r\n\r\nconst initialState = {\r\n    userMoments : new Map<string, IMomentResponse>(),\r\n    userSearchResult : new Array<any>()\r\n    // updating : false,\r\n    // updated : false \r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case CREATE_MOMENT:\r\n            return {\r\n                ...state,\r\n                userMoments : createMoment(actions.payload, state.userMoments)\r\n            }\r\n        case GET_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : getMoments(actions.payload, state.userMoments)\r\n            }\r\n        case  DELETE_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : deleteMoment(actions.payload, state.userMoments)\r\n            }\r\n        case UPDATE_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : updateMoment(actions.payload, state.userMoments),\r\n                // updated : true,\r\n                // updating : false\r\n            }\r\n        case CLEAR_USER_MOMENTS:\r\n            return {\r\n                ...state,\r\n                userMoments : new Map()\r\n            }\r\n        case GET_USER_SEARCH_RESULT:\r\n            return {\r\n                ...state,\r\n                userSearchResult : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst createMoment = (payload : IMomentResponse, userMoment : any) => {\r\n    //const tUserMoment : any = {}\r\n    //tUserMoment.moments = [payload, ...userMoment.moments]\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    newUserMoment.set(payload.id, payload);\r\n    return new Map(newUserMoment);\r\n}\r\n\r\nconst getMoments = (payload : Array<IMomentResponse>, userMoment : any) => {\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    payload.map(moment => {\r\n        newUserMoment.set(moment.id, moment);\r\n    })\r\n    return new Map(newUserMoment);\r\n} \r\n\r\nconst updateMoment = (payload : IMomentResponse, userMoment : any) => {\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    newUserMoment.set(payload.id, payload);\r\n    return new Map(newUserMoment);\r\n}\r\n\r\nconst deleteMoment = (payload : any, userMoment : any) => {\r\n    const newUserMoment : Map<string, IMomentResponse> = userMoment;\r\n    newUserMoment.delete(payload.momentId);\r\n    return new Map(newUserMoment);\r\n}\r\n\r\n","import { GET_MEMORIES, CREATE_MEMORY, DELETE_MEMORY } from '../actions/types';\r\nimport { IMemoryResponse, IMemoriesResponse } from '../types/responseTypes/memory';\r\n\r\nconst initialState = {\r\n                    //momentId => (memoryId, memory)\r\n    memoriesMap : new Map<string, Map<string, IMemoryResponse>>()\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case CREATE_MEMORY:\r\n            return {\r\n                ...state,\r\n                memoriesMap : createMemory(actions.payload, state)\r\n            }\r\n        case GET_MEMORIES:\r\n            return {\r\n                ...state,\r\n                memoriesMap : getMemories(actions.payload, state)\r\n            }\r\n        case DELETE_MEMORY:\r\n            return {\r\n                ...state,\r\n                memoriesMap : deleteMemory(actions.payload, state)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst createMemory = (payload : any, state : any) => {\r\n    const newMemory: IMemoryResponse = payload.memory\r\n\r\n    let memories  : Map<string, IMemoryResponse> = state.memoriesMap.get(payload.moment);\r\n    if(memories){\r\n        memories.set(newMemory.id, newMemory);\r\n    }else{\r\n        memories = new Map([[newMemory.id, newMemory]]);\r\n    }\r\n\r\n    let newMemoriesMap : Map<string, Map<string, IMemoryResponse>> = state.memoriesMap;\r\n    newMemoriesMap.set(payload.moment, memories);\r\n    console.log(newMemoriesMap)\r\n    return new Map(newMemoriesMap);\r\n}\r\n\r\nconst getMemories = (payload : IMemoriesResponse, state : any) => {\r\n    const memoriesPayload : Array<IMemoryResponse> = payload.memories;\r\n    console.log(memoriesPayload);\r\n    const newMemoriesMap : Map<string, Map<string, IMemoryResponse>> = state.memoriesMap;\r\n    let memories : Map<string, IMemoryResponse> = state.memoriesMap.get(payload.moment);\r\n    if(!memories){\r\n        memories = new Map();\r\n    }\r\n    for(const memory of memoriesPayload){\r\n        memories.set(memory.id, memory);\r\n    }\r\n    //memories = Array(...memories, ...memoriesPayload);\r\n    newMemoriesMap.set(payload.moment, memories);\r\n    console.log(newMemoriesMap);\r\n    return new Map(newMemoriesMap);\r\n}\r\n\r\nconst deleteMemory = (memoryDetails : any, state : any) => {\r\n    //Current moment which contains the deleted memory\r\n    const tempMemoriesMap =  state.memoriesMap;\r\n    const moment : Map<string, IMemoryResponse> = tempMemoriesMap.get(memoryDetails.moment);\r\n    moment.delete(memoryDetails.memory);\r\n    tempMemoriesMap.set(memoryDetails.memory, moment);\r\n\r\n    return new Map(tempMemoriesMap);\r\n}","import { DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    //id of the moment\r\n    previouslySelectedDropdown : '',\r\n    currentlySelectedDropdown : ''\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case DROPDOWN_SELECTED_ON_MOMENT_IN_TIMELINE:\r\n            return {\r\n                ...state,\r\n                previouslySelectedDropdown : state.currentlySelectedDropdown,\r\n                currentlySelectedDropdown : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { GET_RELATIONSHIP_STATUS, GET_FRIENDS_LIST } from '../actions/types';\r\n\r\nconst initState = {\r\n    relationshipStatus : {},\r\n    friends : []\r\n}\r\n\r\nexport default (state : any = initState, actions : any) => {\r\n    switch(actions.type){\r\n        case GET_RELATIONSHIP_STATUS:\r\n            return {\r\n                ...state,\r\n                relationshipStatus : getStatus(actions.payload)\r\n            }\r\n        case GET_FRIENDS_LIST:\r\n            return {\r\n                ...state,\r\n                friends : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst getStatus = (payload : any) => {\r\n    switch(payload.status){\r\n        case -1:\r\n            return {status : \"NotFriends\"};\r\n        case 0:\r\n            return {status : \"Pending\", userAction : payload.userAction};\r\n        case 1:\r\n            return {status : \"Accepted\", userAction : payload.userAction};\r\n        case 2:\r\n            return {status : \"Declined\", userAction : payload.userAction};\r\n        case 3:\r\n            return {status : \"Blocked\", userAction : payload.userAction};\r\n    }\r\n}\r\n\r\n","import { LOAD_MEMORY_LANE, LOAD_PUBLIC_MEMORY_LANE } from '../actions/types';\r\n \r\nconst initialState = {\r\n    frndsMoments : [],\r\n    publicMoments : []\r\n}\r\n\r\nexport default (state : any = initialState, actions : any) => {\r\n    switch(actions.type){\r\n        case LOAD_MEMORY_LANE:\r\n            return {\r\n                ...state,\r\n                frndsMoments : actions.payload\r\n            }\r\n        case LOAD_PUBLIC_MEMORY_LANE:\r\n            return {\r\n                ...state,\r\n                publicMoments : actions.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst loadMoments = (moments : any, state : any) => {\r\n    let temp = state.moments;\r\n    temp = [...temp, ...moments];\r\n    return temp;\r\n}","import {combineReducers} from 'redux';\r\nimport profileReducer from './profileReducer';\r\nimport authReducer from './authReducer';\r\nimport errorReducer from './errorReducer';\r\nimport headerReducer from './headerReducer';\r\nimport momentReducer from './momentReducer';\r\nimport memoryReducer from './memoryReducer';\r\nimport timelineUIReducer from './timelineUIReducer';\r\nimport relationshipReducer from './relationshipReducer';\r\nimport memoryLaneReducer from './memoryLaneReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    auth : authReducer,\r\n    profile : profileReducer,\r\n    error : errorReducer,\r\n    header : headerReducer,\r\n    moments : momentReducer,\r\n    memories : memoryReducer,\r\n    timelineUI : timelineUIReducer,\r\n    relationship : relationshipReducer,\r\n    memoryLane : memoryLaneReducer\r\n});\r\n\r\nexport default rootReducer;\r\nexport type RootState = ReturnType<typeof rootReducer>","import { createStore, applyMiddleware, compose, Store } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nlet store : Store;\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION__\r\n    }\r\n}\r\n\r\nconst ReactReduxDevTools = (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\r\n(window as any).__REDUX_DEVTOOLS_EXTENSION__()\r\n\r\nif(window.navigator.userAgent.includes(\"Chrome\") && ReactReduxDevTools){\r\n    store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        composeWithDevTools(    \r\n            applyMiddleware(...middleware)\r\n        )\r\n    )\r\n} else {\r\n    store = createStore(\r\n        rootReducer,\r\n        initialState,\r\n        compose(\r\n            applyMiddleware(...middleware)\r\n        )\r\n    )\r\n}\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\n\r\nconst setAuthToken = (token : any) => {\r\n    if(token){\r\n        //Apply auth header to all reqs\r\n        axios.defaults.headers.common['Authorization'] = token;\r\n    }else{\r\n        //Delete auth header\r\n        delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setAuthToken;","import { FETCH_USER, SET_CURRENT_USER, GET_ERROR, CLOSE_LOGIN_REGISTER_PANEL, SHOW_LOGIN_PANEL, GET_REGISTER_ERROR, GET_LOGIN_ERROR } from './types';\r\nimport { Dispatch, AnyAction }  from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport axios from 'axios';\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\n\r\nexport const fetchUserData = () => async (dispatch : Dispatch) => {\r\n    try{\r\n        \r\n        const res = await axios.get('/api/v0/auth/current_user');\r\n        // console.log(\"userdata\");\r\n        // console.log(res);\r\n        \r\n        dispatch({\r\n            type : FETCH_USER,\r\n            payload : res.data\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const loginUser = (loginCreds : any, history : any) => async (dispatch : Dispatch) => {\r\n    try{    \r\n        const res = await axios.post(\"/api/v0/auth/signin\", loginCreds);\r\n        //console.log(res);\r\n        \r\n        const token = res.data.token;\r\n        //save to local storage\r\n        localStorage.setItem('jwtToken', token);\r\n        //set token to auth header\r\n        setAuthToken(token);\r\n        //Decode token\r\n        const decoded = jwt_decode(token);\r\n        //console.log(decoded);\r\n        \r\n        //set current user\r\n        dispatch(setCurrentUser(decoded));\r\n        dispatch({\r\n            type : CLOSE_LOGIN_REGISTER_PANEL\r\n        })\r\n        history.push('/');\r\n    }catch(err){\r\n        if(err.response){\r\n            console.log(err.response.data);\r\n            dispatch({\r\n                type : GET_LOGIN_ERROR,\r\n                payload : (Object.values(err.response.data)[0])\r\n            })    \r\n        }\r\n    }\r\n}\r\n\r\nexport const registerUser = (userData : any, history : any) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const res = await axios.post(`/api/v0/auth/register`, userData);\r\n        console.log(res);\r\n        dispatch({\r\n            type : SHOW_LOGIN_PANEL\r\n        });\r\n    }catch(err){\r\n        console.log(err.response.data);\r\n        dispatch({\r\n            type : GET_REGISTER_ERROR,\r\n            payload : (Object.values(err.response.data)[0])\r\n        })\r\n    }\r\n}\r\n\r\nexport const setQueryToLocal = (token : any, history : any) => async (dispatch : Dispatch) => {\r\n    //save to local storage\r\n    localStorage.setItem('jwtToken', token);\r\n    //set token to auth header\r\n    setAuthToken(token);\r\n    //Decode token\r\n    const decoded = jwt_decode(token);\r\n    //console.log(decoded);\r\n    \r\n    //set current user\r\n    dispatch(setCurrentUser(decoded));\r\n    history.push('/');\r\n}\r\n\r\n//Set logged in user \r\nexport const setCurrentUser = (decoded : any) => {\r\n    return({\r\n        type : FETCH_USER,\r\n        payload : decoded\r\n    })\r\n}\r\n\r\n//Logout\r\nexport const logout = ()  => {\r\n    //Remove token\r\n    localStorage.removeItem(\"jwtToken\");\r\n    //Remove auth header\r\n    setAuthToken(false);\r\n    window.location.href = \"/\";\r\n    //Set current user to {} to set isAuthenticated to false\r\n    return (setCurrentUser({isAuth : false, username : ''}))\r\n}\r\n","import { SHOW_LOGIN_PANEL, SHOW_REGISTER_PANEL, CLOSE_LOGIN_REGISTER_PANEL, GET_USER_DETAILS_HEADER, GET_SEARCH_RESULTS } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const showLoginPanel = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : SHOW_LOGIN_PANEL\r\n    });\r\n}\r\n\r\nexport const showRegisterPanel = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : SHOW_REGISTER_PANEL\r\n    });\r\n}\r\n\r\nexport const closeLoginRegisterPanel = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : CLOSE_LOGIN_REGISTER_PANEL\r\n    });\r\n}\r\n\r\nexport const getHeaderDetails = (username : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/profile/${username}?head=1`);\r\n        dispatch({\r\n            type : GET_USER_DETAILS_HEADER,\r\n            payload : result.data\r\n        })\r\n        //console.log(result.data);\r\n        dispatch({\r\n            type : GET_USER_DETAILS_HEADER,\r\n            payload : result.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const searchTheQuery = (query : string) => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`/api/v0/search/${query}`);\r\n        console.log(result.data);\r\n        dispatch({\r\n            type : GET_SEARCH_RESULTS,\r\n            payload : result.data\r\n        });\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n} \r\n\r\nexport const clearSearchResults = () => (dispatch : Dispatch) => {\r\n    dispatch({\r\n        type : GET_SEARCH_RESULTS,\r\n        payload : []\r\n    })\r\n}","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal, Form, Button } from 'react-bootstrap'\r\nimport fblogo from '../../images/login/fblogo.png'\r\nimport googleLogo from '../../images/login/googlelogo.png'\r\nimport './LoginModel.css';\r\nimport {loginUser} from '../../actions/authActions';\r\nimport { showRegisterPanel, closeLoginRegisterPanel } from '../../actions/headerActions';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nfunction LoginModel(props : any) {\r\n    const history = useHistory();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        setError(props.loginError);\r\n    },[props.loginError]);\r\n\r\n    const login = (e : any) => {\r\n        e.preventDefault();\r\n        props.loginUser({email, password}, history.push('/'));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <Modal dialogClassName={\"modal-lgn\"} show={props.show} centered>\r\n        <Modal.Header>\r\n            <h6>Sign in</h6>\r\n            <span className=\"closeBtn\" onClick={() => props.closeLoginRegisterPanel()}>&#10005;</span>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <div className=\"other-login\">\r\n                <a className=\"fb-btn mr-1\" href=\"/api/v0/auth/facebook/\"><div ><img className=\"fb-ico\" src={fblogo}/><span className=\"fb-link-style\">facebook</span></div></a>\r\n                <a className=\"google-btn ml-1\" href=\"/api/v0/auth/google/\"><div ><img className=\"google-ico\" src={googleLogo}/><span className=\"google-link-style\">google</span></div></a>\r\n            </div>\r\n            <Form onSubmit={(e : any) => login(e)}>\r\n                <Form.Control className=\"login-field mt-3\" type=\"text\" placeholder=\"username or email\" value={email} onChange={e => setEmail(e.target.value)} autoComplete=\"on\" required/>\r\n                <Form.Control className=\"login-field mt-2 mb-2\" type=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)} autoComplete=\"on\" required/>\r\n                {error !== '' &&\r\n                <div className=\"lgnErr\">{error}</div>}\r\n                <Button className=\"login-btn mt-3\" type=\"submit\">Sign in</Button>\r\n            </Form>\r\n            <div className=\"text-center mt-2 mb-3\">New here?<span className=\"sign-up-link\" onClick={() => { props.showRegisterPanel()}}> Sign up</span></div>\r\n        </Modal.Body>\r\n        </Modal>  \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nLoginModel.propTypes = {\r\n    loginUser : PropTypes.func.isRequired,\r\n    showRegisterPanel : PropTypes.func.isRequired,\r\n    closeLoginRegisterPanel : PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    loginError : state.error.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {loginUser, showRegisterPanel, closeLoginRegisterPanel}) (LoginModel);\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Modal, Form, Button } from 'react-bootstrap';\r\nimport { } from '../../actions/types';\r\nimport { registerUser } from '../../actions/authActions';\r\nimport { closeLoginRegisterPanel } from '../../actions/headerActions';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport \"./RegisterModel.css\"\r\n\r\nfunction RegisterModel(props : any) {\r\n\r\n    const history = useHistory(); \r\n\r\n    const [email, setEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        setError(props.registerError);\r\n    },[props.registerError]);\r\n\r\n    const registerUser = (event : any) => {\r\n        event.preventDefault();\r\n        const newUser = {\r\n            email,\r\n            username,\r\n            password,\r\n            confirmPassword\r\n        }\r\n        props.registerUser(newUser, history);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n           <Modal dialogClassName=\"modal-lgn\" show={props.show} centered>\r\n        <Modal.Header>\r\n            <h6>Sign up</h6>\r\n            <span className=\"closeBtn\" onClick={() => props.closeLoginRegisterPanel()}>&#10005;</span>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={registerUser}>\r\n                <Form.Control className=\"login-field mt-2\" type=\"email\" placeholder=\"email\" value={email} onChange={e => setEmail(e.target.value)} required/>\r\n                <Form.Control className=\"login-field mt-2\" type=\"text\" placeholder=\"username\" value={username} onChange={e => setUsername(e.target.value)} required/>\r\n                <Form.Control className=\"login-field mt-2 mb-2\" type=\"password\" placeholder=\"password\" value={password} onChange={e => setPassword(e.target.value)} required/>\r\n                <Form.Control className=\"login-field mt-2 mb-2\" type=\"password\" placeholder=\"confirm password\" value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)} required/>\r\n                <div className=\"text-center ml-3 mt-3 privacy-container\"><input className=\"cb mr-1\" type=\"checkbox\" required/><p>I agree to the</p><span className=\"ml-1 to-privacy-terms\">terms of service</span></div>\r\n                {error !== '' &&\r\n                <div className=\"rgstrErr\">{error}</div>}\r\n                <Button className=\"login-btn mb-3\" type=\"submit\">Register</Button>\r\n            </Form>\r\n        </Modal.Body>\r\n        </Modal> \r\n        </div>\r\n    )\r\n}\r\n\r\nRegisterModel.propTypes = {\r\n    registerUser : PropTypes.func.isRequired,\r\n    closeLoginRegisterPanel : PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    registerError : state.error.register\r\n});\r\n\r\nexport default connect(mapStateToProps, {registerUser, closeLoginRegisterPanel}) (RegisterModel);\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nfunction UserImg(props : any) {\r\n    const [src, setSrc] = useState('');\r\n\r\n    useEffect(() => {\r\n        setSrc(props.img);\r\n    },[props]);\r\n    \r\n    const onError = () => {\r\n        setSrc(\"https://firebasestorage.googleapis.com/v0/b/memory-lane-68e6c.appspot.com/o/prodef.png?alt=media&token=8e86bcd7-1651-40db-8dc7-93328e995243\");\r\n    }\r\n\r\n    return (\r\n        <img src={src} style={{width : '40px', height : '40px', borderRadius : '50%', objectFit : 'cover'}} alt=\"\" onError={onError}/>\r\n    )\r\n}\r\n\r\nexport default UserImg\r\n","import React, { useEffect } from 'react';\r\nimport searchResultsStyles from './SearchResults.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction SearchResults(props : any) {\r\n\r\n    const {searchResults, showSuggestion, hideSuggestion} = props;\r\n\r\n    useEffect(() =>{\r\n      \r\n    },[]);\r\n\r\n    const onResultClick = () => {\r\n      hideSuggestion();\r\n    }\r\n\r\n    const renderSuggestions = () => {\r\n          return (\r\n            <React.Fragment>\r\n              {\r\n                searchResults.map((result: any) => \r\n                  <li key={result.username} className={searchResultsStyles.li} onClick={onResultClick}>\r\n                    <Link  className={searchResultsStyles.resWrpr} to={result.username}>\r\n                      <img src={result.profileImage} />\r\n                      <div><span>{`${result.firstname}`}</span>{result.lastname && <span>{` ${result.lastname}`}</span>} </div>\r\n                      </Link>\r\n                  </li>\r\n                )\r\n              }\r\n            </React.Fragment>\r\n          );\r\n      };\r\n\r\n    return (\r\n      <div className={searchResultsStyles.wrpr}>\r\n      {showSuggestion && searchResults.length > 0 && <React.Fragment>\r\n        <div className={searchResultsStyles.upArr}></div>\r\n        <ul className={searchResultsStyles.ulo}>{renderSuggestions()}</ul>\r\n        </React.Fragment>}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default SearchResults\r\n","import React, {useState, useEffect} from 'react';\r\nimport { FormControl, Form } from 'react-bootstrap';\r\nimport searchBarStyles from './SearchBar.module.css';\r\nimport {\r\n    searchTheQuery,\r\n    clearSearchResults\r\n  } from \"../../actions/headerActions\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchResults from './SearchResults';\r\n\r\nfunction SearchBar(props : any) {\r\n\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [showSuggestion, setShowSuggestion] = useState(false);\r\n    let timeout : any; \r\n\r\n    useEffect(() => {\r\n        setSearchResults(props.searchResults);\r\n        console.log(props.searchResults);\r\n      },[props.searchResults])\r\n\r\n    useEffect(() => {\r\n      if(searchQuery.trim().length === 0){\r\n        console.log(`clear`);\r\n        props.clearSearchResults();\r\n      }       \r\n    }, [searchQuery])\r\n\r\n    const onSearchQueryChange = (event: any) => {\r\n        setSearchQuery(event.target.value);\r\n        if (event.target.value.trim().length > 0) {\r\n          //console.log('search q='+event.target.value);\r\n          props.searchTheQuery(event.target.value);\r\n        } else if(event.target.value.trim().length === 0 || event.target.value === \"\" || searchQuery === \"\") {\r\n          //console.log('clear suggestion');\r\n          setSearchResults([]);\r\n          props.clearSearchResults();\r\n        }\r\n      };\r\n\r\n    const onInputFieldFocus = () => {\r\n      //setSearchResults(props.searchResults);\r\n      unHideSuggestion();\r\n    }\r\n    \r\n    const hideSuggestion = (event : any) => {\r\n      timeout = setTimeout(() => {\r\n        if(showSuggestion){\r\n          setShowSuggestion(false);\r\n        }\r\n      });\r\n    }\r\n\r\n    const onFocusHandler = () => {\r\n      clearTimeout(timeout);\r\n    }\r\n\r\n    const unHideSuggestion = () => {\r\n      if(!showSuggestion){\r\n        setShowSuggestion(true);\r\n      }\r\n    }\r\n\r\n    return (\r\n        <Form inline onBlur={hideSuggestion} onFocus={onFocusHandler}>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Search people\"\r\n                className={searchBarStyles.searchBar}\r\n                value={searchQuery}\r\n                onChange={onSearchQueryChange}\r\n                onFocus={onInputFieldFocus}\r\n              />\r\n              <SearchResults searchResults={searchResults} showSuggestion={showSuggestion} hideSuggestion={hideSuggestion}/>\r\n        </Form>\r\n    )\r\n}\r\n\r\nSearchBar.propTypes = {\r\n    searchTheQuery: PropTypes.func.isRequired,\r\n    clearSearchResults: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    searchResults: state.header.searchResults\r\n  });\r\n\r\nexport default connect(mapStateToProps, {\r\n    searchTheQuery,\r\n    clearSearchResults\r\n  })(SearchBar);\r\n","import React, { useState, useEffect, StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  Navbar,\r\n  NavDropdown,\r\n  Form,\r\n  Button,\r\n  Nav,\r\n  FormControl,\r\n  Dropdown\r\n} from \"react-bootstrap\";\r\nimport headerStyles from \"./Header.module.css\";\r\nimport LoginModel from \"../auth/LoginModel\";\r\nimport RegisterModel from \"../auth/RegisterModel\";\r\nimport { fetchUserData, logout } from \"../../actions/authActions\";\r\nimport {\r\n  showLoginPanel,\r\n  showRegisterPanel,\r\n  getHeaderDetails\r\n} from \"../../actions/headerActions\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserImg from \"./UserImg\";\r\nimport SearchBar from \"./SearchBar\";\r\n\r\nconst Header = (props: any) => {\r\n  //const {username} = useParams();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [profileImage, setProfileImage] = useState(\"\");\r\n  const [showLoginModal, setShowLoginModal] = useState(false);\r\n  const [showSignUpModal, setShowSignUpModal] = useState(false);\r\n  \r\n\r\n  useEffect(() => {}, []);\r\n\r\n  useEffect(() => {\r\n    if (props.auth.isAuth) {\r\n      setUsername(props.auth.username);\r\n      props.getHeaderDetails(props.auth.username);\r\n    }\r\n  }, [props.auth.username]);\r\n\r\n  useEffect(() => {\r\n    if (props.auth.isAuth) {\r\n      setProfileImage(props.profileImage);\r\n    }\r\n  }, [props.profileImage]);\r\n\r\n  useEffect(() => {\r\n    \r\n      setShowLoginModal(props.headerState.showLoginPanel);\r\n      setShowSignUpModal(props.headerState.showRegisterPanel);\r\n    \r\n  }, [props.headerState]);\r\n\r\n  \r\n  const showSignin = () => {\r\n    props.showLoginPanel();\r\n  };\r\n\r\n  const showSignUp = () => {\r\n    props.showRegisterPanel();\r\n  };\r\n\r\n  const renderHeader = () => {\r\n    if (!props.auth.isAuth) {\r\n      return (\r\n        <React.Fragment>\r\n          <Nav className=\"mr-auto\">\r\n          </Nav>\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            className={headerStyles.signinButton}\r\n            onClick={() => showSignin()}\r\n          >\r\n            Sign in\r\n          </Button>\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            className={headerStyles.signinButton}\r\n            onClick={() => showSignUp()}\r\n          >\r\n            Sign up\r\n          </Button>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className={`mr-auto ${headerStyles.clpse}`}>\r\n              <SearchBar />\r\n            </Nav>\r\n            <Nav className={headerStyles.clpse}>\r\n            <Link className={headerStyles.Userlink} to={`/${username}`}>\r\n              <UserImg img={profileImage} />\r\n              <div className={headerStyles.uName}>{username}</div>\r\n            </Link>\r\n            </Nav>\r\n            <Nav className={headerStyles.clpse}>\r\n              <Button\r\n                variant=\"outline-primary\"\r\n                className={headerStyles.signinButton}\r\n                onClick={(e: any) => props.logout()}\r\n              >\r\n                Sign out\r\n              </Button>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={`${headerStyles.header} ${headerStyles.fxdTp}`}>\r\n        <Navbar bg=\"light\" variant=\"light\" expand=\"sm\">\r\n          <Link to=\"/\">\r\n            <Navbar.Brand href=\"\" className={headerStyles.logo}>\r\n              Memory lane\r\n            </Navbar.Brand>\r\n          </Link>\r\n          {renderHeader()}\r\n        </Navbar>\r\n      </div>\r\n      <div className={headerStyles.btmMrgn}></div>\r\n      <LoginModel show={showLoginModal} />\r\n      <RegisterModel show={showSignUpModal} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  fetchUserData: PropTypes.func.isRequired,\r\n  logout: PropTypes.func.isRequired,\r\n  //getProfileImage : PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  profileImage: PropTypes.string.isRequired,\r\n  showLoginPanel: PropTypes.func.isRequired,\r\n  showRegisterPanel: PropTypes.func.isRequired,\r\n  headerState: PropTypes.object.isRequired,\r\n  getHeaderDetails: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  auth: state.auth,\r\n  profileImage: state.header.profileImage,\r\n  //username : state.header.username,\r\n  headerState: state.header\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchUserData,\r\n  logout,\r\n  showLoginPanel,\r\n  showRegisterPanel,\r\n  getHeaderDetails\r\n})(Header);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Moment from \"../moment/Moment\";\r\nimport { Row, Col, Container } from \"react-bootstrap\";\r\nimport memoryLaneStyles from \"./MemoryLane.module.css\";\r\nimport { fetchUserData, setQueryToLocal } from \"../../../actions/authActions\";\r\nimport { loadMemoryLane, loadPublicMemoryLane } from \"../../../actions/memoryLaneActions\";\r\nimport {\r\n  showLoginPanel,\r\n  showRegisterPanel\r\n} from \"../../../actions/headerActions\";\r\nimport { connect, useStore } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport LoginModel from \"../../auth/LoginModel\";\r\nimport RegisterModel from \"../../auth/RegisterModel\";\r\n\r\nfunction MemoryLane(props: any) {\r\n  const history = useHistory();\r\n\r\n  const [frndsMoments, setFrndsMoments] = useState([]);\r\n  const [publicMoments, setPublicMoments] = useState([]);\r\n  const [frndsMmt, setFrndsMmt] = useState(true);\r\n  //const [memoryLaneLoading, setMemoryLaneLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!props.auth.isAuth) {\r\n      const paramString: string = props.location.search;\r\n      const params = new URLSearchParams(paramString);\r\n      console.log(params.get(\"do\"));\r\n      if (params.get(\"success\") && params.get(\"token\")) {\r\n        props.setQueryToLocal(params.get(\"token\"), history);\r\n      } else if (params.get(\"do\")) {\r\n        if (params.get(\"do\") === \"signin\") {\r\n          props.showLoginPanel();\r\n        } else if (params.get(\"do\") === \"register\") {\r\n          props.showRegisterPanel();\r\n        }\r\n      }\r\n    } else {\r\n      //setMemoryLaneLoading(true);\r\n      //console.log('init call '+memoryLaneLoading);\r\n      props.loadMemoryLane();\r\n    }\r\n  }, [props.auth.isAuth]);\r\n\r\n  useEffect(() => {\r\n    \r\n    const tArr: Array<any> = Array.from(props.frndsMoments.values());\r\n    // console.log(tArr);\r\n    // console.log('inside out '+memoryLaneLoading);\r\n    // if(tArr.length === 0 && memoryLaneLoading){\r\n    //   console.log('inside true');\r\n    //   toggleLaneType(1);\r\n    //   setMemoryLaneLoading(false);\r\n    //   return;\r\n    // }\r\n    //setMemoryLaneLoading(false);\r\n    tArr.sort(sortByCreationDt());\r\n    setFrndsMoments(tArr);\r\n  }, [props.frndsMoments]);\r\n\r\n  useEffect(() => {\r\n    const tArr: Array<any> = Array.from(props.publicMoments.values());\r\n    tArr.sort(sortByCreationDt());\r\n    setPublicMoments(tArr);\r\n  }, [props.publicMoments]);\r\n\r\n  const toggleLaneType = (type : number) => {\r\n    if(type === 0){\r\n      if(frndsMmt) return;\r\n      //setMemoryLaneLoading(true);\r\n      props.loadMemoryLane();\r\n      setFrndsMmt(true);\r\n    }else{\r\n      if(!frndsMmt) return;\r\n      props.loadPublicMemoryLane();\r\n      setFrndsMmt(false);\r\n    }\r\n  }\r\n\r\n  const sortByCreationDt = () => {\r\n    return (a: any, b: any) => {\r\n      let aDate = new Date(a.createdAt);\r\n      let bDate = new Date(b.createdAt);\r\n      if (aDate.getTime() < bDate.getTime()) {\r\n        return 1;\r\n      }\r\n      if (aDate.getTime() > bDate.getTime()) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    };\r\n  };\r\n\r\n  const renderMoments = () => {\r\n    if(frndsMmt){\r\n      return frndsMoments.map((moment : any) => (\r\n        <Row key={moment.id}>\r\n          <Col key={moment.id}>\r\n            <Moment key={moment.id} moment={moment} />\r\n          </Col>\r\n        </Row>\r\n      ));\r\n    }else{\r\n      return publicMoments.map((moment : any) => (\r\n        <Row key={moment.id}>\r\n          <Col key={moment.id}>\r\n            <Moment key={moment.id} moment={moment} />\r\n          </Col>\r\n        </Row>\r\n      ));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Container>\r\n        {props.auth.isAuth &&\r\n          <div className={memoryLaneStyles.fxTp}>\r\n          <div className={memoryLaneStyles.btnWrpr}>\r\n              <div className={frndsMmt ? memoryLaneStyles.laneSlctd : memoryLaneStyles.laneBtn} onClick={() => toggleLaneType(0)}>Friends</div><div>&nbsp;</div>\r\n              <div className={!frndsMmt ? memoryLaneStyles.laneSlctd : memoryLaneStyles.laneBtn} onClick={() => toggleLaneType(1)}>Public</div>\r\n          </div>\r\n        </div>}\r\n        <div className={memoryLaneStyles.memoryLane}>{renderMoments()}</div>\r\n      </Container>\r\n      <LoginModel show={false} />\r\n      <RegisterModel show={false} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMemoryLane.propTypes = {\r\n  fetchUserData: PropTypes.func.isRequired,\r\n  setQueryToLocal: PropTypes.func.isRequired,\r\n  showLoginPanel: PropTypes.func.isRequired,\r\n  showRegisterPanel: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  loadMemoryLane: PropTypes.func.isRequired,\r\n  loadPublicMemoryLane: PropTypes.func.isRequired,\r\n  frndsMoments: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  auth: state.auth,\r\n  frndsMoments: state.memoryLane.frndsMoments,\r\n  publicMoments: state.memoryLane.publicMoments,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchUserData,\r\n  setQueryToLocal,\r\n  showLoginPanel,\r\n  showRegisterPanel,\r\n  loadMemoryLane,\r\n  loadPublicMemoryLane\r\n})(MemoryLane);\r\n","import { LOAD_MEMORY_LANE, LOAD_PUBLIC_MEMORY_LANE } from './types';\r\nimport { Dispatch } from 'redux';\r\nimport axios from 'axios';\r\n\r\nexport const loadMemoryLane = () => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`api/v0/timeline/friends`);\r\n        console.log(result);\r\n        dispatch({\r\n            type : LOAD_MEMORY_LANE,\r\n            payload : result.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport const loadPublicMemoryLane = () => async (dispatch : Dispatch) => {\r\n    try{\r\n        const result = await axios.get(`api/v0/timeline/public`);\r\n        console.log(result);\r\n        dispatch({\r\n            type : LOAD_PUBLIC_MEMORY_LANE,\r\n            payload : result.data\r\n        })\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ProtectedRoute = ({component : Component, auth , ...otherProps} : any) => (\r\n    <Route \r\n        {...otherProps}\r\n        render = { props =>\r\n            auth.isAuth === true ? (\r\n                <Component {...props} />\r\n            ) \r\n            :\r\n            (\r\n                <Redirect to='/?do=signin' />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nProtectedRoute.propTypes = {\r\n    auth : PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state : any) => ({\r\n    auth : state.auth\r\n})\r\n\r\nexport default connect(mapStateToProps)(ProtectedRoute);","import React from 'react';\nimport './App.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css'\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport Main from './components/main/Main';\nimport store from './store';\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Header from './components/header/Header';\nimport MemoryLane from './components/main/memoryLane/MemoryLane';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logout } from \"./actions/authActions\";\nimport ProtectedRoute from './utils/ProtectedRoute';\n\n//Check for token\nif(localStorage.jwtToken){\n  //set auth token\n  setAuthToken(localStorage.jwtToken);\n  //Decode token and get user data\n  const decoded : any = jwt_decode(localStorage.jwtToken);\n  //Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n  //Check for expired token\n  const currentTime = Date.now() / 1000;\n  if(decoded.exp < currentTime){\n    //Logout user\n    store.dispatch(logout());\n    //store.dispatch(setCurrentUser({}));\n    //Clear data\n    window.location.href = \"/\";\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n        <Router>\n        <Header/>\n        <Route exact path=\"/\" component={MemoryLane}/>\n        {/* <Route exact path=\"/:username\" component={Main}/> */}\n        <Switch>\n          <ProtectedRoute exact path=\"/:username\" component={Main}/>\n        </Switch>\n        </Router>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moment\":\"Moment_moment__2Kge4\",\"title\":\"Moment_title__1JC0h\",\"desc\":\"Moment_desc__3wzKt\",\"uname\":\"Moment_uname__PdWxW\",\"date\":\"Moment_date__BTlXp\",\"profPic\":\"Moment_profPic__2Q5mx\",\"wrpr\":\"Moment_wrpr__2C-tA\",\"dtTTip\":\"Moment_dtTTip__3gTCO\",\"lftArr\":\"Moment_lftArr__1izjC\",\"ttp\":\"Moment_ttp__15dar\",\"mtbl\":\"Moment_mtbl__1JCIz\",\"showMoreBtn\":\"Moment_showMoreBtn__2a3CE\",\"dtWrpr\":\"Moment_dtWrpr__sZSpA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedMoment\":\"SelectedMoment_selectedMoment__33H_M\",\"lftCov\":\"SelectedMoment_lftCov__35zBF\",\"imgFNameCont\":\"SelectedMoment_imgFNameCont__2x2SA\",\"uname\":\"SelectedMoment_uname__3tCy5\",\"profPicSm\":\"SelectedMoment_profPicSm__1-4l7\",\"title\":\"SelectedMoment_title__3OQt0\",\"desc\":\"SelectedMoment_desc__3wZ7z\",\"clMoment\":\"SelectedMoment_clMoment__3iWAo\",\"crMoment\":\"SelectedMoment_crMoment__2XH6c\",\"imgNav\":\"SelectedMoment_imgNav__3B9wv\",\"lAr\":\"SelectedMoment_lAr__spZ4h\",\"rAr\":\"SelectedMoment_rAr__2GgUP\",\"rw1Ht\":\"SelectedMoment_rw1Ht__pFJVS\",\"rw2Ht\":\"SelectedMoment_rw2Ht__2_pgN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createMoment1\":\"CreateMoment_createMoment1__2gSzi\",\"createText\":\"CreateMoment_createText__aKK8m\",\"cmInpt\":\"CreateMoment_cmInpt__36HKx\",\"form-control\":\"CreateMoment_form-control__3G59H\",\"cmInpttextarea\":\"CreateMoment_cmInpttextarea__3cuu1\",\"uploadImgInp\":\"CreateMoment_uploadImgInp__zhNkp\",\"uploadImgBtn\":\"CreateMoment_uploadImgBtn__2jxnD\",\"addGrpBtn\":\"CreateMoment_addGrpBtn__e0BN0\",\"momentBtns\":\"CreateMoment_momentBtns__3_DZR\",\"dateSelectBtn\":\"CreateMoment_dateSelectBtn__DbwMm\",\"createMmtBtnCov\":\"CreateMoment_createMmtBtnCov__2ZGgx\",\"createMmtBtn\":\"CreateMoment_createMmtBtn__1BqiG\",\"uploadImgBtnGroup\":\"CreateMoment_uploadImgBtnGroup__2BSxA\",\"calCov\":\"CreateMoment_calCov__5CQf6\",\"switchBtn\":\"CreateMoment_switchBtn__3TMkk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"model\":\"AddGroupModal_model__1AnUN\",\"modalDialog\":\"AddGroupModal_modalDialog__31VHV\",\"ttle\":\"AddGroupModal_ttle__1a5ha\",\"input_tag\":\"AddGroupModal_input_tag__2Mi2i\",\"input_tag__tags\":\"AddGroupModal_input_tag__tags__3jrno\",\"input_tag__tags__input\":\"AddGroupModal_input_tag__tags__input__2IhxM\",\"inp\":\"AddGroupModal_inp__25YtT\",\"btnWrpr\":\"AddGroupModal_btnWrpr__2OOeZ\",\"btn\":\"AddGroupModal_btn__2CCXY\",\"ulo\":\"AddGroupModal_ulo__82fOl\",\"lst\":\"AddGroupModal_lst__2ADmi\",\"frm\":\"AddGroupModal_frm__3ntd-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__1GkLh\",\"signinButton\":\"Header_signinButton__2H0K8\",\"header\":\"Header_header__1ZdXi\",\"fxdTp\":\"Header_fxdTp__3HZid\",\"uName\":\"Header_uName__2irb6\",\"Userlink\":\"Header_Userlink__1BJ3a\",\"btmMrgn\":\"Header_btmMrgn__YA-Ef\",\"clpse\":\"Header_clpse__2mUt3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memoriesTitle\":\"Memories_memoriesTitle__TlFjt\",\"delIco\":\"Memories_delIco__gQtUU\",\"memLiCov\":\"Memories_memLiCov__2NgCd\",\"adMem\":\"Memories_adMem__1ZN7t\",\"memWrapr\":\"Memories_memWrapr__29O2r\",\"li\":\"Memories_li__2VZNP\",\"memTxt\":\"Memories_memTxt__3i2ef\",\"Mrywrpr\":\"Memories_Mrywrpr__fkHo3\",\"memUsrNm\":\"Memories_memUsrNm__1XNp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memoryLaneP\":\"PersonalMemoryLane_memoryLaneP__3xVto\",\"lane\":\"PersonalMemoryLane_lane__2b4pi\",\"mmtOrderTgl\":\"PersonalMemoryLane_mmtOrderTgl__3cvBM\",\"tglOpt\":\"PersonalMemoryLane_tglOpt__2yapj\",\"tglSlctd\":\"PersonalMemoryLane_tglSlctd__1rz_j\",\"ttl\":\"PersonalMemoryLane_ttl__MlrMG\",\"prsnlMryLnContainer\":\"PersonalMemoryLane_prsnlMryLnContainer__3oVHR\",\"ttlCov\":\"PersonalMemoryLane_ttlCov__3wIMF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drpdwnLst\":\"DropdownMenuMoment_drpdwnLst__3C6MB\",\"lst\":\"DropdownMenuMoment_lst__2M5on\",\"lstItm\":\"DropdownMenuMoment_lstItm__1RVS_\",\"arwUp\":\"DropdownMenuMoment_arwUp__1OFpR\",\"arwWrpr\":\"DropdownMenuMoment_arwWrpr__1bTtM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"prfImg\":\"ProfileImage_prfImg__PQQV8\",\"cnt\":\"ProfileImage_cnt__1Q8Ht\",\"pIOverlay\":\"ProfileImage_pIOverlay__1sLts\",\"openOverlay\":\"ProfileImage_openOverlay__26Cfz\",\"camCov\":\"ProfileImage_camCov__1e5MQ\",\"camIco\":\"ProfileImage_camIco__iRRQO\",\"uploadImgInp\":\"ProfileImage_uploadImgInp__3Z4Ng\",\"uploadImgBtn\":\"ProfileImage_uploadImgBtn__17TTb\",\"prfsvg\":\"ProfileImage_prfsvg__3b83i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"memoryLane\":\"MemoryLane_memoryLane__1fnPe\",\"fxTp\":\"MemoryLane_fxTp__3mKds\",\"btnWrpr\":\"MemoryLane_btnWrpr__nk-1C\",\"laneBtn\":\"MemoryLane_laneBtn__1mZBH\",\"laneSlctd\":\"MemoryLane_laneSlctd__2YG2P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedImg\":\"SelectedImages_selectedImg__1Mg2S\",\"removeImg\":\"SelectedImages_removeImg__2smz7\",\"imgWrpr\":\"SelectedImages_imgWrpr__1m2_O\",\"imgCol\":\"SelectedImages_imgCol__1R9qv\",\"wrapper\":\"SelectedImages_wrapper__1Dw_P\",\"wrapperContent\":\"SelectedImages_wrapperContent__1wCdL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrpr\":\"FriendList_wrpr__1sBTI\",\"frndLstItm\":\"FriendList_frndLstItm__2IOGF\",\"prfImg\":\"FriendList_prfImg__3l4wV\",\"flNm\":\"FriendList_flNm__1tlnS\",\"uN\":\"FriendList_uN__3-Kb6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"MeatballIco_circle__1OsE-\",\"menu__wrapper\":\"MeatballIco_menu__wrapper__10n92\",\"menu_item_meatball\":\"MeatballIco_menu_item_meatball__3KqyD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrpr\":\"SearchResults_wrpr__3fxwg\",\"ulo\":\"SearchResults_ulo__3jixd\",\"li\":\"SearchResults_li__q6PvN\",\"upArr\":\"SearchResults_upArr__xQrwc\",\"resWrpr\":\"SearchResults_resWrpr__3xiKV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedModel\":\"SelectedModal_selectedModel__2Tocz\",\"lftCov\":\"SelectedModal_lftCov__JMPqi\",\"modal-dialog\":\"SelectedModal_modal-dialog__3aQ0X\",\"closeBtn\":\"SelectedModal_closeBtn__3Ofz0\",\"drpdwn\":\"SelectedModal_drpdwn__1Lg4m\",\"trBtnWrpr\":\"SelectedModal_trBtnWrpr__1GG6p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedModel\":\"EditMomentModal_selectedModel__36abm\",\"lftCov\":\"EditMomentModal_lftCov__WE-Aq\",\"modal-dialog\":\"EditMomentModal_modal-dialog__ak-wY\",\"closeBtn\":\"EditMomentModal_closeBtn__1_ias\",\"drpdwn\":\"EditMomentModal_drpdwn__2NWns\",\"trBtnWrpr\":\"EditMomentModal_trBtnWrpr__1c0jl\",\"backdrop\":\"EditMomentModal_backdrop__2aMto\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inpTa\":\"AddMemory_inpTa__1TznV\",\"bttmDiv\":\"AddMemory_bttmDiv__1M9rC\",\"adMryBtn\":\"AddMemory_adMryBtn___qywQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedImg\":\"EditImg_selectedImg__3OqrY\",\"imgCov\":\"EditImg_imgCov__sp2C9\",\"imgCol\":\"EditImg_imgCol__STE9H\",\"removeImg\":\"EditImg_removeImg__dH-vV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedImg\":\"SelectedImg_selectedImg__3UObM\",\"container\":\"SelectedImg_container__Ff6fh\",\"img-plh\":\"SelectedImg_img-plh__ait0N\"};"],"sourceRoot":""}